"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4246],{54246:function(e,t,o){o.r(t);var i=o(35944),n=o(92809),a=o(91288),r=o(14494),l=o(67294),c=o(10542),d=o(1688),s=o(8252),u=o(72396),p=o(43865),h=o(1349),m=o(33249),g=o(16604),f=o(25957),v=o(47624),C=o(73365),y=o(34259),w=o(73467),Z=o(97673),P=o(37867),_=o(52064),b=o(90172),S=o(18565),x=o(84650),D=o(6313),T=o(72894);function A(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?A(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):A(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var I=(0,a.default)(c.Z).withConfig({displayName:"PlusCourseCard__CourseThumbnail",componentId:"sc-2hhczh-0"})(["width:272px;height:",";@media only screen and (max-width:47.95em){width:100%;border-radius:0;}"],(function(e){return"horizontal"===e.orientation&&"152px"})),N=(0,a.default)(D.W2).withConfig({displayName:"PlusCourseCard__CardContainer",componentId:"sc-2hhczh-1"})(["display:flex;flex:1;overflow:hidden;flex-direction:",";@media only screen and (max-width:47.95em){flex:auto;}"],(function(e){return"horizontal"===e.orientation?"row":"column"})),L=(0,a.default)(s.Z).withConfig({displayName:"PlusCourseCard__ColorThumbnail",componentId:"sc-2hhczh-2"})(["width:100%;height:100%;"]),O=a.default.div.withConfig({displayName:"PlusCourseCard__DefaultThumbnail",componentId:"sc-2hhczh-3"})(["position:relative;overflow:hidden;border-radius:",";"],_.t8.Rw),E=(0,a.default)(p.Z).withConfig({displayName:"PlusCourseCard__ProgressTag",componentId:"sc-2hhczh-4"})(["background-color:var(--color-i-black);color:var(--color-i-white);margin-right:",";"],_.t8.Rw),B=(0,a.default)(D.w5).withConfig({displayName:"PlusCourseCard__Tag",componentId:"sc-2hhczh-5"})(["position:static;"]),z=(0,a.default)(u.Z).withConfig({displayName:"PlusCourseCard__StyledProgressbar",componentId:"sc-2hhczh-6"})(["&.MuiLinearProgress-root{height:",";border-radius:0px "," "," ",";}"],_.t8.A1,_.t8.Rw,_.t8.Rw,_.t8.Rw),j=(0,a.default)(z).withConfig({displayName:"PlusCourseCard__CourseProgressbar",componentId:"sc-2hhczh-7"})(["position:absolute;left:0px;bottom:0px;"]),R=a.default.div.withConfig({displayName:"PlusCourseCard__TagsWrapper",componentId:"sc-2hhczh-8"})(["position:absolute;left:",";bottom:",";"],_.t8.BM,_.t8.Be),X=function(e){var t,o,n,a=e.gridColumn,c=e.orientation,s=e.className,u=e.course,p=e.toggleEnroll,A=e.cardType,z=e.topic,X=e.type,M=e.imageBorderRadius,U=e.showProgress,F=e.dataAnalytics,W=e.index,H=e.label,V=e.lastPrimarySource,Y=e.updateRecentSearchLog,K=e.searchData,G=u.authors,$=(null===u||void 0===u?void 0:u.goalUid)||(null===u||void 0===u||null===(t=u.goal)||void 0===t?void 0:t.uid),q=(0,C.Z)($),J=(0,r.useDispatch)(),Q=(0,r.useSelector)((function(e){var t;return(null===(t=e.courses.data[null===u||void 0===u?void 0:u.uid])||void 0===t?void 0:t.isEnrolled)||!1})),ee=(0,r.useSelector)((function(e){return e.auth.isLoggedIn})),te=(0,Z.Z)({goalUID:$}),oe=(0,P.Z)({course:u}),ie=(0,l.useMemo)((function(){var e=null;return e=q?Q?m.Z:h.Z:g.Z,(0,i.tZ)(e,{size:_.t8.zj})}),[Q,q]);if(!u)return null;var ne=u.isLive,ae=u.isOngoing,re=function(e){e.stopPropagation(),e.preventDefault(),p(u.uid,Q,k(k({},te),oe))},le=function(){var e,t=ee&&q&&u.itemCount>0&&U,o=ae&&!ne&&f.ZP.isSameDay(new Date(null===(e=u.nextTrack)||void 0===e?void 0:e.liveAtString),new Date);return(0,i.BX)(i.HY,{children:[!u.isSpecial&&(u.forPlus||"syllabus"===X)&&(0,i.tZ)(D.a0,{onClick:q?re:void 0,iconProps:{hovDisabled:!0},isEnrolled:Q,disableHover:!q,dataAnalytics:"".concat(F,"-courseEnroll"),children:ie}),!t&&o&&u.nextTrack.liveAtString&&(0,i.tZ)(D.w5,{type:"filled",children:f.ZP.getTime(u.nextTrack.liveAtString)}),!t&&ne&&(0,i.tZ)(D.w5,{type:"live",children:"Live"}),t&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(j,{width:"100%",value:u.lessonsCompleted/u.itemCount*100,backgroundColor:"var(--color-overlay)",overlayColor:"var(--color-i-green)"}),(0,i.BX)(R,{children:[(0,i.tZ)(E,{type:"filled",children:"".concat(u.lessonsCompleted," / ").concat(u.itemCount," COMPLETED")}),o&&u.nextTrack.liveAtString&&(0,i.tZ)(B,{type:"filled",children:f.ZP.getTime(u.nextTrack.liveAtString)}),ne&&(0,i.tZ)(B,{type:"live",children:"Live"})]})]})]})},ce=function(){var e=u||{},t=e.uid||"";if("search"===X){var o=k({},K);delete o.query,w.EX.track(x.dW7,k(k(k({},te),o),{},{index:W,is_plus:e.forPlus,is_special:e.isSpecial,object_type:x.DWc.course,object_id:t,educator_uid:(0,b.$V)(G),educator_username:(0,b.$V)(G,"username"),educator_name:(0,b.$V)(G,"name")}),S.xK.WITHOUT_CATEGORY),J(Y(k(k({},K),{},{entity_id:"".concat(K.entity_type,":").concat(t),goal_uid:$})))}var i={index:W,"Last Primary Source":V};i["Last Primary Source Section"]=H||y.Z.getItem("lpss"),J((0,w.ZP)("".concat(F,"-courseCard"),t,u,i)),"lesson page"===V&&w.EX.track(u.isSpecial?"CLX Lesson View":"Course Viewed",{last_primary_source:V,last_primary_source_section:H,course_uid:u.uid,course_title:u.name,start_date:u.startsAt,end_date:u.endsAt,educator_uid:(0,b.nt)(u.authors,"uid",",",","),educator_username:(0,b.nt)(u.authors,"username",",",",")})};return(0,i.BX)(N,{className:s,gridColumn:a,orientation:c,children:[(0,i.tZ)(d.Z,{href:v.ZP.getLinkPath(u),as:v.ZP.getLink(u),onClick:ce,children:!u.thumbnail&&null!==(o=u.goal)&&void 0!==o&&o.colorCode?(0,i.BX)(I,{as:O,orientation:c,children:[(0,i.tZ)(L,{color:null===(n=u.goal)||void 0===n?void 0:n.colorCode}),(0,i.tZ)(le,{})]}):(0,i.tZ)(I,{imgUrl:u.thumbnail,orientation:c,borderRadius:M,"data-analytics":"".concat(F,"-courseCard"),children:(0,i.tZ)(le,{})})}),(0,i.tZ)(T.Z,{handleAnalytics:ce,orientation:c,course:u,cardType:A,topic:z,updateRecentSearchLog:Y,searchData:K,type:X})]})};t.default=X,X.defaultProps={gridColumn:"span 6",className:"",orientation:"vertical",cardType:"all_cards",topic:{},type:"",imageBorderRadius:"0px",showProgress:!1,dataAnalytics:"",lastPrimarySource:"",label:"",updateRecentSearchLog:function(){},searchData:{}}},72894:function(e,t,o){var i=o(35944),n=o(14494),a=o(91288),r=o(43736),l=o(62319),c=o(57002),d=o(43865),s=o(1688),u=o(25957),p=o(47624),h=o(86590),m=o(52064),g=a.default.div.withConfig({displayName:"PlusCourseCardDetails__Wrapper",componentId:"sc-1a6lfa5-0"})(["display:flex;flex:1;flex-direction:column;justify-content:space-between;background-color:var(--color-base-1);text-align:left;padding:"," ",";"],m.t8.BM,(function(e){return"horizontal"===e.orientation?m.t8.BY:m.t8.BM})),f=(0,a.default)(d.Z).withConfig({displayName:"PlusCourseCardDetails__TopicGroupTag",componentId:"sc-1a6lfa5-1"})(["text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding:0;width:100%;max-width:none;@media only screen and (max-width:47.95em){font-size:10px;}"]),v=a.default.div.withConfig({displayName:"PlusCourseCardDetails__BreadCrumbs",componentId:"sc-1a6lfa5-2"})(["padding-bottom:",";display:grid;grid-template-columns:max-content 1fr;grid-column-gap:",";align-items:center;@media only screen and (max-width:47.95em){padding-bottom:4px;}"],m.t8.Rw,m.t8.Rw),C=(0,a.default)(c.Z).withConfig({displayName:"PlusCourseCardDetails__CourseTitle",componentId:"sc-1a6lfa5-3"})(["padding-bottom:",";color:var(--color-text-primary);@media only screen and (max-width:47.95em){padding-bottom:0;font-size:16px;}"],m.t8.MK),y=(0,a.default)(l.Z).withConfig({displayName:"PlusCourseCardDetails__CourseInfo",componentId:"sc-1a6lfa5-4"})(["padding-top:",";padding-bottom:",";@media only screen and (max-width:47.95em){padding-bottom:0;margin-bottom:",";}"],m.t8.MK,m.t8.MK,m.t8.BM),w=(0,a.default)(l.Z).withConfig({displayName:"PlusCourseCardDetails__EducatorName",componentId:"sc-1a6lfa5-5"})(["padding-top:",";color:var(--color-text-primary);"],m.t8.Rw),Z=function(e){return e?u.ZP.getTime(e):""},P=function(e){var t,o,a,l,c,m,P,_=e.orientation,b=e.course,S=e.showScheduleInfo,x=e.cardType,D=e.topic,T=e.handleAnalytics,A=(0,n.useSelector)((function(e){return e.helper.isMobile}));if(!b)return null;var k=b.language,I=b.name,N=b.authors,L=b.topicGroups,O=function(){var e=b.isOngoing,t=b.isCompleted,o=b.isUpcoming,i=b.isLive,n=b.nextTrack;if(!n)return"";var a=n.rank,r=new Date(n.liveAtString);if(void 0===a||Number.isNaN(+r))return"";if(i)return"Lesson ".concat(a," \u2022 Started at ").concat(Z(n.liveAtString));if(e)return u.ZP.isSameDay(r,new Date)?"Lesson ".concat(a," \u2022 Today, ").concat(Z(n.liveAtString)):"Lesson ".concat(a," \u2022 ").concat(u.ZP.getFullDate(n.liveAtString)," ").concat(Z(n.liveAtString));if(o){var l=b.itemCount,c=b.liveClassCount,d=b.startsAt;return b.isSpecial?"Starts on ".concat(u.ZP.dateWithTime(d)):"Starts on ".concat(u.ZP.getFullDate(d)," \u2022 ").concat(l||c||0," lessons")}if(t){var s=b.itemCount,p=b.liveClassCount,h=b.endsAt;return b.isSpecial?"Ended on ".concat(u.ZP.getFullDate(h)):"Ended on ".concat(u.ZP.getFullDate(h)," \u2022 ").concat(s||p||0," lessons")}}(),E=b.authors&&h.ZP.isLegendEducator(b.authors[0]),B={uid:null===L||void 0===L||null===(t=L[0])||void 0===t?void 0:t.uid,name:(null===L||void 0===L||null===(o=L[0])||void 0===o?void 0:o.name)||""};D&&D.uid&&(B={uid:D.uid,name:D.name});return(0,i.BX)(g,{orientation:_,children:[(0,i.BX)("div",{children:[E?null:(0,i.BX)(v,{children:[k&&""!==k?(0,i.tZ)(d.Z,{type:"hollow",children:k}):null,null!==(a=B)&&void 0!==a&&a.uid?(0,i.tZ)(s.Z,{href:"/goal/[goalSlug]/[goalUID]/topic/[topicUid]",as:"/goal/".concat(null===(l=b.goal)||void 0===l?void 0:l.goalSlug,"/").concat(null===(c=b.goal)||void 0===c?void 0:c.uid,"/topic/").concat(B.uid),anchorStyle:"display: inline-block;min-width: 0;line-height: 1;",onClick:function(e){A&&e.preventDefault()},children:(0,i.tZ)(f,{type:"transparent",children:B.name})}):null]}),(0,i.tZ)(s.Z,{href:p.ZP.getLinkPath(b),as:p.ZP.getLink(b),onClick:function(){T()},children:(0,i.tZ)(C,{lineClamp:2,as:"h4",children:I})}),S&&(0,i.tZ)(i.HY,{children:O?(0,i.BX)(y,{color:"var(--color-text-secondary)",children:["all_cards"===x&&O,"previouslyEnrolled"===x&&function(){var e=b.isOngoing,t=b.isCompleted,o=b.isUpcoming,i=b.isLive,n=b.nextTrack,a=new Date(n.liveAtString);if(i)return"Started at ".concat(Z(n.liveAtString));if(e)return u.ZP.isSameDay(a,new Date)?"Today, ".concat(Z(n.liveAtString)):"".concat(u.ZP.getFullDate(n.liveAtString)," ").concat(Z(n.liveAtString));if(o){var r=b.startsAt;return"Starts on ".concat(u.ZP.getFullDate(r)," ")}if(t){var l=b.endsAt;return"Ended on ".concat(u.ZP.getFullDate(l)," ")}}()]}):null})]}),(0,i.tZ)(r.Z,{}),(0,i.tZ)(s.Z,{href:"/[authorID]",as:"/@".concat(null===N||void 0===N||null===(m=N[0])||void 0===m?void 0:m.username),children:(0,i.tZ)(w,{as:"h4",children:null===N||void 0===N||null===(P=N[0])||void 0===P?void 0:P.name})})]})};t.Z=P,P.defaultProps={showScheduleInfo:!0,cardType:"all_cards",topic:{},handleAnalytics:function(){}}}}]);
//# sourceMappingURL=4246-a82a31ccc72dd4ec9314.js.map