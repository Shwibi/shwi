(this["webpackJsonpunacademy-live"]=this["webpackJsonpunacademy-live"]||[]).push([[23],{"+UwG":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"g",(function(){return L})),n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return R})),n.d(t,"d",(function(){return y}));var r=n("J4zp"),i=n.n(r),s=n("o0o1"),a=n.n(s),o=n("lSNA"),c=n.n(o),u=n("yXPU"),l=n.n(u),d=n("VEaK"),E=n("wCkA"),h=n("6YgN");function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const T=new h.a;function m(){let e=T.getItem("un.keys.browser.id");return e||(e=Object(E.j)(),T.setItem("un.keys.browser.id",e)),e}const O=function(){var e=l()(a.a.mark((function e(){var t,n,r,i,s,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={ispName:"",ispData:""},e.prev=1,n=T.getItem("un.keys.npk"),r=!1,n?(i=JSON.parse(n)).expiry<Date.now()&&(r=!0):r=!0,!r){e.next=17;break}return s=Object(d.g)(),e.next=9,s.getOwnIpInfo();case 9:return o=e.sent,c=s.matchAgainst({isp:(null===o||void 0===o?void 0:o.isp)||""}),t.ispName=c?c.isp:"Other",t.ispData=JSON.stringify(s.getSerializableIpInfo(o)),T.setItem("un.keys.npk",JSON.stringify(_(_({},t),{},{expiry:Date.now()+864e5}))),e.abrupt("return",t);case 17:return t={ispName:i.ispName,ispData:i.ispData},e.abrupt("return",t);case 19:e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(1),e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}()();function g(e,t,n){return A.apply(this,arguments)}function A(){return(A=l()(a.a.mark((function e(t,n,r){var i,s,o,c,u,l,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r||(r={}),i=/\((.*)\).*\(.*\)/gm,s=window.navigator.platform,o="";null!==(c=i.exec(window.navigator.appVersion));)o=c[1];return n.os_platform=s,n.device=o,u=Object(E.p)(),n.playerId=Object(E.j)(),n.browserId=m(),n.browserName=u.name,n.browserVersion=u.version,n.evtVersion="5.0.0",e.next=15,O;case 15:return l=e.sent,n.ispName=l.ispName,n.ispData=l.ispData,h=new d.b(t,Object.assign({headers:{}},r),n),e.abrupt("return",{instance:h,evtClientParams:n});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return!0}window.ispDetailsGlobal=O;const v=function(){let e=null,t={metricSenderInstance:null,productEventSenderInstance:null,internalMetricSenderInstance:null},n=!1,r=null,s={},o=I,c={},u=!1;const d=[],E={};return E.initialize=function(){var e=l()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getInstance(t);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",!0);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E.getInstance=function(){var i=l()(a.a.mark((function i(o){var l,h,f,S;return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e&&n){i.next=23;break}return i.next=3,g("https://m-events-prod.unacademy.com:8080/lcerrdebug.log",o);case 3:return l=i.sent,r=l.instance,c=l.evtClientParams,i.next=8,g("https://m-events-prod.unacademy.com:8080/lc.log",o);case 8:e=i.sent.instance,h=0,f=[{handlerName:"metricSenderInstance",dbName:"Liveclass Events"},{handlerName:"internalMetricSenderInstance",dbName:"Liveclass Metric Events"},{handlerName:"productEventSenderInstance",dbName:"Liveclass Product Events"}];case 11:if(!(h<f.length)){i.next=20;break}return S=f[h],i.next=15,g("https://event-server-perf-prod.unacademy.com/bulk/collect",o,{isNestedStructure:!0,keyOfNesting:"data",defaultNest:{name:S.dbName,version:1},shouldEnableLocalCachingByDefault:!0,isUnixTime:!0});case 15:(t[S.handlerName]=i.sent.instance).onEventPostingFailure=(e,t,n)=>{t>=400&&t<500&&r.sendData(e,_(_({},s),{},{evtents:n}))};case 17:h++,i.next=11;break;case 20:n=!0,i.next=25;break;case 23:[e,...Object.values(t)].forEach(e=>e.updateArgs(o));case 25:return u=!0,d.forEach(e=>E.sendData(...e)),d.length=0,i.abrupt("return",!!e&&n);case 29:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}(),E.setToken=e=>{n&&(s.jwt=e,Object.values(t).forEach(t=>{t.updateMeta({headers:{Authorization:"Bearer "+e}}),t.resumeEventLoop()}))},E.sendData=(n,r,s)=>{var a=function(e,t){let n,r;if(n=void 0===e||null===e?"":e,r={[R.Card]:1,[R.Measure1]:0,[R.Measure2]:0,[R.Measure3]:0},t)for(let i in t)r[i]=t[i];return[n,r]}(r,s),l=i()(a,2);if(r=l[0],s=l[1],!u)return d.push([n,r,s]),void(d.length>50&&d.shift());e&&o(c)&&e.sendData(n,r,s);var E,h=f(N.__lookupConfig);try{for(h.s();!(E=h.n()).done;){const e=E.value,i=N[e.lookupKey];let a;n&&n in i&&(a=t[e.handlerName])&&o(c)&&a.sendData(n,r,s)}}catch(S){h.e(S)}finally{h.f()}o=I},E.filter=e=>(o=e,E),E.dispose=()=>{if(e&&(e.flushAll(),e.startLocalCaching(),e=null),n)for(var r=0,s=Object.entries(t);r<s.length;r++){const e=i()(s[r],2),n=e[0],a=e[1];a.flushAll(),a.startLocalCaching(),t[n]=null}},E}(),C={Live:5e3,Replay:3e3};function L(e,t){const n=(e-(t?C.Replay:C.Live))/1e3;return 6/(6+Math.max(n,0))*100|0}const D={RECONNECT_EXCEEDED:"RECONNECT_EXCEEDED",STREAM_START:"STREAM_START",STREAM_SWITCH:"STREAM_SWITCH",STREAM_STOP:"STREAM_STOP",SELECTED_HOST:"SELECTED_HOST",JANUS_CONNECTED:"JANUS_CONNECTED",JANUS_DISCONNECTED:"JANUS_DISCONNECTED",JANUS_CONNECTION_SUCCESSFUL:"JANUS_CONNECTION_SUCCESSFUL",JANUS_CONNECTION_FAILURE:"JANUS_CONNECTION_FAILURE",JANUS_PLUGIN_ATTACH_FAILURE:"JANUS_PLUGIN_ATTACH_FAILURE",JANUS_CONNECTION_RETRY:"JANUS_CONNECTION_RETRY",JANUS_CONNECTION_CLOSE:"JANUS_CONNECTION_CLOSE",JANUS_DISCONNECTION_SUCCESSFUL:"JANUS_DISCONNECTION_SUCCESSFUL",JANUS_DISCONNECTION_ERROR:"JANUS_DISCONNECTION_ERROR",SOCKET_CONNECTION_SUCCESSFUL:"SOCKET_CONNECTION_SUCCESSFUL",SOCKET_CONNECTION_FAILURE:"SOCKET_CONNECTION_FAILURE",SOCKET_CONNECTION_RETRY:"SOCKET_CONNECTION_RETRY",SOCKET_CONNECTION_CLOSE:"SOCKET_CONNECTION_CLOSE",SOCKET_DISCONNECTION_SUCCESSFUL:"SOCKET_DISCONNECTION_SUCCESSFUL",SOCKET_DISCONNECTION_ERROR:"SOCKET_DISCONNECTION_ERROR",HISTORY_FAILURE:"HISTORY_FAILURE",WRONG_ORDER:"WRONG_ORDER",PUB_JOIN:"PUB_JOIN",WEBRTC_STATE:"WEBRTC_STATE",NO_DATA_IN_LAST_12_SEC:"NO_DATA_IN_LAST_12_SEC",JANUS_DATA:"JANUS_DATA",SLOW_LINK:"SLOW_LINK",SOCKET_INFO_MSG:"SOCKET_INFO_MSG",SOCKET_SUB:"SOCKET_SUB",SOCKET_UNSUB:"SOCKET_UNSUB",SOCKET_DATA:"SOCKET_DATA",UNKNOWN_STATE:"UNKNOWN_STATE",USER_KICKED:"USER_KICKED",VIDEO_ERROR:"VIDEO_ERROR",INTERFACE_THEME_INIT:"INTERFACE_THEME_INIT",INTERFACE_THEME_TOGGLE:"INTERFACE_THEME_TOGGLE",SHORTCUT_LIST_VIEW:"SHORTCUT_LIST_VIEW",CHUNK_LOAD_FAILED:"CHUNK_LOAD_FAILED",CHUNK_LOAD_RETRY:"CHUNK_LOAD_RETRY",CHUNK_LOADED_AFTER_RETRY:"CHUNK_LOADED_AFTER_RETRY",CHUNK_LOAD_FAILURE_RELOAD_CLICK:"CHUNK_LOAD_FAILURE_RELOAD_CLICK",SLIDE_PREVIEW:"SLIDE_PREVIEW",ISSUE_REPORT:"ISSUE_REPORT",MUTE_TOGGLE:"MUTE_TOGGLE",SLIDE_MODE_TOGGLE:"SLIDE_MODE_TOGGLE",PPT_DOWNLOAD:"PPT_DOWNLOAD",SESSION_FEEDBACK_RECVD:"SESSION_FEEDBACK_RECVD",WB_TOOL_SELECTION:"WB_TOOL_SELECTION",VIDEO_POSITION_LEFT:"VIDEO_POSITION_LEFT",VIDEO_POSITION_RIGHT:"VIDEO_POSITION_RIGHT",LEADERBOARD_SHARED:"LEADERBOARD_SHARED",SLIDE_THEME_INIT:"SLIDE_THEME_INIT",SLIDE_THEME_TOGGLE:"SLIDE_THEME_TOGGLE",QUESTION_COMMENT_TAB_TOGGLE:"QUESTION_COMMENT_TAB_TOGGLE",INVALID_ACTIVE_SLIDE:"INVALID_ACTIVE_SLIDE",VIDEO_DURATION_EXCEED:"VIDEO_DURATION_EXCEED",INACTIVITY_CLASS_PAUSED_AFTER_TAB_SWITCH:"INACTIVITY_CLASS_PAUSED_AFTER_TAB_SWITCH",INACTIVITY_MODAL_REMOVED_ON_INTERACTION:"INACTIVITY_MODAL_REMOVED_ON_INTERACTION",INACTIVITY_MODAL_DISPLAYED:"INACTIVITY_MODAL_DISPLAYED",INACTIVITY_CLASS_PAUSED_AFTER_COUNTDOWN:"INACTIVITY_CLASS_PAUSED_AFTER_COUNTDOWN",INACTIVITY_MODAL_END_CLASS_CLICKED:"INACTIVITY_MODAL_END_CLASS_CLICKED",INACTIVITY_MODAL_RESUME_CLASS_CLICKED:"INACTIVITY_MODAL_RESUME_CLASS_CLICKED",METRIC_CALC_START:"METRIC_CALC_START",CLASS_START_SUCCESS:"CLASS_START_SUCCESS",CLASS_START_SUCCESS_WITH_FAILURES:"CLASS_START_SUCCESS_WITH_FAILURES",CLASS_START_FAILURE:"CLASS_START_FAILURE",CLICK_TO_VIEW_TIME:"CLICK_TO_VIEW_TIME",RECONNECTION:"RECONNECTION",EDUCATOR_MUTE_UNMUTE:"EDUCATOR_MUTE_UNMUTE",BUFFER_TIME:"BUFFER_TIME",TOO_MUCH_BUFFER_TIME:"TOO_MUCH_BUFFER_TIME",BUFFER_FAILURE:"BUFFER_FAILURE",LAG_RATIO:"LAG_RATIO",POLL_INIT:"POLL_INIT",POLL_ENDED:"POLL_ENDED",EMOJI_TOGGLE:"EMOJI_TOGGLE",CHAT_TOGGLE:"CHAT_TOGGLE",QUESTION_TOGGLE:"QUESTION_TOGGLE",ADD_QUESTION:"ADD_QUESTION",LIVE_DVR_SWITCH:"LIVE_DVR_SWITCH",EDUCATOR_INACTIVE:"EDUCATOR_INACTIVE",SLIDE_ADDED:"SLIDE_ADDED",UPLOAD_FILE:"UPLOAD_FILE",NEXT_CLASS_CTRL_CLICK:"NEXT_CLASS_CTRL_CLICK",VIDEO_MODE:"VIDEO_MODE",FULL_SCREEN_TOGGLE:"FULL_SCREEN_TOGGLE",PLAYBACK_SPEED:"PLAYBACK_SPEED",NEXT_CLASS_LESSON:"NEXT_CLASS_LESSON",NEXT_CLASS_LESSON_CLICKED:"NEXT_CLASS_LESSON_CLICKED",NEXT_CLASS:"NEXT_CLASS",PUBLISHER_CONNECTED:"PUBLISHER_CONNECTED",USER_SEEK:"USER_SEEK",SEEK_BUFFER_TIME:"SEEK_BUFFER_TIME",DATA_DOWNLOADED:"DATA_DOWNLOADED",META_DOWNLOADED:"META_DOWNLOADED",REPLAY_TOKEN_FETCHED:"REPLAY_TOKEN_FETCHED",META_DOWNLOAD_FAILURE:"META_DOWNLOAD_FAILURE",DATA_DOWNLOAD_FAILURE:"DATA_DOWNLOAD_FAILURE",TOKEN_FETCH_FAILURE:"TOKEN_FETCH_FAILURE",SLIDE_LOADING_ERROR:"SLIDE_LOADING_ERROR",SOCKET_CHAT_MSG_RTT:"SOCKET_CHAT_MSG_RTT",PING_MISS:"PING_MISS",SOCKET_MSG_SUB_MISS:"SOCKET_MSG_SUB_MISS",VIDEO_URL_CHANGED:"VIDEO_URL_CHANGED",VIDEO_NOT_LOADED_AFTER_URL_CHANGE:"VIDEO_NOT_LOADED_AFTER_URL_CHANGE",VIDEO_LOADED:"VIDEO_LOADED",JANUS_PLUGIN_ATTACH_SUCCESS:"JANUS_PLUGIN_ATTACH_SUCCESS",JANUS_DATA_CHANNEL_STATE_CHANGE:"JANUS_DATA_CHANNEL_STATE_CHANGE",JANUS_DATA_CHANNEL_READY_TO_USE:"JANUS_DATA_CHANNEL_READY_TO_USE",HISTORY_DOWNLOAD_TIME:"HISTORY_DOWNLOAD_TIME",HISTORY_UPDATE_TIME:"HISTORY_UPDATE_TIME",WAITING_FOR_PUBLISHER:"WAITING_FOR_PUBLISHER",WEBRTC_ERROR:"WEBRTC_ERROR",ICE_STATE_TRANSITION:"ICE_STATE_TRANSITION",PEER_CONNECTION_OK:"PEER_CONNECTION_OK",PEER_CONNECTION_ESTABLISHED:"PEER_CONNECTION_ESTABLISHED",CLASS_QUALITY_DETERIORATION_INDEX:"CLASS_QUALITY_DETERIORATION_INDEX",VIDEO_PAUSED:"VIDEO_PAUSED",VIDEO_PLAYED:"VIDEO_PLAYED",VIDEO_ENDED:"VIDEO_ENDED",REDRAW_TIME_PER_SLIDE:"REDRAW_TIME_PER_SLIDE",GIF_LOADED:"GIF_LOADED",ROUND_VIDEO_SELECTED:"ROUND_VIDEO_SELECTED",CDN_SWITCH:"CDN_SWITCH",Q_CLASS_START_EXPERIENCE:"Q_CLASS_START_EXPERIENCE",Q_CLASS_SMOOTHNESS:"Q_CLASS_SMOOTHNESS",GROWING_LAG_RATIO:"GROWING_LAG_RATIO",PACKET_DROP_COUNT:"PACKET_DROP_COUNT",SLIDE_RENDERING_TIME:"SLIDE_RENDERING_TIME"},N={__lookupConfig:[{lookupKey:"Metric",handlerName:"metricSenderInstance"},{lookupKey:"Product",handlerName:"productEventSenderInstance"},{lookupKey:"Internal",handlerName:"internalMetricSenderInstance"}],Metric:{[D.METRIC_CALC_START]:1,[D.CLASS_START_SUCCESS]:1,[D.CLASS_START_SUCCESS_WITH_FAILURES]:1,[D.CLASS_START_FAILURE]:1,[D.CLICK_TO_VIEW_TIME]:1,[D.RECONNECTION]:1,[D.BUFFER_TIME]:1,[D.SEEK_BUFFER_TIME]:1,[D.CLASS_QUALITY_DETERIORATION_INDEX]:1,[D.Q_CLASS_START_EXPERIENCE]:1,[D.Q_CLASS_SMOOTHNESS]:1},Product:{[D.METRIC_CALC_START]:1,[D.SLIDE_PREVIEW]:1,[D.ISSUE_REPORT]:1,[D.MUTE_TOGGLE]:1,[D.SLIDE_MODE_TOGGLE]:1,[D.PPT_DOWNLOAD]:1,[D.SESSION_FEEDBACK_RECVD]:1,[D.WB_TOOL_SELECTION]:1,[D.VIDEO_POSITION_LEFT]:1,[D.VIDEO_POSITION_RIGHT]:1,[D.LEADERBOARD_SHARED]:1,[D.SLIDE_THEME_INIT]:1,[D.SLIDE_THEME_TOGGLE]:1,[D.QUESTION_COMMENT_TAB_TOGGLE]:1,[D.INTERFACE_THEME_INIT]:1,[D.INTERFACE_THEME_TOGGLE]:1,[D.SHORTCUT_LIST_VIEW]:1,[D.EMOJI_TOGGLE]:1,[D.CHAT_TOGGLE]:1,[D.QUESTION_TOGGLE]:1,[D.VIDEO_MODE]:1,[D.FULL_SCREEN_TOGGLE]:1,[D.PLAYBACK_SPEED]:1,[D.NEXT_CLASS_LESSON]:1,[D.NEXT_CLASS_LESSON_CLICKED]:1,[D.POLL_INIT]:1,[D.GIF_LOADED]:1,[D.ROUND_VIDEO_SELECTED]:1,[D.ADD_QUESTION]:1,[D.SLIDE_ADDED]:1,[D.UPLOAD_FILE]:1,[D.EDUCATOR_INACTIVE]:1,[D.POLL_ENDED]:1,[D.LIVE_DVR_SWITCH]:1,[D.NEXT_CLASS_CTRL_CLICK]:1,[D.NEXT_CLASS]:1},Internal:{[D.METRIC_CALC_START]:1,[D.RECONNECT_EXCEEDED]:1,[D.PUB_JOIN]:1,[D.JANUS_CONNECTED]:1,[D.JANUS_DISCONNECTED]:1,[D.TOO_MUCH_BUFFER_TIME]:1,[D.BUFFER_FAILURE]:1,[D.USER_SEEK]:1,[D.LAG_RATIO]:1,[D.GROWING_LAG_RATIO]:1,[D.PACKET_DROP_COUNT]:1,[D.JANUS_PLUGIN_ATTACH_SUCCESS]:1,[D.JANUS_DATA_CHANNEL_STATE_CHANGE]:1,[D.JANUS_DATA_CHANNEL_READY_TO_USE]:1,[D.HISTORY_DOWNLOAD_TIME]:1,[D.HISTORY_UPDATE_TIME]:1,[D.WAITING_FOR_PUBLISHER]:1,[D.RECONNECTION]:1,[D.WEBRTC_ERROR]:1,[D.ICE_STATE_TRANSITION]:1,[D.PEER_CONNECTION_OK]:1,[D.PEER_CONNECTION_ESTABLISHED]:1,[D.PUBLISHER_CONNECTED]:1,[D.DATA_DOWNLOADED]:1,[D.META_DOWNLOADED]:1,[D.REPLAY_TOKEN_FETCHED]:1,[D.META_DOWNLOAD_FAILURE]:1,[D.DATA_DOWNLOAD_FAILURE]:1,[D.TOKEN_FETCH_FAILURE]:1,[D.SLIDE_RENDERING_TIME]:1,[D.SLIDE_LOADING_ERROR]:1,[D.SOCKET_CHAT_MSG_RTT]:1,[D.VIDEO_URL_CHANGED]:1,[D.VIDEO_NOT_LOADED_AFTER_URL_CHANGE]:1,[D.VIDEO_LOADED]:1,[D.VIDEO_PAUSED]:1,[D.VIDEO_PLAYED]:1,[D.VIDEO_ERROR]:1,[D.VIDEO_ENDED]:1,[D.REDRAW_TIME_PER_SLIDE]:1,[D.CDN_SWITCH]:1}},b={POLL_5_CHOICES:"5 choices",POLL_4_CHOICES:"4 choices",POLL_TRUE_FALSE:"true-false"},R={Card:"card",Measure1:"measure1",Measure2:"measure2",Measure3:"measure3"},y={DuringMetaFileResolve:"DuringMetaFileResolve",DuringDataFileResolve:"DuringDataFileResolve",DuringTokenDataResolve:"DuringTokenDataResolve"};t.f=v},"0U3w":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n("lSNA"),i=n.n(r),s=n("wCkA");let a,o;!function(e){e[e.FILE=0]="FILE",e[e.DRIVE_DATA_FILE=1]="DRIVE_DATA_FILE",e[e.TEMPLATE=2]="TEMPLATE"}(a||(a={})),function(e){e[e.NotStarted=0]="NotStarted",e[e.Uploading=1]="Uploading",e[e.Finished=2]="Finished"}(o||(o={}));class c{constructor(e,t,n,r,s,a){i()(this,"signingUrl",void 0),i()(this,"publicUrl",void 0),i()(this,"fileUid",void 0),i()(this,"parentUid",void 0),i()(this,"file",void 0),i()(this,"type",void 0),i()(this,"uploadState",void 0),i()(this,"axiosSource",void 0),i()(this,"isCancelled",void 0),i()(this,"fileNameForSigningUrl",void 0),i()(this,"fileInfo",null),this.file=e,this.type=t,this.fileNameForSigningUrl=this.getFileNameForSigningUrl(),this.fileUid=null!==n&&void 0!==n?n:"",this.parentUid=null!==r&&void 0!==r?r:"",this.publicUrl=null!==a&&void 0!==a?a:"",this.signingUrl=null!==s&&void 0!==s?s:"",this.isCancelled=!1}getFileNameForSigningUrl(){const e=this.file.name;if("data.json"===e||"meta.json"===e)return e;const t=e.split(".").reverse()[0];return"".concat(Object(s.j)(),".").concat(t)}setSigningUrlAndPublicUrl(e,t){this.signingUrl=e,this.publicUrl=t}setUploadState(e){this.uploadState=e}getUrlToFetchSigningUrl(){let e="";switch(this.type){case a.DRIVE_DATA_FILE:e="/v1/drive/actions/get_signed_url/";break;case a.TEMPLATE:case a.FILE:e="/v1/common/actions/get_signed_urls/"}return e}getSigningUrlBody(){const e={object_list:[this.fileNameForSigningUrl]};switch(this.type){case a.DRIVE_DATA_FILE:e.uid=this.fileUid}return e}setFileInfo(e){this.fileInfo=e}cancel(e){this.isCancelled=!0,this.axiosSource&&this.axiosSource.cancel(e)}get name(){var e,t;return null!==(e=null===(t=this.file)||void 0===t?void 0:t.name)&&void 0!==e?e:""}}},"0VYU":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return N}));var r=n("lwsE"),i=n.n(r),s=n("W8MJ"),a=n.n(s),o=n("PJYZ"),c=n.n(o),u=n("7W2i"),l=n.n(u),d=n("a1gu"),E=n.n(d),h=n("Nsbk"),f=n.n(h),S=n("lSNA"),p=n.n(S),_=n("q1tI"),T=n.n(_),m=n("+UwG"),O=n("/MKj"),g=n("ri1g");function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E()(this,n)}}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return Object(_.lazy)((function(){return L(e,t,n,0)}))},L=function e(t,n,r,i){var s={retries_allowed:r,retry_count:i};return new Promise((function(a,o){return t().then((function(e){if(i>0){var t=e.default.displayName||"NA";m.f.sendData(m.c.CHUNK_LOADED_AFTER_RETRY,v({module_display_name:t},s))}a(e)})).catch((function(c){++i<=r?setTimeout((function(){m.f.sendData(m.c.CHUNK_LOAD_RETRY,v({last_error:c},s)),a(e(t,n,r,i))}),n):(m.f.sendData(m.c.CHUNK_LOAD_FAILED,v({error:c},s)),o(c))}))}))},D=function(e){l()(n,e);var t=A(n);function n(){var e;i()(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),p()(c()(e),"state",{hasError:!1}),e}return a()(n,[{key:"componentDidCatch",value:function(e){e&&e.name&&"ChunkLoadError"===e.name&&this.props.errorHandler(e)}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(T.a.Component),N=function(e){var t=Object(O.d)(),n=Object(_.useCallback)((function(e){t(Object(g.mb)(!0,e))}));return T.a.createElement(D,{errorHandler:n},T.a.createElement(_.Suspense,e,e.children))}},"1tDn":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"i",(function(){return p}));var r=n("WlAH"),i=function(e,t){var n,r=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}];for(n=0;n<r.length;n+=1)if(e>=r[n].value)return(e/r[n].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+r[n].symbol;return e?e.toString():0===e?"0":e},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return"".concat(i(e,1)," ").concat(1===e?t:"".concat(t).concat(n))};const a=e=>e?new Date(e).getTime()/1e3:null,o=()=>new Date,c=e=>new Date(e),u=(e,t="short")=>new Date(e).toLocaleString("default",{month:t}),l=e=>new Date(e).getFullYear(),d=(e,t=!1)=>{const n=new Date(e).getDate();return t?"".concat(n).concat((e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(n)):n},E=(e,t=!0)=>{const n=new Date(e);return"".concat(n.toLocaleString("default",{month:t?"short":"long"})," ").concat(n.getDate())},h=e=>e?"".concat(E(e),", ").concat(l(e)):"N/A",f=e=>{const t=new Date(e),n=t.getHours();let r=t.getMinutes();return r<10&&(r="0".concat(r)),"".concat(n%12||12,":").concat(r," ").concat(n<12?"A":"P","M")},S=e=>{if(!e)return"";const t=new Date(e),n=t.getHours();let r=t.getMinutes();return r<10&&(r="0".concat(r)),"".concat(n%12||12,":").concat(r," ").concat(n<12?"A":"P","M")},p=e=>{if(null==e)return"";if(e<=0)return"0s";const t=Math.floor(e),n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60);let i="".concat(n," h ");0===n&&(i="");let s="".concat(r," m ");return 0===r&&(s=""),i+s};t.a={getMonthString:u,getDateMonthString:(e,t=!1,n=!0)=>{const r=u(e,t?"long":"short"),i=d(e,n);return"".concat(i," ").concat(r)},getTimeFormatInShortFormWithoutSecs:p,getTimeFormatInShortFormWithoutSecsFromMins:e=>{if(null==e)return"";if(e<=0)return"0s";const t=Math.floor(e),n=Math.floor(t/60),r=Math.floor(t-60*n);let i="".concat(n," h ");0===n&&(i="");let s="".concat(r," m ");return 0===r&&(s=""),i+s},getMinutesValueFromSeconds:e=>{if(null==e||e<=0)return"";const t=Math.floor(e/60);return t+(1===t?" min":" mins")},formatMinutesFromSeconds:e=>{const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n>9?n:"0".concat(n)," mins")},dateWithTime:e=>{if(!e)return"";const t=new Date(e);return"".concat(E(t),", ").concat(f(t))},compareDates:(e,t)=>{if(!e||!t)return null;const n="function"===typeof e.getTime?e.getTime():new Date(e).getTime(),r="function"===typeof t.getTime?t.getTime():new Date(t).getTime();return n===r?0:n<r?1:n>r?-1:void 0},getYear:l,getDay:d,addTime:(e,t,n="s")=>{if(e&&t){const r={s:1e3,m:6e4,h:36e5,d:864e5};return new Date(e.getTime()+t*r[n])}return e},timeAgoSinceDate:(e,t=!0,n="",i=" ago",a="just now",o=r.s.DEFAULT_TIME_TEXT)=>{const c=t?"long":"short",u=Math.floor((Date.now()-new Date(e).getTime())/1e3);if(u<60)return a;let l;return l=u<3600?{value:u/60,label:o[c].MINUTE}:u<86400?{value:u/3600,label:o[c].HOUR}:u<2592e3?{value:u/86400,label:o[c].DAY}:u<31104e3?{value:u/2592e3,label:o[c].MONTH}:{value:u/31104e3,label:o[c].YEAR},t?"".concat(n).concat(s(Math.floor(l.value),l.label)).concat(i):"".concat(n).concat(Math.floor(l.value)).concat(l.label).concat(i)},isSameDay:(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),timeInMinsSecs:e=>{const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t>0&&!isNaN(t)?"".concat(t,"m"):""," ").concat(isNaN(n)?"0":n>9?n:"0".concat(n),"s")},getFullDate:h,getTime:f,getTimeWithoutAmPm12HrFormat:e=>{const t=new Date(e),n=t.getHours();let r=t.getMinutes();return r<10&&(r="0".concat(r)),"".concat(n%12||12,":").concat(r)},getHoursMinutesValueFromSeconds:e=>{if(null==e||e<=0)return"0m";const t=Math.floor(e),n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60);return n>0?"".concat(n,"h ").concat(r,"m"):"".concat(r,"m")},fullDateWithTime:e=>{if(!e)return"N/A";const t=new Date(e);return"".concat(h(e),", ").concat(f(t))}}},"5K3P":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lSNA"),i=n.n(r);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const o={LIVE_CLASS_READY:"LIVE_CLASS_READY",RELOAD_IFRAME:"RELOAD_IFRAME",CLOSE_IFRAME:"CLOSE_IFRAME",LIVE:"live",PAUSE:"pause",PLAY:"play",FINISHED:"finished",FULLSCREEN_REQUEST:"FULLSCREEN_REQUEST",UPDATE_CLASS_START_TIME:"UPDATE_CLASS_START_TIME",WATCHED:"WATCHED",CTA_CARD_SHOWN:"CTA_CARD_SHOWN",GET_SUBSCRIPTION_CLICKED:"GET_SUBSCRIPTION_CLICKED",NEXT_LESSON_CLICKED:"NEXT_LESSON_CLICKED",EVALUATION_DONE:"EVALUATION_DONE",EVALUATION_PROGRESS:"EVALUATION_PROGRESS",SET_APP_THEME:"SET_APP_THEME",SEGMENT_EVENTS:"SEGMENT_EVENTS",UPLOAD_COMPLETE:"UPLOAD_COMPLETE"};const c=function(){let e={};const t=function(e){console.log("[IFRAME COMMUNICATION ERROR] ".concat(e))},n=function(e){return e?!e||"function"===typeof e||(t("Listener should be a function."),!1):(t("Listener is undefined."),!1)},r=function(t){switch(t){case o.LIVE_CLASS_READY:return{eventType:t,liveClassReady:!0};case o.RELOAD_IFRAME:return{eventType:t,reloadIframe:!0};case o.CLOSE_IFRAME:return{eventType:t,closeIframe:!0};case o.CTA_CARD_SHOWN:return{eventType:t,subscriptionCardVisibleOnIframe:!0};case o.GET_SUBSCRIPTION_CLICKED:return{eventType:t,getSubscriptionClickedOnIframe:!0};case o.NEXT_LESSON_CLICKED:return{event:t,isNextLessonClicked:!0};case o.SET_APP_THEME:return{eventType:t};case o.EVALUATION_PROGRESS:case o.EVALUATION_DONE:return{eventType:t};case o.SEGMENT_EVENTS:return{eventType:t,segmentEvents:!0};case o.UPLOAD_COMPLETE:return{uploadComplete:!0};case o.LIVE:case o.PAUSE:case o.PLAY:case o.FINISHED:case o.FULLSCREEN_REQUEST:case o.UPDATE_CLASS_START_TIME:case o.WATCHED:return{event:t,uuid:e.classId,status:{UUID:e.classId,isLive:Number(!e.isReplay)}};default:return{}}},i=function(e){window.parent?window.parent.postMessage(e,"*"):t("window.parent is undefined.")};return{setUpListener:function(r,i){i&&function(n){if("object"===typeof n)for(let t in n)e[t]=n[t];else t("Variables supplied in setUpListener must be an object")}(i),n(r)?window.addEventListener("message",r,!1):t("Failed to setup the onmessage eventlistener.")},dispatchEvent:function(n,s={}){if(function(e){return e?e&&"string"!==typeof e?(t("Message type should be a string. Instead found ".concat(e)),!1):!!Object.values(o).includes(e)||(t("Message type ".concat(e," is not a valid Iframe message type.")),!1):(t("Message type is undefined."),!1)}(n))if(n===o.RELOAD_IFRAME)!function(){if(e.isEducator)window.location.reload();else{const e=r(o.RELOAD_IFRAME);i(e)}}();else{const e=r(n);if(s&&"object"===typeof s)for(let t in s){const n=s[t],r=e[t];e[t]="object"===typeof r?a(a({},r),n):n}i(e)}else t("Cannot post message.")},remove:function(e){n(e)?window.removeEventListener("message",e):t("Failed to remove the onmessage eventlistener.")}}}();t.b=c},"6YgN":function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),s=n("W8MJ"),a=n.n(s),o=function(){function e(){i()(this,e)}return a()(e,[{key:"lsTest",value:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}},{key:"getItem",value:function(e){try{return localStorage.getItem(e)}catch(t){return console.log("localStorage not available."),null}}},{key:"setItem",value:function(e,t){try{localStorage.setItem(e,t)}catch(n){return console.log("localStorage not available."),null}}},{key:"clearItem",value:function(e){try{localStorage.removeItem(e)}catch(t){console.log("localStorage not available.")}}},{key:"clearItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{for(var t=[],n=0;n<localStorage.length;n++)localStorage.key(n).startsWith(e)&&t.push(localStorage.key(n));for(var r=0;r<t.length;r++)localStorage.removeItem(t[r])}catch(i){console.log("localStorage not available.")}}},{key:"setItemWithExpiry",value:function(e,t,n){try{localStorage.setItem(e,JSON.stringify({val:t,time:(new Date).getTime()+n}))}catch(r){return console.log("localStorage not available."),null}}},{key:"getItemWithExpiry",value:function(e){try{var t=JSON.parse(localStorage.getItem(e));return!t.time||(new Date).getTime()-t.time>=0?(localStorage.removeItem(e),null):t.val}catch(n){return console.log("localStorage not available."),null}}}]),e}();t.a=o},"7cBs":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(){function e(){}return e.zeros_Xx2x2=function(e){for(var t=[];e--;)t.push([0,0]);return t},e.mulItems=function(e,t){return[e[0]*t,e[1]*t]},e.mulMatrix=function(e,t){return e[0]*t[0]+e[1]*t[1]},e.subtract=function(e,t){return[e[0]-t[0],e[1]-t[1]]},e.addArrays=function(e,t){return isNaN(e[0])||isNaN(e[1]),[e[0]+t[0],e[1]+t[1]]},e.addItems=function(e,t){return[e[0]+t,e[1]+t]},e.sum=function(e){return e.reduce((function(e,t){return e+t}))},e.dot=function(t,n){return e.mulMatrix(t,n)},e.vectorLen=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},e.divItems=function(e,t){return[e[0]/t,e[1]/t]},e.squareItems=function(e){var t=e[0],n=e[1];return[t*t,n*n]},e.normalize=function(e){return this.divItems(e,this.vectorLen(e))},e}();function i(e,t,n){for(var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[],s=-1,o=1920,c=1080,u=e;u<t.length;u++){var l=t[u].a;if("start"==l&&(s=u,(i=[]).push([parseFloat(t[u].p.x)*o,parseFloat(t[u].p.y)*c,parseFloat(t[u].t)])),"move"==l&&(-1==s&&(s=u,i=[]),i.push([parseFloat(t[u].p.x)*o,parseFloat(t[u].p.y)*c,parseFloat(t[u].t)])),"end"==l){if(-1==s){if(r)break;continue}i.push([parseFloat(t[u].p.x)*o,parseFloat(t[u].p.y)*c,parseFloat(t[u].t)]);for(var d=a(i,n),E=d.m,h=0,f=s;f<=u;f++)if("start"==t[f].a||"end"==t[f].a||"move"==t[f].a){var S=E[h];t[f].p.x=S.x/o,t[f].p.y=S.y/c,h++}if(s=-1,r)break}}return r?u:t}var s=function(){function e(){}return e.q=function(e,t){var n=1-t,i=r.mulItems(e[0],n*n*n),s=r.mulItems(e[1],3*n*n*t),a=r.mulItems(e[2],3*n*t*t),o=r.mulItems(e[3],t*t*t);return r.addArrays(r.addArrays(i,s),r.addArrays(a,o))},e.qprime=function(e,t){var n=1-t,i=r.mulItems(r.subtract(e[1],e[0]),3*n*n),s=r.mulItems(r.subtract(e[2],e[1]),6*n*t),a=r.mulItems(r.subtract(e[3],e[2]),3*t*t);return r.addArrays(r.addArrays(i,s),a)},e.qprimeprime=function(e,t){return r.addArrays(r.mulItems(r.addArrays(r.subtract(e[2],r.mulItems(e[1],2)),e[0]),6*(1-t)),r.mulItems(r.addArrays(r.subtract(e[3],r.mulItems(e[2],2)),e[1]),6*t))},e}();function a(e,t,n){var i=e.length;return function e(t,n,i,s,a){var u,l,d,E,h,f,S,p,_,T,m,O,g;if(2===t.length)return m=r.vectorLen(r.subtract(t[0],t[1]))/3,u=[t[0],r.addArrays(t[0],r.mulItems(n,m)),r.addArrays(t[1],r.mulItems(i,m)),t[1]],(g=[]).push({x:t[0][0],y:t[0][1],t:t[0][2]}),g.push({x:t[1][0],y:t[1][1],t:t[1][2]}),{b:[u],m:g};if(l=function(e){var t,n,i,s=[];return e.forEach((function(e,a){t=a?n+r.vectorLen(r.subtract(e,i)):0,s.push(t),n=t,i=e})),s=s.map((function(e){return e/n}))}(t),v=o(t,l,l,n,i,a),u=v[0],E=v[1],f=v[2],g=v[3],E<s)return{b:[u],m:g};if(E<s*s)for(d=l,h=E,S=f,O=0;O<20;O++){if(d=c(u,t,d),C=o(t,l,d,n,i,a),u=C[0],E=C[1],f=C[2],g=C[3],E<s)return{b:[u],m:g};if(f===S){var A=E/h;if(A>.9999&&A<1.0001)break}h=E,S=f}T=[];var I=function(e,t){var n=r.subtract(e[t-1],e[t+1]);0===n[0]&&0===n[1]&&((n=r.subtract(e[t-1],e[t]).reverse())[0]=-n[0]);var i=r.normalize(n),s=r.mulItems(i,-1);return[i,s]}(t,f);p=I[0],_=I[1];var v,C,L=e(t.slice(0,f+1),n,p,s,a),D=e(t.slice(f),_,i,s,a);return T=(T=T.concat(L.b)).concat(D.b),g=[],L.m.pop(),g=(g=g.concat(L.m)).concat(D.m),{b:T,m:g}}(e,d(e[1],e[0]),d(e[i-2],e[i-1]),t,n)}function o(e,t,n,i,a,o){var c,u,d,E,h;return u=(h=function(e,t,n){var i,a,o,c,u,d,E,h;a=0,o=e.length/2;var f=[];for(u=0,d=e.length;u<d;u++){E=e[u],h=l(t,n[u]);var S=s.q(t,h);f.push({x:S[0],y:S[1],t:E[2]}),c=r.subtract(S,E),(i=c[0]*c[0]+c[1]*c[1])>a&&(a=i,o=u)}return[a,o,f]}(e,c=function(e,t,n,i){var a,o,c,u,l,d,E,h,f,S,p,_,T,m,O,g,A,I=e[0],v=e[e.length-1];for(a=[I,null,null,v],o=r.zeros_Xx2x2(t.length),T=0,m=t.length;T<m;T++)g=t[T],A=1-g,(c=o[T])[0]=r.mulItems(n,3*g*(A*A)),c[1]=r.mulItems(i,3*A*(g*g));for(u=[[0,0],[0,0]],l=[0,0],T=0,m=e.length;T<m;T++)g=t[T],c=o[T],u[0][0]+=r.dot(c[0],c[0]),u[0][1]+=r.dot(c[0],c[1]),u[1][0]+=r.dot(c[0],c[1]),u[1][1]+=r.dot(c[1],c[1]),O=r.subtract(e[T],s.q([I,I,v,v],g)),l[0]+=r.dot(c[0],O),l[1]+=r.dot(c[1],O);d=u[0][0]*u[1][1]-u[1][0]*u[0][1],E=u[0][0]*l[1]-u[1][0]*l[0],h=l[0]*u[1][1]-l[1]*u[0][1],f=0===d?0:h/d,S=0===d?0:E/d,_=r.vectorLen(r.subtract(I,v)),f<(p=1e-6*_)||S<p?(a[1]=r.addArrays(I,r.mulItems(n,_/3)),a[2]=r.addArrays(v,r.mulItems(i,_/3))):(a[1]=r.addArrays(I,r.mulItems(n,f)),a[2]=r.addArrays(v,r.mulItems(i,S)));return a}(e,n,i,a),t))[0],d=h[1],E=h[2],o&&o({bez:c,points:e,params:t,maxErr:u,maxPoint:d}),[c,u,d,E]}function c(e,t,n){return n.map((function(n,r){return u(e,t[r],n)}))}function u(e,t,n){var i=r.subtract(s.q(e,n),t),a=s.qprime(e,n),o=r.mulMatrix(i,a),c=r.sum(r.addItems(r.squareItems(a),r.mulMatrix(i,s.qprimeprime(e,n))));return 0===c?n:n-o/c}function l(e,t){if(t<=0)return 0;if(t>=1)return 1;var n,i,a,o;e.__map_t_p=e.__map_t_p||function(){for(var t,n=[0],i=e[0],a=0,o=1;o<=10;o++)t=s.q(e,o/10),a+=r.vectorLen(r.subtract(t,i)),n.push(a),i=t;return n=n.map((function(e){return e/a}))}();for(var c=e.__map_t_p,u=1;u<=10;u++)if(t<=c[u]){a=(u-1)/10,i=u/10,o=(t-(n=c[u-1]))/(c[u]-n)*(i-a)+a;break}return o}function d(e,t){var n=r.normalize(r.subtract(e,t));return isNaN(n[0])||isNaN(n[1])?[0,0]:n}},"95RW":function(e,t,n){"use strict";var r=n("K0eG");const i=(()=>{let e={WS_URL:r.a.WS_URL,EVENTS_URL:r.a.EVENTS_URL,PROXY_URL:r.a.PROXY_URL,DATA_URL:r.a.DATA_URL,MEDIA_URL:r.a.MEDIA_URL,IMAGE_URL:r.a.IMAGE_URL};const t=(t,n)=>{t in e&&(e[t]=n)};return{getURLs:()=>e,setURL:t,setBaseUrls:e=>{e.ws_domain&&t("WS_URL","wss://".concat(e.ws_domain,"/ws")),e.events_domain&&t("EVENTS_URL","https://".concat(e.events_domain)),e.proxy_domain&&t("PROXY_URL","https://".concat(e.proxy_domain)),e.data_domain&&t("DATA_URL",e.data_domain),e.media_domain&&t("MEDIA_URL",e.media_domain),e.image_domain&&t("IMAGE_URL",e.image_domain)}}})();t.a=i},B18y:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("RIqP"),i=n.n(r),s=n("W8MJ"),a=n.n(s),o=n("lwsE"),c=n.n(o),u=function e(t,n){c()(this,e),this.streamId=t,this.quality=n},l=[new u(12,"720p"),new u(13,"480p"),new u(14,"360p"),new u(15,"240p"),new u(16,"144p")],d=[new u(0,"Low"),new u(1,"Medium"),new u(2,"High")],E=function(){function e(){c()(this,e),this.availableStreams=[],this.useStreaming=!1,this.shakaPlayer=void 0,this.selectedIndex=void 0}return a()(e,[{key:"shouldShowVideoQualitySelector",value:function(){return this.availableStreams.length>0&&void 0!=this.selectedIndex}},{key:"setForUseStreaming",value:function(e){this.useStreaming=e,this.useStreaming&&(this.availableStreams=l,this.selectedIndex=1)}},{key:"setJanusWrapper",value:function(e){this.janusWrapper=e}},{key:"getStream",value:function(e){return this.availableStreams[e]}},{key:"setStream",value:function(e){if(!(this.availableStreams.length<=e)){this.selectedIndex=e;var t=this.availableStreams[e];this.switchStream&&this.switchStream(t)}}},{key:"getSelectedStream",value:function(){return this.availableStreams[this.selectedIndex]}},{key:"getAvailableStreams",value:function(){return this.availableStreams}},{key:"setWebmAvailableStreams",value:function(){this.availableStreams=d,this.selectedIndex=2}},{key:"setStreamsFromVariants",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.availableStreams=[new u(null,"Auto")];var r=e.sort((function(e,t){return e.bandwidth>t.bandwidth?-1:1}));(t=this.availableStreams).push.apply(t,i()(r.map((function(e){return new u(e.id,"".concat(e.height,"p"))})))),this.selectedIndex=n}},{key:"setStreamsFromLevels",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.availableStreams=[new u(-1,"Auto")];var r=i()(e);r.forEach((function(e,t){e.id=t}));var s=r.sort((function(e,t){return e.bitrate>t.bitrate?-1:1}));(t=this.availableStreams).push.apply(t,i()(s.map((function(e){return new u(e.id,"".concat(e.height,"p"))})))),this.selectedIndex=n}},{key:"reset",value:function(){this.availableStreams=[]}}]),e}()},Clpk:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),s=n("yXPU"),a=n.n(s);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){var e,t={video:{cursor:"always",frameRate:20},audio:!1};function n(){return(n=a()(i.a.mark((function n(){var r,s=this,a=arguments;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=a.length>0&&void 0!==a[0]?a[0]:t,this.onStart){n.next=4;break}return console.error("onStart handler (a function) is required. It will run once getDisplayMedia resolves with resultant stream as the parameter."),n.abrupt("return");case 4:return this.onStop||console.warn("onStop handler (a function) is not defined. If provided, it will run once the stream has ended either by user action or by user-agent."),e=void 0,n.prev=6,n.next=9,navigator.mediaDevices.getDisplayMedia(r);case 9:e=n.sent,e.getTracks().forEach((function(e){e.onended="function"===typeof s.onStop&&s.onStop})),"function"===typeof this.onStart&&this.onStart(e),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(6),console.error("[ShareScreenUtil startScreenCapture Error] ",n.t0),"function"===typeof this.onStop&&this.onStop(e);case 19:case"end":return n.stop()}}),n,this,[[6,15]])})))).apply(this,arguments)}function r(){return(r=a()(i.a.mark((function t(){var n,r,s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=e.getTracks(),r=o(n);try{for(r.s();!(s=r.n()).done;)(a=s.value).onended=null,a.stop()}catch(i){r.e(i)}finally{r.f()}}catch(c){console.error("[ShareScreenUtil stopScreenCapture Error] ",c)}finally{"function"===typeof this.onStop&&this.onStop()}case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}return{start:function(){return n.apply(this,arguments)},stop:function(){return r.apply(this,arguments)}}}();t.a=u},ROnF:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),s=n("W8MJ"),a=n.n(s),o=n("6YgN"),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i()(this,e),this.prefix=n,this.key="".concat(n,"_").concat(t),this.prefix=n,this.localStorage=new o.a,this.eventsData=this.fetchSavedData(),this.lastSavedCount=this.eventsData.length,this.autoSaveFrequency=1e3}return a()(e,[{key:"setAutoSaveFrequency",value:function(e){this.autoSaveFrequency=e}},{key:"hasLocalData",value:function(){return this.eventsData.length>0}},{key:"processEventData",value:function(e){this.eventsData.push(e)}},{key:"startAutoSave",value:function(){var e=this;this.autoSaveInterval=setInterval((function(){return e.save()}),this.autoSaveFrequency)}},{key:"stopAutoSave",value:function(){clearInterval(this.autoSaveInterval)}},{key:"save",value:function(){!this.isFetching&&this.eventsData.length>this.lastSavedCount&&(this.lastSavedCount=this.eventsData.length,this.localStorage.setItem(this.key,JSON.stringify(this.eventsData)))}},{key:"fetchSavedData",value:function(){var e=this.localStorage.getItem(this.key);return e?e=JSON.parse(e):[]}},{key:"fetch",value:function(e){this.isFetching=!0,this.eventsData.forEach(e),this.isFetching=!1}},{key:"getEventsFile",value:function(){var e=new Blob([JSON.stringify(this.eventsData)],{type:"application/json"});return new File([e],this.key+".json",{type:e.type})}},{key:"flushLocalStorage",value:function(){this.localStorage.clearItem(this.key)}},{key:"flushAll",value:function(){this.localStorage.clearItems(this.prefix)}}]),e}();t.a=c},RYg1:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("lSNA"),i=n.n(r),s=n("VEaK"),a=n("WlAH"),o=n("+UwG"),c=n("wCkA"),u=n("95RW");const l="heartbeat",d={},E=Object(s.e)(),h=E.getOrCreate("HEARTBEAT"),f=E.getOrCreate("SUBSCRIPTION"),S=()=>{o.f.sendData(o.c.SOCKET_MSG_SUB_MISS)},p=(e,t)=>Math.max(e,t);s.a.POST_INTERVAL=3e5;const _=new s.a((e,t)=>{o.f.sendData(o.c.SOCKET_CHAT_MSG_RTT,t,{[o.e.Measure1]:e})});class T{constructor(e,t,n,r,s){i()(this,"connect",()=>{if(this.isLocal)this.ws=new WebSocket("wss://ws-staging.unacademy.com/ws");else{const e=u.a.getURLs().WS_URL;this.ws=new WebSocket(e)}this.subscriptionCount=0,this.isSubscribed=!1,this.ws.onopen=this.onOpen,this.ws.onclose=this.onClose,this.ws.onmessage=this.onMessage,this.ws.onerror=this.onError}),i()(this,"onOpen",e=>{this.subscribe(),this.onOpenListener(),o.f.sendData(o.c.SOCKET_CONNECTION_SUCCESSFUL,{fqsource:"onSocketOpen"})}),i()(this,"onClose",e=>{this.clearTimers(),this.removeSocketListeners(),o.f.sendData(o.c.SOCKET_CONNECTION_CLOSE,{fqsource:"onSocketClose",code:e.code,reason:e.reason}),e.code&&4001==e.code||(o.f.sendData(o.c.SOCKET_CONNECTION_RETRY,{reason:"NETWORK FAILURE"}),this.reconnectTimeout=setTimeout(this.connect,1e3))}),i()(this,"onMessage",e=>{this.checkForInfoMesages(e.data),this.onMessageListener(e.data)}),i()(this,"onError",e=>{o.f.sendData(o.c.SOCKET_CONNECTION_FAILURE,{fqsource:"onError"})}),i()(this,"clearTimers",()=>{clearTimeout(this.checkForSubscriptionTimeout),clearTimeout(this.reconnectTimeout),clearTimeout(this.checkForPongTimer),clearTimeout(this.sendPingMessageTimer)}),i()(this,"reconnect",()=>{this.close(),this.connect()}),this.messageListeners=[],this.openEventListeners=[],this.subscriptionListeners=[],this.checkForSubscriptionTimeout=void 0,this.reconnectTimeout=void 0,this.checkForPongTimer=void 0,this.sendPingMessageTimer=void 0,this.subscriptionCount=0,this.isSubscribed=!1,this.jwt=e,this.isLocal=s,this.classId=s?2:t,this.userId=s?r?"5PEOR3AB7V":"abhishek":n,this.classTopic="chat:liveclass:".concat(this.classId),this.userTopic="chat:liveclass:".concat(this.classId,":uid:").concat(this.userId),this.isEducator=r,this.profileResults={[l]:null},this.addMessageListener(this.analyticsEventListenerForMessage.bind(this)),setTimeout(this.connect,1e3),window.sm=this}close(){this.clearTimers(),this.removeSocketListeners();const e=this.ws&&this.ws.close;e&&this.ws.close(4001,"Deliberately closed"),o.f.sendData(o.c.SOCKET_CONNECTION_CLOSE,{fqsource:"close",isDeliberate:e})}getPingPongTime(){return this.isEducator?a.zb:window.keepAliveTime<a.yb?window.keepAliveTime:a.yb}checkForInfoMesages(e){let t=JSON.parse(e);switch(t.type){case"INFO":if(!t.error&&t.text.includes("subscribed to"))o.f.sendData(o.c.SOCKET_INFO_MSG,{fqsource:"checkForInfoMesages",msg:t.text}),this.subscriptionCount+=1,2==this.subscriptionCount&&this.onSubscribed();else if(!t.error&&t.text.includes("pong")){let e=this.getPingPongTime();clearTimeout(this.checkForPongTimer),clearTimeout(this.sendPingMessageTimer),this.calculateTimerFor(l),this.sendPingMessageTimer=setTimeout(()=>{this.sendPingMessage()},1e3*e)}else e.error&&o.f.sendData(o.c.SOCKET_INFO_MSG,{fqsource:"checkForInfoMesages",err:e.error})}}analyticsEventListenerForMessage(e){const t=JSON.parse(e);if("DATA"===t.type)try{const e=JSON.parse(JSON.parse(t.text).text);if(!(e instanceof Array)&&Object(c.qb)(e)&&e.localTraceId in d){const t=d[e.localTraceId].end();d[e.localTraceId],_.setRelayData(this.profileResults),_.push(t.dts,p)}}catch(n){}}calculateTimerFor(e){if(e===l&&h.isProfileRunning()){const e=h.end();this.profileResults[l]=e.dts}}onSubscribed(){this.isSubscribed=!0,this.sendPingMessage(),this.onSubscriptionListener(),f.end()}sendPingMessage(){let e=this.getPingPongTime();h.start(),this.sendDataOnSocket({heart_beat:"ping"}),clearTimeout(this.checkForPongTimer),this.checkForPongTimer=setTimeout(()=>{o.f.sendData(o.c.PING_MISS),this.reconnect()},1e3*e)}subscribe(){let e={token:this.jwt,subscriptions:[this.classTopic,this.userTopic]};o.f.sendData(o.c.SOCKET_SUB,{fqsource:"subscribe",classTopic:this.classTopic,userTopic:this.userTopic}),f.start();f.ttl(5e3).then(S),this.sendDataOnSocket(e),clearTimeout(this.checkForSubscriptionTimeout),this.checkForSubscriptionTimeout=setTimeout(()=>{this.subscriptionCount<2&&(o.f.sendData(o.c.SOCKET_CONNECTION_RETRY,{reason:"SUBSCRIPTION FAILURE"}),this.reconnect())},1e4)}unSubscribe(){let e={token:this.jwt,unsubscriptions:[this.classTopic,this.userTopic]};o.f.sendData(o.c.SOCKET_SUB,{fqsource:"unSubscribe",classTopic:this.classTopic,userTopic:this.userTopic}),this.sendDataOnSocket(e)}sendMessage(e){e.localTraceId=Object(c.j)();const t=new s.c;t.start(),d[e.localTraceId]=t;let n={messages:[{topic:this.classTopic,text:JSON.stringify({command:"SEND",text:JSON.stringify({message:JSON.stringify(e)})})}]};this.sendDataOnSocket(n)}updateMessage(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"UPDATE",text:JSON.stringify({message:e.text,id:e.id})})}]};this.sendDataOnSocket(t)}getHistory(e=0,t=!0,n=100,r=null){let i=t?"Before":"After",s=t?"DESC":"ASC";0==e&&(e=(new Date).getTime());let a={messages:[{topic:this.classTopic,text:JSON.stringify({command:"QUERY_HISTORY",text:JSON.stringify({time:e,time_direction:i,limit:n,direction:s})})}]};this.sendDataOnSocket(a)}getParticipants(e=!0){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"GET_PARTICIPANTS",text:JSON.stringify({only_active:e,limit:3})})}]};this.sendDataOnSocket(t)}getEducatorConfig(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"GET_EDUCATOR_CONFIG",text:JSON.stringify({config_type:e})})}]};this.sendDataOnSocket(t)}updateEducatorConfig(e,t){let n={messages:[{topic:this.classTopic,text:JSON.stringify({command:"EDUCATOR_CONFIG_UPDATE",text:JSON.stringify({config_type:e,config_value:JSON.stringify(t)})})}]};this.sendDataOnSocket(n)}getLearnersCount(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"GET_PARTICIPANTS_COUNT",text:""})}]};this.sendDataOnSocket(e)}sendClassFinish(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"CLASS_FINISH",text:""})}]};this.sendDataOnSocket(e)}setClassConfiguration(e){const t=JSON.stringify(e);let n={messages:[{topic:this.classTopic,text:JSON.stringify({command:"CLASS_CONFIGURATION",text:t})}]};this.sendDataOnSocket(n)}getClassStats(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"CLASS_STATS",text:""})}]};this.sendDataOnSocket(e)}getActivePoll(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"GET_ACTIVE_POLL",text:""})}]};this.sendDataOnSocket(e)}openPoll(e,t,n,r){let i={messages:[{topic:this.classTopic,text:JSON.stringify({command:"OPEN_POLL",text:JSON.stringify({question:e,time:r,choices:t,answer:n})})}]};this.sendDataOnSocket(i)}getPoll(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"GET_POLL",text:JSON.stringify({id:e})})}]};this.sendDataOnSocket(t)}getClassLeaderBoardMyRank(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"CLASS_LEADERBOARD_MY_RANK"})}]};this.sendDataOnSocket(e)}getPollLeaderBoardMyRank(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"POLL_LEADERBOARD_MY_RANK",text:JSON.stringify({poll_id:e})})}]};this.sendDataOnSocket(t)}getLearnersStreak(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"LEARNER_STREAK",text:JSON.stringify({id:e})})}]};this.sendDataOnSocket(t)}getLeaderBoard(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"LEADER_BOARD"})}]};this.sendDataOnSocket(e)}shareLeaderBoard(){o.f.sendData(o.c.LEADERBOARD_SHARED);let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"SHARE_LEADER_BOARD"})}]};this.sendDataOnSocket(e)}broadcastData(e){const t=JSON.stringify(e);let n={messages:[{topic:this.classTopic,text:JSON.stringify({command:"BROADCAST",text:t})}]};this.sendDataOnSocket(n)}closeLeaderBoard(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"CLOSE_LEADER_BOARD"})}]};this.sendDataOnSocket(e)}incrementTimePoll(e,t){let n={messages:[{topic:this.classTopic,text:JSON.stringify({command:"INCREASE_TIMER",text:JSON.stringify({id:e,time:t})})}]};this.sendDataOnSocket(n)}unBlockThisUser(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"UNBLOCK",text:JSON.stringify({id:e})})}]};this.sendDataOnSocket(t)}blockThisUser(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"BLOCK",text:JSON.stringify({id:e})})}]};this.sendDataOnSocket(t)}askQuestion(e,t){let n={messages:[{topic:this.classTopic,text:JSON.stringify({command:"ASK_QUESTION",text:JSON.stringify({description:e,links:[t]})})}]};this.sendDataOnSocket(n)}enableQuestion(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"ENABLE_QUESTION"})}]};this.sendDataOnSocket(e)}disableQuestion(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"DISABLE_QUESTION"})}]};this.sendDataOnSocket(e)}enableChat(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"ENABLE_CHAT"})}]};this.sendDataOnSocket(e)}disableChat(){let e={messages:[{topic:this.classTopic,text:JSON.stringify({command:"DISABLE_CHAT"})}]};this.sendDataOnSocket(e)}sendPinData(e,t){const n={messages:[{topic:this.classTopic,text:JSON.stringify({command:t,text:JSON.stringify({text:e.text})})}]};this.sendDataOnSocket(n)}skipQuestion(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"SKIP_QUESTION",text:JSON.stringify({id:e})})}]};this.sendDataOnSocket(t)}answerQuestion(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"ANSWER_QUESTION",text:JSON.stringify({id:e})})}]};this.sendDataOnSocket(t)}getAllQuestions(e=0,t=10){let n={messages:[{topic:this.classTopic,text:JSON.stringify({command:"GET_QUESTIONS",text:JSON.stringify({limit:t,offset:e,direction:"ASC"})})}]};this.sendDataOnSocket(n)}deleteMessagesFromUser(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"DELETE",text:JSON.stringify({id:e})})}]};this.sendDataOnSocket(t)}replyPoll(e,t){let n={messages:[{topic:this.classTopic,text:JSON.stringify({command:"RESPOND_POLL",text:JSON.stringify({poll_id:e,choice_id:t,uid:this.userId})})}]};this.sendDataOnSocket(n)}closePoll(e){let t={messages:[{topic:this.classTopic,text:JSON.stringify({command:"CLOSE_POLL",text:JSON.stringify({id:e})})}]};this.sendDataOnSocket(t)}sendDataOnSocket(e){const t=JSON.stringify(e);try{this.ws.send(t)}catch(n){o.f.sendData(o.c.SOCKET_CONNECTION_CLOSE,{payload:t,error:n})}}addMessageListener(e){this.messageListeners.push(e)}removeMessageListener(e){this.messageListeners=this.messageListeners.filter(t=>t!==e)}onMessageListener(e){this.messageListeners.forEach(t=>{t(e)})}addSubscriptionListener(e){this.subscriptionListeners.push(e),this.isSubscribed&&e()}removeSubscriptionListener(e){this.subscriptionListeners=this.subscriptionListeners.filter(t=>t!==e)}onSubscriptionListener(){this.subscriptionListeners.forEach(e=>{e()})}addOpenListener(e){this.openEventListeners.push(e)}removeOpenListener(e){this.openEventListeners=this.openEventListeners.filter(t=>t!==e)}onOpenListener(){this.openEventListeners.forEach(e=>{e()})}removeSocketListeners(){this.ws&&(this.ws.onopen=null,this.ws.onclose=null,this.ws.onmessage=null,this.ws.onerror=null)}}},RYsq:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("lSNA"),i=n.n(r),s=n("WlAH"),a=n("wCkA"),o=n("0CM6"),c=n("hwvQ"),u=n("Gbs5"),l=n("R7dN"),d=n("+FqH");let E;!function(e){e.MAIN_PREPROCESSOR_ID="__MAIN__",e.DRIVE_FILE_PREVIEW="DRIVE_FILE_PREVIEW"}(E||(E={}));class h{constructor(e=!1,t=null,n=!1,r=s.vb.DARK_DEFAULT){i()(this,"version",void 0),i()(this,"skipEmptySlide",void 0),i()(this,"isLive",void 0),i()(this,"shouldSyncChat",void 0),i()(this,"currentMarkerColorEvent",void 0),i()(this,"currentPenStrokeEvent",void 0),i()(this,"currentEraserStrokeEvent",void 0),i()(this,"currentDrawingModeEvent",void 0),i()(this,"slideList",void 0),i()(this,"pollPredictionList",void 0),i()(this,"imagesCacheList",void 0),i()(this,"slideChangeEventList",void 0),i()(this,"pollChangeEventsMap",void 0),i()(this,"controlWrapperEvents",void 0),i()(this,"addSlideEventList",void 0),i()(this,"chatEvents",void 0),i()(this,"defaultMarkerColor",void 0),this.version=t?Number(t):null,this.skipEmptySlide=n,this.defaultMarkerColor=r,this.setDefaultEvents(),this.slideList=this.skipEmptySlide?new u.a:new u.a([new o.a(this.getCurrentDrawingEvents())]),this.pollPredictionList=new u.a([new l.a]),this.imagesCacheList=new u.a([new d.a]),this.slideChangeEventList=new u.a,this.pollChangeEventsMap=new Map,this.controlWrapperEvents=new u.a,this.addSlideEventList=new u.a,this.chatEvents=new u.a,this.shouldSyncChat=!1,this.isLive=e}setDefaultEvents(){const e=this.skipEmptySlide?this.defaultMarkerColor:s.vb.LIGHT_DEFAULT,t=this.version&&this.version<=645?1:s.wb.DEFAULT;this.currentMarkerColorEvent=new c.a(Object(a.s)(e),null),this.currentPenStrokeEvent=new c.a(Object(a.S)(t),null),this.currentEraserStrokeEvent=new c.a(Object(a.J)(s.J.DEFAULT),null),this.currentDrawingModeEvent=new c.a(Object(a.D)(s.v.MARKER),null)}processEvent(e){switch(e.plugin){case s.Ab.DrawingBoardControls:this.processDrawingBoardEvent(e);break;case s.Ab.CanvasWrapper:this.processCanvasWrapperData(e);break;case s.Ab.Control:this.processControlData(e);break;case s.Ab.Chat:this.processChatEvents(e);break;case s.Ab.Poll:this.processPollEvents(e);break;case s.Ab.Cloud:this.processCloudPollEvents(e)}}processCloudPollEvents(e){const t=e.data;switch(t.mode){case s.m.CREATE:case s.m.UPDATE:const e=this.slideList.getItem(t.slideIndex).updatePollData(t);this.slideList=this.slideList.updateItem(e,t.slideIndex),o.b.triggerSlideDataChangeListener(this.slideList);break;case s.m.DELETE:const n=this.slideList.getItem(t.slideIndex).updatePollData(null);this.slideList=this.slideList.updateItem(n,t.slideIndex),o.b.triggerSlideDataChangeListener(this.slideList)}}processPollEvents(e){const t=e.data;let n=this.pollChangeEventsMap.get(t.id);switch(t.type){case s.L.OPEN_POLL:this.pollChangeEventsMap=this.pollChangeEventsMap.set("".concat(t.id),{time:t.time,poll_timer:t.time,choices:t.choices,answer:t.answer,isAnswered:!1});break;case s.L.INCREMENT_TIMER:if(n){const e=n.time+t.timeIncreased;n.time=e,n.poll_timer=e,this.pollChangeEventsMap=this.pollChangeEventsMap.set(t.id,n)}break;case s.L.CLOSE_POLL:n&&(n.id=t.pollId,n.choices=t.choices,n.replayId=t.id,this.pollChangeEventsMap=this.pollChangeEventsMap.set(t.id,n))}}processDrawingBoardEvent(e){switch(e.data.type){case s.L.ADD_SLIDE:return void this.processAddSlideEvent(e);case s.L.SLIDE_CHANGE:return void this.processSlideChangeEvent(e);case s.L.PEN_STROKE_CHANGE:this.currentPenStrokeEvent=e;break;case s.L.ERASER_STROKE_CHANGE:this.currentEraserStrokeEvent=e;break;case s.L.MODE_CHANGE:this.currentDrawingModeEvent=e;break;case s.L.CHANGE_COLOR:this.currentMarkerColorEvent=e}this.addEventToAllSlides(e)}processCanvasWrapperData(e){const t=e.data,n=t.id,r=t.type;if(null!=n){let t=this.slideList.getItem(n);t&&(r==s.L.DOWN&&(e=e.updateMode(this.currentDrawingModeEvent.data.mode)),r==s.L.UNDO&&(t=this.processUndoEvent(n,e)),t=t.addEvent(e),this.slideList=this.slideList.updateItem(t,n),this.checkForSlideBackgroundChangeEvent(t,e),this.checkForZoomEvent(t,e),this.checkForRotateSlideEvent(t,e))}}processUndoEvent(e,t){let n=this.slideList.getItem(e),r=n.events;if(r.size>1)for(let i=r.size-1;i>=0;i--){let e=r.get(i);if(e.data.type===s.L.DOWN&&!e.data.isUndone&&(e=e.setUndone(t.time),r=r.set(i,e),e.data.mode!=s.v.HIGHLIGHTER))break}return n=n.updateEvents(r),n}checkForSlideBackgroundChangeEvent(e,t){t&&t.data.type==s.L.SLIDE_BACKGROUND_CHANGE&&(e=e.updateBgColor(t.data.color),this.slideList=this.slideList.updateItem(e,t.data.id))}checkForZoomEvent(e,t){t&&t.data.type==s.L.ZOOM&&(e=e.updateZoomValue(t.data.zoomValue),this.slideList=this.slideList.updateItem(e,t.data.id))}checkForRotateSlideEvent(e,t){t&&t.data.type==s.L.ROTATE_SLIDE&&(e=e.rotate(),this.slideList=this.slideList.updateItem(e,t.data.id))}processControlData(e){e&&(!this.isLive&&e.data&&e.data.type==s.L.CLASS_PING&&(this.shouldSyncChat=!0),this.controlWrapperEvents=this.controlWrapperEvents.push(e))}processChatEvents(e){e&&(this.chatEvents=this.chatEvents.push(e))}processAddSlideEvent(e){this.addSlide(e),this.addSlideEventList=this.addSlideEventList.push(e)}processSlideChangeEvent(e){const t=e.data.index,n=e.time;if(this.slideChangeEventList.length>0){let r=this.slideChangeEventList.last.data,i=0;if(i=this.isLive?n-r.time:(n-r.time)/1e3,i<100)return this.slideChangeEventList=this.slideChangeEventList.updateItem(e,this.slideChangeEventList.length-1),void this.updateSlideData(t,n)}this.slideChangeEventList=this.slideChangeEventList.push(e),this.updateSlideData(t,n)}updateSlideData(e,t){let n=this.slideList.getItem(e);n&&(n=n.addEvents(this.getCurrentDrawingEvents()),n.startTime||(n=n.updateStartTime(t)),this.slideList=this.slideList.updateItem(n,e))}addSlide(e){const t=e.data,n=t.uid,r=t.index,i=t.url,a=t.backgroundColor,c=t.backgroundImage,u=t.staticImgUrl,E=t.meta,h=new o.a(this.getCurrentDrawingEvents(),i,a,c,u,s.jc.INIT,n,E);this.slideList=this.slideList.insert(h,r),this.pollPredictionList=this.pollPredictionList.insert(new l.a,r),this.imagesCacheList=this.imagesCacheList.insert(new d.a(i),r)}addEventToAllSlides(e){this.slideList=this.slideList.map(t=>{if(t)return t.addEvent(e)})}getCurrentDrawingEvents(){let e=[];return this.currentPenStrokeEvent&&e.push(this.currentPenStrokeEvent),this.currentEraserStrokeEvent&&e.push(this.currentEraserStrokeEvent),this.currentDrawingModeEvent&&e.push(this.currentDrawingModeEvent),this.currentMarkerColorEvent&&e.push(this.currentMarkerColorEvent),e}getSeekPosition(e,t){let n=this.getSeekedActiveSlide(e),r=this.getSeekedPlayIndex(e,t);const i=this.getSeekedControlData(e),s=i.classStartTime,a=i.chatOffsetTime,o=i.isCameraTurnedOff,c=i.cameraRatio,u=i.useGreenScreen,l=i.educatorBoxAlign,d=i.isScreenShared,E=i.useRoundVideo,h=this.getSeekedChatData(e);return{playIndex:r,activeSlide:n,classStartTime:s,chatOffsetTime:a,isCameraTurnedOff:o,pinnedMsg:h.pinnedMsg,havePinnedMsg:h.havePinnedMsg,cameraRatio:c,useGreenScreen:u,educatorBoxAlign:l,isScreenShared:d,useRoundVideo:E}}getSeekedActiveSlide(e){let t=0;if(this.isLive)for(t=0;t<this.slideChangeEventList.length&&!(this.slideChangeEventList.getItem(t).time>e);t++);else for(t=0;t<this.slideChangeEventList.length&&!(this.slideChangeEventList.getItem(t).time/1e3>1e3*e);t++);return t>0?this.slideChangeEventList.getItem(t-1).data.index:0}getSeekedPlayIndex(e,t){let n=0;if(this.isLive)for(n=0;n<t.length&&!(t[n].time>e);n++);else for(n=0;n<t.length&&!(t[n].time/1e3>1e3*e);n++);return n<=0?0:n-1}getSeekedControlData(e){let t=0,n=null,r=0,i=!1,o=s.y.DEFAULT,c=!1,u=!1,l=!1,d=Object(a.H)(s.y.DEFAULT).LEFT_BOTTOM;for(;t<this.controlWrapperEvents.length;t++){let a=this.controlWrapperEvents.getItem(t),E=a.data;if(E){if(this.isLive){if(a.time>e)break}else if(a.time/1e3>1e3*e)break;if(E.type==s.L.CAMERA_SWITCH)i=!a.value;else if(E.type==s.L.CLASS_PING){let e=E.pTime?E.pTime/1e3:0;if(n){let t=n+e;r=E.ct-t}else n=E.ct-e}else if(E.type==s.L.GREEN_SCREEN)c=E.value;else if(E.type==s.L.EDUCATOR_ALIGN)d=E.alignment;else if(E.type==s.L.SHARE_SCREEN)u=!!E.value;else if(E.type==s.L.CLASS_CONFIG){const e=E.value,t=e[s.n.VIDEO_MODES.CONFIG_KEY];t&&(t===s.n.VIDEO_MODES.GREEN_SCREEN?c=!0:t===s.n.VIDEO_MODES.ROUND_VIDEO&&(l=!0));const n=e[s.n.CAMERA_RATIO];n&&(o=n)}else E.type===s.L.CAMERA_RATIO&&(o=E.value)}}return{classStartTime:n,chatOffsetTime:r,isCameraTurnedOff:i,cameraRatio:o,useGreenScreen:c,educatorBoxAlign:d,isScreenShared:u,useRoundVideo:l}}getSeekedChatData(e){let t=null,n=!1;for(let r=0;r<this.chatEvents.length;r++){let i=this.chatEvents.getItem(r);if(i&&i.data){if(this.isLive){if(i.time>e)break}else if(i.time/1e3>1e3*e)break;i.data.type==s.L.MESSAGE_PINNED&&(t=i.data.message?i.data.message:null,n=!!i.data.shouldPin&&i.data.shouldPin)}}return{pinnedMsg:t,havePinnedMsg:n}}reset(){this.setDefaultEvents(),this.slideList=this.skipEmptySlide?new u.a:new u.a([new o.a(this.getCurrentDrawingEvents())]),this.pollPredictionList=new u.a([new l.a]),this.imagesCacheList=new u.a([new d.a]),this.slideChangeEventList=new u.a,this.pollChangeEventsMap=new Map,this.controlWrapperEvents=new u.a,this.addSlideEventList=new u.a,this.chatEvents=new u.a}updateImageCacheItem(e,t){this.imagesCacheList=this.imagesCacheList.updateItem(e,t)}updatePollPredictionItem(e,t){this.pollPredictionList=this.pollPredictionList.updateItem(e,t)}getSlideImageUrls(e,t=0){const n=[],r=this.imagesCacheList;for(let i=t;i<r.length;i++){const e=r.getItem(i).url;e&&"string"===typeof e&&n.push(e)}return n.slice(0,e)}getCurrentDrawingData(){var e,t,n,r,i,a,o,c;let u=s.vb.LIGHT_DEFAULT,l=s.v.MARKER,d=s.J.DEFAULT,E=s.wb.DEFAULT;return null!==(e=this.currentMarkerColorEvent)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.color&&(u=this.currentMarkerColorEvent.data.color),null!==(n=this.currentDrawingModeEvent)&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.mode&&(l=this.currentDrawingModeEvent.data.mode),null!==(i=this.currentEraserStrokeEvent)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.size&&(d=this.currentEraserStrokeEvent.data.size),null!==(o=this.currentPenStrokeEvent)&&void 0!==o&&null!==(c=o.data)&&void 0!==c&&c.size&&(E=this.currentPenStrokeEvent.data.size),{markerColor:u,drawingMode:l,eraserStrokeSize:d,penStrokeSize:E}}isValidSlide(e){return!!(e>=0&&e<this.slideList.length&&this.slideList.getItem(e))}get slides(){return this.slideList}get numSlides(){return this.slideList.length}get addSlideEvents(){return this.addSlideEventList}get pollChangeEvents(){return this.pollChangeEventsMap}get slideChangeEvents(){return this.slideChangeEventList}get imagesCache(){return this.imagesCacheList}get pollPrediction(){return this.pollPredictionList}}class f{constructor(){}static getOrCreate(e,t){var n,r;let i=t||E.MAIN_PREPROCESSOR_ID;if(i in this.preProcessors&&this.preProcessors[i])return this.preProcessors[i];const a=!(!e||!e.isLive)&&e.isLive,o=e&&e.version?e.version:null,c=null!==(n=null===e||void 0===e?void 0:e.skipEmptySlide)&&void 0!==n&&n,u=null!==(r=null===e||void 0===e?void 0:e.defaultMarkerColor)&&void 0!==r?r:s.vb.DARK_DEFAULT,l=new h(a,o,c,u);return this.preProcessors[i]=l,l}static cleanup(){Object.keys(this.preProcessors).forEach(e=>{this.preProcessors[e].reset()}),this.preProcessors={}}static get main(){return this.preProcessors[E.MAIN_PREPROCESSOR_ID]||new h}}i()(f,"preProcessors",{}),t.b=f},UKLk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("wCkA");class i{static getImageUrls(e){return new Promise((t,i)=>{let s=[];const a=e.file;if(Object(r.mb)(a)){const n=e.publicUrl?[e.publicUrl]:[];t(n)}else if(Object(r.rb)(a)){var o=new FileReader;o.onload=a=>{let o=new Uint8Array(a.target.result);Promise.all([n.e(0),n.e(32),n.e(9)]).then(n.t.bind(null,"+6Tl",7)).then(n=>{n.getDocument(o).promise.then(n=>{let i=n.numPages;for(let t=0;t<i;t++){const n=Math.floor(Object(r.V)(5));let i=e.publicUrl+"?page="+(t+1)+"&t=".concat(n);s.push(i)}t(s)})}).catch(e=>{console.error("PDF ERROR:"+e),i("PDF Error: "+e)})},o.readAsArrayBuffer(e.file)}else Object(r.tb)(a)&&t([])})}}},VYBE:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),s=n("yXPU"),a=n.n(s);var o=function(){var e=!1;function t(){e=!0,console.log("Exited picture-in-picture")}function n(){return(n=a()(i.a.mark((function n(r,s){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=19;break}if(e=!1,n.prev=2,!("pictureInPictureElement"in document)){n.next=11;break}return n.next=6,r.requestPictureInPicture();case 6:a=n.sent,r.addEventListener("leavepictureinpicture",t,!1),s&&s(a),n.next=12;break;case 11:console.log("pictureInPictureElement is not supported");case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(2),console.log("[PIP ERROR][enterPictureInPicture] ",n.t0);case 17:n.next=20;break;case 19:console.log("Video element reference is ".concat(typeof r),r);case 20:case"end":return n.stop()}}),n,null,[[2,14]])})))).apply(this,arguments)}function r(){return(r=a()(i.a.mark((function n(r,s){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&r.removeEventListener("leavepictureinpicture",t),e){n.next=16;break}if(n.prev=2,!document.pictureInPictureElement){n.next=10;break}return n.next=6,document.exitPictureInPicture();case 6:a=n.sent,s&&s(a),n.next=11;break;case 10:console.log("pictureInPictureElement is not supported");case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),console.log("[PIP ERROR][exitPictureInPicture] ",n.t0);case 16:case"end":return n.stop()}}),n,null,[[2,13]])})))).apply(this,arguments)}return{enterPIP:function(e,t){return n.apply(this,arguments)},exitPIP:function(e,t){return r.apply(this,arguments)}}}();t.a=o},W7iK:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),s=n("W8MJ"),a=n.n(s),o=n("lSNA"),c=n.n(o),u=n("WlAH"),l=n("wCkA"),d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;i()(this,e),c()(this,"startAudioContext",(function(){t.audioContext||(t.audioContext=new AudioContext),"running"!==t.audioContext.state&&t.audioContext.resume()})),c()(this,"getDefaultDeviceConstraint",(function(){return{audio:{optional:[{sourceId:t.microphoneId}]}}})),c()(this,"initialize",(function(e,n,r){return t.startAudioContext(),t.microphoneId=e,t.fftSize=n,t.smoothingTimeConstant=r,new Promise((function(n,r){if(e){var i=t.getDefaultDeviceConstraint();t.getStream(i,(function(e){t.stopStream(),t.audioStream=e;var r=t.audioContext.createMediaStreamSource(e);t.audioAnalyser=t.getAnalyser(),r.connect(t.audioAnalyser),n()}),(function(e){console.log(u.kb,e),r(e)}))}else r()}))})),c()(this,"getStream",(function(e,t,n){navigator.mediaDevices.getUserMedia(e).then(t).catch(n)})),c()(this,"getAnalyser",(function(){var e=t.audioContext.createAnalyser();return e.fftSize=t.fftSize,e.smoothingTimeConstant=t.smoothingTimeConstant,t.frequencyData=new Uint8Array(e.frequencyBinCount),e})),c()(this,"getVolume",(function(){return t.audioAnalyser.getByteFrequencyData(t.frequencyData),t.frequencyData.reduce((function(e,t){return e+t}),0)/t.frequencyData.length/255})),c()(this,"startMonitoringVolume",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.4,s=function e(){var r=t.getVolume();n(r),t.monitorVolumeTimeout=setTimeout(e,1e3/t.FPS)};t.stopMonitoringVolume(),t.initialize(e,r,i).then(s)})),c()(this,"stopMonitoringVolume",(function(){t.monitorVolumeTimeout&&(clearTimeout(t.monitorVolumeTimeout),t.monitorVolumeTimeout=null)})),c()(this,"stopStream",(function(){return Object(l.Db)(t.audioStream)})),this.audioContext=null,this.audioStream=null,this.audioAnalyser=null,this.frequencyData=null,this.monitorVolumeTimeout=null,this.fftSize=null,this.smoothingTimeConstant=null,this.microphoneId=null,this.FPS=n}return a()(e,[{key:"isMonitoringVolume",get:function(){return null!==this.monitorVolumeTimeout}}]),e}();t.a=d},Xq25:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("z0WU");var r=n("WlAH");class i{constructor(){this.started=!1,this.pauseOffset=0,this.pausedAt=0,this.classStartTime=0,this.playedDuration=0}time(){return this.totalRunTime()}totalRunTime(){return this.pausedAt>0?this.pausedAt-this.startedAt-this.pauseOffset:(new Date).getTime()-this.startedAt-this.pauseOffset}totalWatchTime(e,t){let n=0;return t?n=this.playedDuration-this.classStartTime:(n=this.classStartTime?(new Date).getTime()-this.classStartTime:0,e&&(n=this.playedDuration?this.playedDuration:n)),n.toFixed(2)}updateStartTime(e){this.classStartTime=e}updatePlayedTillTime(e){this.playedDuration=e}start(){this.started=!0,this.startedAt=(new Date).getTime()}pause(){this.pausedAt=(new Date).getTime()}resume(){this.started?0!=this.pausedAt&&(this.pauseOffset+=(new Date).getTime()-this.pausedAt,this.pausedAt=0):this.start()}end(){this.started=!1,this.pauseOffset=0,this.pausedAt=0}}class s{constructor(e){this.clock=new i,this.sendSuccessFullWatchEvents=e,this.successFulView5MinSent=!1,this.successFulView15MinSent=!1,this.watchTimeTimer=setInterval(()=>{this.calculateWatchTime()},1e4)}start(){this.clock.start()}onLessonPlay(){this.clock.resume()}onLessonPause(){this.clock.pause()}onCancelLesson(){this.clock.end()}updateStartTime(e){this.clock.updateStartTime(e)}calculateWatchTime(){this.totalRunTime=parseInt(this.clock.totalRunTime()/1e3),this.totalRunTime>=r.Wb.SUCESSFULL_WATCH_FIVE_MINUTES_VALUE&&!this.successFulView5MinSent&&(this.successFulView5MinSent=!0,this.sendSuccessFullWatchEvents(r.Wb.SUCESSFULL_WATCH_FIVE_MINUTES)),this.totalRunTime>=r.Wb.SUCESSFULL_WATCH_FIFTEEN_MINUTES_VALUE&&!this.successFulView15MinSent&&(this.successFulView15MinSent=!0,this.sendSuccessFullWatchEvents(r.Wb.SUCESSFULL_WATCH_FIFTEEN_MINUTES))}cleanUp(){clearInterval(this.watchTimeTimer),this.successFulView5MinSent=!1,this.successFulView15MinSent=!1}}},dm8e:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n("9/5/"),i=n.n(r);function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=function(){var e,t,n,r=new Map,i=function(){var i=document.hidden;i?e=Date.now():(t=Date.now(),e&&(n=t-e));var a,o=s(r.keys());try{for(o.s();!(a=o.n()).done;){(0,a.value)(i,n)}}catch(c){o.e(c)}finally{o.f()}};return document.addEventListener("visibilitychange",i),{addListener:function(e){e&&"function"===typeof e?r.set(e,null):console.log("[BaseDocumentVisibilityUtil] Please provide valid listener.")},removeListener:function(e){r.delete(e),r.size||document.removeEventListener("visibilitychange",i)}}}(),c=function(){var e,t,n,r,s,a,o=!1,c=!1,u=!0,l=null,d=null,E=null,h=function(){o=!0,r(),O(),_(),g(),T()},f=function(){A(),s()},S=function(){f()},p=function(){(l=i()(h,e))()},_=function(){(d=i()(f,t))()},T=function(){(E=i()(S,n))()},m=function(){l&&l.cancel(),l=null},O=function(){d&&d.cancel(),d=null},g=function(){E&&E.cancel(),E=null},A=function(){u=!0,o=!1,m(),O(),g()},I=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u?document.hidden||a():o?(d&&d(),e&&E&&E()):e&&l&&l()},v=function(){u||I()},C=function(){I(!0)};return{init:function(i,l,d,E,h,f){i&&l&&d&&E&&"function"===typeof E&&h&&"function"===typeof h?(e=1e3*i,t=1e3*l,n=1e3*d,r=E,s=h,a=f,m(),p(),window.addEventListener("mousemove",C),window.addEventListener("click",C),window.addEventListener("keydown",C),window.addEventListener("volumeThresholdCrossed",v),o=!1,c=!0,u=!1):console.log("[InactivityUtil] Please provide valid arguments to InactivityUtil.")},stop:A,restart:function(){u=!1,o=!1,m(),p()},destroy:function(){o=!1,c=!1,u=!0,m(),O(),g(),window.removeEventListener("mousemove",C),window.removeEventListener("click",C),window.removeEventListener("keydown",C),window.removeEventListener("volumeThresholdCrossed",v)},isInitialized:function(){return c}}}()},"g7+r":function(e,t,n){"use strict";var r=n("lSNA"),i=n.n(r),s=n("+UwG"),a=n("K0eG");class o{constructor(e=[],t){i()(this,"backupList",void 0),i()(this,"currentBackupIndex",void 0),this.backupList=[t,...e],this.currentBackupIndex=0}isLast(){return this.currentBackupIndex===this.backupList.length-1}sendCDNSwitchEvent(){const e={from:this.backupList[this.currentBackupIndex],to:this.backupList[this.currentBackupIndex+1]};s.f.sendData(s.c.CDN_SWITCH,e,{[s.e.Card]:1,[s.e.Measure1]:0})}next(){this.isLast()||(this.sendCDNSwitchEvent(),this.currentBackupIndex+=1)}getURLDomain(){return this.backupList[this.currentBackupIndex]}}const c=function(){let e={};const t=a.a.CDN_BACKUP;for(const n in t)e[n]=new o(t[n]||[],n);return{initialize:t=>{for(const n in t)e[n]=new o(t[n]||[],n)},getCDN:t=>e[t]}}();t.a=c},gyWk:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("o0o1"),i=n.n(r),s=n("yXPU"),a=n.n(s),o=n("lSNA"),c=n.n(o),u=n("0U3w"),l=n("vDqi"),d=n.n(l);var E=n("pND6"),h=n("UKLk"),f=n("p8Lg"),S=n("WlAH");class p{constructor(){c()(this,"accessToken","LF85xjAc6jFu0Mbau4bKw8nwS6lrNF"),c()(this,"apiHost","https://api-uadrive.gamma.unacademydev.com/api")}setAccessTokenAndApiHost(e,t){this.accessToken=e,this.apiHost=t}startUploading(e,t,n=!1){return new Promise((r,i)=>{(class{static getSigningUrl(e,t,n){const r=t+e.getUrlToFetchSigningUrl(),i=e.getSigningUrlBody();return new Promise((e,t)=>{d.a.post(r,i,{headers:{Authorization:"Bearer ".concat(n)}}).then(t=>{const n=t.data[0];e(n)}).catch(e=>{t(e)})})}}).getSigningUrl(e,this.apiHost,this.accessToken).then(s=>{e.setSigningUrlAndPublicUrl(s.signed_url,s.public_url),e.setUploadState(u.b.Uploading),e.isCancelled?i({message:"Already cancelled"}):this.uploadFile(e,t).then(()=>{n?this.createAndUploadFileToDrive(e).then(e=>{r(e)}).catch(e=>{i(e)}):r(e)}).catch(e=>{i(e)})}).catch(e=>{i(e),console.log("Signing url error",e)})})}uploadFile(e,t){return new Promise((n,r)=>{const i=d.a.CancelToken.source();e.axiosSource=i;const s=new FileReader;s.onload=()=>{2===s.readyState&&d.a.put(e.signingUrl,s.result,{headers:{"Content-Type":e.file.type},onUploadProgress:e=>{const n=e.loaded/e.total;t&&t(100*n)},cancelToken:i.token}).then(e=>{n(e)}).catch(e=>{r(e)})},s.onerror=e=>{r(e)},s.readAsArrayBuffer(e.file)})}createAndUploadFileToDrive(e,t){var n=this;return a()(i.a.mark((function r(){var s;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.getImageUrls(e);case 2:return s=r.sent,r.abrupt("return",new Promise((r,i)=>{const a=new f.c({name:e.name,meta:{image_urls:s.slice(0,4),slideTheme:S.ac.LIGHT},count:s.length,parentUid:e.parentUid,isTemplateCreation:e.type===u.a.TEMPLATE});E.a.uploadFileOnDrive(a,n.apiHost,n.accessToken).then(n=>{const a=E.a.createDataFileFromImages(s),o=E.a.createMetaFile({allowContentTagging:!0}),c=new u.c(a,u.a.DRIVE_DATA_FILE,n.uid,e.parentUid),l=new u.c(o,u.a.DRIVE_DATA_FILE,n.uid,e.parentUid);e.setFileInfo(n);const d=p.shared.startUploading(c,t),h=p.shared.startUploading(l);Promise.all([d,h]).then(()=>{r(e)}).catch(e=>{i(e)})}).catch(e=>{i(e),console.log("File create error",e)})}));case 4:case"end":return r.stop()}}),r)})))()}}c()(p,"shared",new p)},pND6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("vDqi"),i=n.n(r),s=n("wCkA"),a=n("WlAH");class o{static uploadFileOnDrive(e,t,n){return new Promise((r,a)=>{const o=Object(s.xb)(e.name,["pdf"]);i.a.post(t+"/v1/drive/actions/upload_drive_file/",{name:o,parent_uid:e.parentUid,meta:e.meta,count:e.count,item_type:e.type,relation_object_type:e.isTemplateCreation?5:0},{headers:{Authorization:"Bearer ".concat(n)}}).then(e=>{r(e.data)}).catch(e=>{console.log("file upload error",e),a(e)})})}static updateFileOnDrive(e,t,n){return new Promise((r,s)=>{i.a.post(t+"/v1/drive/actions/update_drive_item/",{uid:e.uid,name:e.name,meta:e.meta,count:e.count,update_version:!0,relation_object_type:e.isTemplateCreation?5:0},{headers:{Authorization:"Bearer ".concat(n)}}).then(e=>{r(e)}).catch(e=>{console.log("file update error",e),s(e)})})}static createDataFileFromImages(e){const t=[[]];e.map((e,n)=>{const r=Object(s.k)(e,n,a.ac.LIGHT);t[0].push(r)});const n=Object(s.X)(0);return t[0].push(n),this.createDataFileFromEvents(t)}static createMetaFile(e){const t=new Blob([JSON.stringify(e)],{type:"application/json"});return new File([t],"meta.json",{type:t.type})}static createDataFileFromEvents(e){const t=new Blob([JSON.stringify(e)],{type:"application/json"});return new File([t],"data.json",{type:t.type})}}},rbrk:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return S}));var r=n("lSNA"),i=n.n(r),s=n("17x9"),a=n.n(s),o=n("FdJ0"),c=n.n(o),u=n("eISJ");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=n.n(u).a,h=c()((function(e){return e.propTypes=d(d({},e.propTypes||{}),{},{childrenStyles:a.a.object}),e.defaultProps=d(d({},e.defaultProps||{}),{},{childrenStyles:{}}),e})),f=c()((function(e,t){return t.propTypes=d(d({},t.propTypes||{}),{},{className:a.a.string,extraClasses:a.a.string}),t.defaultProps=d(d({},t.defaultProps||{}),{},{className:e,extraClasses:""}),t})),S=c()((function(e){return e.propTypes=d(d({},e.propTypes||{}),{},{childClasses:a.a.object}),e.defaultProps=d(d({},e.defaultProps||{}),{},{childClasses:{}}),e}))},wCkA:function(e,t,n){"use strict";n.d(t,"zb",(function(){return O})),n.d(t,"yb",(function(){return g})),n.d(t,"Cb",(function(){return A})),n.d(t,"c",(function(){return I})),n.d(t,"n",(function(){return v})),n.d(t,"K",(function(){return C})),n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return N})),n.d(t,"i",(function(){return b})),n.d(t,"C",(function(){return R})),n.d(t,"p",(function(){return y})),n.d(t,"kb",(function(){return w})),n.d(t,"jb",(function(){return U})),n.d(t,"h",(function(){return P})),n.d(t,"M",(function(){return M})),n.d(t,"R",(function(){return F})),n.d(t,"ab",(function(){return k})),n.d(t,"T",(function(){return x})),n.d(t,"sb",(function(){return G})),n.d(t,"o",(function(){return H})),n.d(t,"fb",(function(){return V})),n.d(t,"x",(function(){return j})),n.d(t,"gb",(function(){return W})),n.d(t,"cb",(function(){return K})),n.d(t,"hb",(function(){return B})),n.d(t,"Q",(function(){return J})),n.d(t,"L",(function(){return Y})),n.d(t,"k",(function(){return q})),n.d(t,"X",(function(){return z})),n.d(t,"w",(function(){return X})),n.d(t,"B",(function(){return Q})),n.d(t,"v",(function(){return $})),n.d(t,"q",(function(){return Z})),n.d(t,"D",(function(){return ee})),n.d(t,"s",(function(){return te})),n.d(t,"S",(function(){return ne})),n.d(t,"J",(function(){return re})),n.d(t,"W",(function(){return ie})),n.d(t,"u",(function(){return se})),n.d(t,"I",(function(){return ae})),n.d(t,"Y",(function(){return oe})),n.d(t,"ib",(function(){return ce})),n.d(t,"eb",(function(){return ue})),n.d(t,"r",(function(){return le})),n.d(t,"Fb",(function(){return de})),n.d(t,"g",(function(){return Ee})),n.d(t,"P",(function(){return he})),n.d(t,"O",(function(){return fe})),n.d(t,"ob",(function(){return pe})),n.d(t,"pb",(function(){return _e})),n.d(t,"ub",(function(){return me})),n.d(t,"nb",(function(){return Oe})),n.d(t,"bb",(function(){return ge})),n.d(t,"z",(function(){return Ae})),n.d(t,"N",(function(){return Ie})),n.d(t,"Bb",(function(){return ve})),n.d(t,"db",(function(){return Ce})),n.d(t,"mb",(function(){return Le})),n.d(t,"lb",(function(){return De})),n.d(t,"rb",(function(){return Ne})),n.d(t,"tb",(function(){return be})),n.d(t,"m",(function(){return Re})),n.d(t,"t",(function(){return ye})),n.d(t,"e",(function(){return we})),n.d(t,"d",(function(){return Ue})),n.d(t,"vb",(function(){return Pe})),n.d(t,"j",(function(){return Me})),n.d(t,"Db",(function(){return Fe})),n.d(t,"A",(function(){return ke})),n.d(t,"U",(function(){return xe})),n.d(t,"qb",(function(){return Ge})),n.d(t,"H",(function(){return He})),n.d(t,"F",(function(){return Ve})),n.d(t,"E",(function(){return je})),n.d(t,"G",(function(){return We})),n.d(t,"wb",(function(){return Ke})),n.d(t,"Ab",(function(){return Be})),n.d(t,"Z",(function(){return Je})),n.d(t,"l",(function(){return Ye})),n.d(t,"f",(function(){return qe})),n.d(t,"Eb",(function(){return ze})),n.d(t,"xb",(function(){return Xe})),n.d(t,"V",(function(){return Qe})),n.d(t,"y",(function(){return $e}));var r=n("J4zp"),i=n.n(r),s=n("lSNA"),a=n.n(s),o=n("K0eG"),c=n("e0ae"),u=n("WlAH"),l=n("EVdn"),d=n.n(l),E=n("vDqi"),h=n.n(E),f=n("ySVg"),S=n("RYsq");n("hwvQ");function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){try{window.ua("send",e,t)}catch(n){}}function g(e,t){t=m(m({Version:1},t),{},{Platform:"Desktop"}),window.mixpanel.track(e,t)}function A(e){window.ua("create","kfh2kjhfiwewdsdsd",e)}function I(e){return t=e.publicUrl,(v()+t).replace("s3/uploads/","");var t}function v(){return window.useUaDocForImages?o.a.BASE_UADOC_IMAGE_URL:o.a.BASE_IMAGE}function C(e,t=!0){return e.replace(o.a.BASE_UADOC_IMAGE_URL,t?o.a.BASE_GIF_IMAGE_URL:o.a.BASE_GIF_PDF_URL)}function L(e,t=60){if(""==e)return e;let n="jpg";return Se()&&(n="webp"),D(e,{fm:n,fit:"clip",auto:"compress",w:t})}function D(e,t){for(let n in t)e=N(e,n,t[n]);return e}function N(e,t,n,r=!1){let i="";if(e.indexOf("#")>0){var s=e.indexOf("#");i=e.substring(e.indexOf("#"),e.length)}else i="",s=e.length;var a=e.substring(0,s).split("?"),o="";if(a.length>1)for(var c=a[1].split("&"),u=0;u<c.length;u++){var l=c[u].split("=");l[0]!=t&&(""==o?o="?":o+="&",o+=l[0]+"="+(l[1]?l[1]:""))}return""==o&&(o="?"),r?o="?"+t+"="+n+(o.length>1?"&"+o.substring(1):""):(""!==o&&"?"!=o&&(o+="&"),o+=t+"="+(n||"")),a[0]+o+i}function b(){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",element:null,prefix:""},t="webkit moz o ms khtml".split(" ");if("undefined"!==typeof document.cancelFullScreen)e.supportsFullScreen=!0;else for(var n=0,r=t.length;n<r;n++){if(e.prefix=t[n],"undefined"!==typeof document[e.prefix+"CancelFullScreen"]){e.supportsFullScreen=!0;break}if("undefined"!==typeof document.msExitFullscreen&&document.msFullscreenEnabled){e.prefix="ms",e.supportsFullScreen=!0;break}}return e.supportsFullScreen&&(e.fullScreenEventName="ms"==e.prefix?"MSFullscreenChange":e.prefix+"fullscreenchange",e.isFullScreen=function(e){switch("undefined"===typeof e&&(e=document.body),this.prefix){case"":return document.fullscreenElement==e;case"moz":return document.mozFullScreenElement==e;default:return document[this.prefix+"FullscreenElement"]==e}},e.requestFullScreen=function(e){return"undefined"===typeof e&&(e=document.body),""===this.prefix?e.requestFullScreen():e[this.prefix+("ms"==this.prefix?"RequestFullscreen":"RequestFullScreen")]()},e.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+("ms"==this.prefix?"ExitFullscreen":"CancelFullScreen")]()},e.element=function(){return""===this.prefix?document.fullscreenElement:document[this.prefix+"FullscreenElement"]}),e}function R(e,t=!0,n=!1){var r=t?" : ":":";if(!e)return"00".concat(r,"00").concat(r,"00");var i=Math.floor(e/86400);e-=86400*i;var s=Math.floor(e/3600);e-=3600*s;var a=Math.floor(e/60);let o;return(e-=60*a)<10&&(e="0"+e),o=n?0<s?s>9?s+r:"0"+s+r:"":0<=s?s>9?s+r:"0"+s+r:"",(0<i?i+" day, ":"")+o+(a>9?a+r:"0"+a+r)+((e=e.toString())&&e.substring(0,2))}function y(){const e=Object(c.a)();return{version:null===e||void 0===e?void 0:e.version,name:null===e||void 0===e?void 0:e.name}}function w(){const e=Object(c.a)();return"firefox"===(null===e||void 0===e?void 0:e.name)}function U(){const e=Object(c.a)();return!e||u.c[e.name]&&u.c[e.name]<=Number(e.version.slice(0,2))}function P(e,t=4){return parseFloat(e.toFixed(t))}function M(e,t=0,n=1080){let r=e,i="jpg";if(Se()&&(i="webp"),e=D(e,{fm:i,fit:"clip",auto:"compress",w:"".concat(n)}),t>0){if(2==t)return r;e=D(e,{rcnt:t})}return e}function F(e,t){return e.toTimeString().split(" ")[0].slice(0,5)}function k(e){return e.remoteFeed&&e.remoteFeed.webrtcStuff.pc?e.remoteFeed.webrtcStuff.pc.getStats().then(t=>{let n,r,i,s=e.remoteFeed.getBitrate();t.forEach(e=>{e&&void 0!==e.nackCount&&(n=e.nackCount,r=e.packetsLost,i=e.packetsReceived)});let a=r-window.webRTCTemp.packetsLost,o=i-window.webRTCTemp.packetsReceived,c=n-window.webRTCTemp.nackCount;return window.webRTCTemp.packetsLost=r,window.webRTCTemp.packetsReceived=i,window.webRTCTemp.nackCount=n,{packetsLostC:a,packetsReceivedC:o,nackCountC:c,bitRate:s}}):Promise.reject()}function x(e){return e.pluginHandle&&e.pluginHandle.webrtcStuff.pc?e.pluginHandle.webrtcStuff.pc.getStats().then(e=>{let t,n,r;e.forEach(e=>{e&&void 0!==e.nackCount&&(r=e.nackCount,n=e.packetsSent,t=e.bytesSent)});let i=t-window.webRTCTemp.bytesSent,s=n-window.webRTCTemp.packetsSent,a=r-window.webRTCTemp.nackCount;return window.webRTCTemp.bytesSent=t,window.webRTCTemp.packetsSent=n,window.webRTCTemp.nackCount=r,{bytesSentC:i,packetsSentC:s,nackCountC:a}}):Promise.reject()}function G(e){return window.navigator.mediaDevices.getUserMedia({video:"video"===e,audio:"audio"===e}).then(e=>(Fe(e),!0)).catch(e=>(console.log("Get user media isPermissionGiven error",e),!["NotAllowedError","PermissionDeniedError"].includes(e.name)&&("NotReadableError"===e.name?e.name:void 0)))}function H(e,t,n,r){return new Promise(i=>{let s;s=n?u.sb:e?u.rb:u.qb;return function e(n){return new Promise(i=>{setTimeout(()=>{(function(e,t,n){let r={video:{deviceId:t?{exact:t}:void 0,width:{exact:e.width},height:{exact:e.height}}};return n&&(r={deviceId:t?{exact:t}:void 0,width:{exact:e.width},height:{exact:e.height}}),window.navigator.mediaDevices.getUserMedia({video:r,audio:!1})})(s[n],t,r).then(()=>(console.log("Resolution used",s[n]),i(s[n]))).catch(t=>{if(console.log("Resolution error",s[n],t),(n+=1)<s.length)return e(n).then(e=>i(e))})},0)})}(0).then(e=>i(e))})}function V(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);if(n&&void 0!=n[2])return decodeURIComponent(n[2].replace(/\+/g," "))}function j(e){e||(e=window.location.href);const t=e.split("/").find(e=>"v"===e.substring(0,1));return t?t.substring(1):""}function W(e,t){let n="output.mp4";return window.supportedMp4Formats&&window.supportedMp4Formats.forEach(e=>{e.resolution==t&&(n=e.file)}),"https://uamedia.uacdn.net/lesson-raw/".concat(e,"/").concat(n)}function K(e,t,n){return"https://".concat(e,"/lesson-raw/").concat(t,"/").concat(n)}function B(e){let t="output.webm";return window.supportedWebmFormats&&window.supportedWebmFormats.forEach(n=>{n.resolution.match(e.toLowerCase())&&(t=n.file)}),t}function J(e){let t="output.mp4";return window.supportedMp4Formats&&window.supportedMp4Formats.forEach(n=>{n.resolution==e&&(t=n.file)}),t}function Y(e){var t=parseInt(e/3600),n=parseInt((e-3600*t)/60);Math.floor(e-(3600*t+60*n));return(t<10?"0"+t+"hr":t+"hr")+" "+(n<10?"0"+n+"m":n+"m")}function q(e,t,n,r="",i=null,s=null){let a={plugin:u.Ab.DrawingBoardControls,data:{uid:Me(),e:u.L.ADD_SLIDE,i:t,bc:n||u.ac.DARK}};return e&&(a.data=m(m({},a.data),{},{u:e})),i&&(a.data=m(m({},a.data),{},{su:i})),r&&(a.data=m(m({},a.data),{},{bg:r})),s&&(a.data=m(m({},a.data),{},{meta:s})),a}function z(e){return{plugin:u.Ab.DrawingBoardControls,data:{e:u.L.SLIDE_CHANGE,s:e}}}function X(e,t,n,r,i,s){return{e:u.L.CLOUD_POLL,data:{id:e,data:t,a:n,t:r,m:s===u.l.UPDATE_POLL?u.m.UPDATE:u.m.CREATE,i:i}}}function Q(e){return{e:u.L.CLOUD_POLL,data:{m:u.m.DELETE,i:e}}}function $(){return{plugin:u.Ab.Control,data:{data:{e:u.L.CLASS_PING,t:(new Date).getTime()}}}}function Z(e){return{plugin:u.Ab.Control,data:{e:u.L.CAMERA_RATIO,v:e}}}function ee(e){return{plugin:u.Ab.DrawingBoardControls,data:{e:u.L.MODE_CHANGE,m:e}}}function te(e){return{plugin:u.Ab.DrawingBoardControls,data:{e:u.L.CHANGE_COLOR,c:e}}}function ne(e){return{plugin:u.Ab.DrawingBoardControls,data:{e:u.L.PEN_STROKE_CHANGE,s:e}}}function re(e){return{plugin:u.Ab.DrawingBoardControls,data:{e:u.L.ERASER_STROKE_CHANGE,s:e}}}function ie(e){return{plugin:u.Ab.Control,data:{e:u.L.SHARE_SCREEN,v:e}}}function se(e){return{plugin:u.Ab.Control,data:{e:u.L.CLASS_CONFIG,v:e}}}function ae(e){return{plugin:u.Ab.CanvasWrapper,data:{id:e,data:{e:u.L.ERASE_ALL}}}}function oe(e){return{plugin:u.Ab.CanvasWrapper,data:{id:e,data:{e:u.L.ROTATE_SLIDE}}}}function ce(e,t){return{plugin:u.Ab.CanvasWrapper,data:{id:e,data:{e:u.L.ZOOM,v:t}}}}function ue(e){return{plugin:u.Ab.CanvasWrapper,data:{id:e,data:{e:u.L.UNDO,id:e}}}}function le(e,t){return{plugin:u.Ab.CanvasWrapper,data:{id:e,data:{e:u.L.PAN,v:t}}}}function de(e,t,n){switch(e.plugin){case u.Ab.DrawingBoardControls:!function(e,t,n){switch(e.e){case u.L.ADD_SLIDE:if(e.i+=t.slideIndexOffset,e.uid&&n&&n.contentTaggingData){const t=(r=e.uid,i=n.contentTaggingData,r&&i?i[r]:null);t&&(e.meta={title:t}),delete e.uid}break;case u.L.SLIDE_CHANGE:e.s+=t.slideIndexOffset}var r,i}(e.data,t,n);break;case u.Ab.CanvasWrapper:!function(e,t){pe(e.id)&&(e.id+=t.slideIndexOffset)}(e.data,t);break;case u.Ab.Cloud:!function(e,t){var n;pe(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.i)&&(e.data.i+=t.slideIndexOffset)}(e.data,t)}return e}function Ee(e,t){let n=e;return S.b.main.addSlideEvents.all().forEach(e=>{let r=e.data;t<e.time&&r.index<=n&&n++}),n<S.b.main.slides.length?n:0}function he(e){return window.chunkTime+parseInt(1e3*(e-window.currentPlayerTime))}function fe(e){let t=0;const n=window.fragments;if(n.length<=0)return 0;let r=null;for(let s=0;s<n.length;s++){if(t+n[s].duration>=e){r=n[s];break}t+=n[s].duration}r||(r=n[n.length-1]);let i=r.url.split("/");return window.chunkTime=parseInt(parseInt(i[i.length-1].split("-").pop().replace(".ts",""))),window.currentPlayerTime=t,he(e)}function Se(){try{if(window.canUseWebP)return!0;var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&(window.canUseWebP=!0,0==e.toDataURL("image/webp").indexOf("data:image/webp"))}catch(t){return!1}}function pe(e){return null!=e&&void 0!=e}function _e(e){return null==e||void 0==e}function Te(e){return/^[ -~\t\n\r]+$/.test(e)}function me(e){return e.split("").reduce((e,t)=>e&&!Te(t),!0)}function Oe(e){var t=!1;return Object.keys(e).forEach(n=>{Te(e[n])||(t=!0)}),t}function ge(e,t=u.ac.DARK){return _e(e)||_e(S.b.main.slides)?t:S.b.main.slides.getItem(e)&&S.b.main.slides.getItem(e).bgColor?S.b.main.slides.getItem(e).bgColor:t}function Ae(e){if(-1!==u.vb.DARK_PALLETE.findIndex(t=>t==e))return e;{const t=u.vb.LIGHT_PALLETE.findIndex(t=>t==e);return u.vb.DARK_PALLETE[t]}}function Ie(e){if(-1!==u.vb.LIGHT_PALLETE.findIndex(t=>t==e))return e;{const t=u.vb.DARK_PALLETE.findIndex(t=>t==e);return u.vb.LIGHT_PALLETE[t]}}function ve(e){let t=S.b.main.pollChangeEvents.get(e);t&&(t.isAnswered=!0)}function Ce(){let e;var t,n=p(S.b.main.pollChangeEvents);try{for(n.s();!(t=n.n()).done;){let n=i()(t.value,2),r=n[0],s=n[1];s&&(s.id||(e=r))}}catch(r){n.e(r)}finally{n.f()}return e}function Le(e){return e.name.toLowerCase().includes(".png")||e.name.toLowerCase().includes(".jpg")||e.name.toLowerCase().includes(".jpeg")||e.name.toLowerCase().includes(".gif")}function De(e){return e.toLowerCase().includes(".gif")}function Ne(e){return e.name.toLowerCase().includes(".pdf")}function be(e){return e.name.toLowerCase().includes(".pptx")}function Re(e,t){return e?2:0}function ye(e){let t=e.rgb;return[t.r/255,t.g/255,t.b/255,t.a]}function we(){d()("button").keydown(e=>{e.preventDefault()})}function Ue(e,t){e&&("srcObject"in e?e.srcObject=t:e.src=URL.createObjectURL(t))}function Pe(e){var t=e;if(e>=1e3){for(var n=Math.floor((""+e).length/3),r="",i=2;i>=1;i--){if(((r=parseFloat((0!=n?e/Math.pow(1e3,n):e).toPrecision(i)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}r%1!=0&&(r=r.toFixed(1)),t=r+["","k","m","b","t"][n]}return t}function Me(){let e=(new Date).getTime();return window.performance&&"function"===typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}function Fe(e){e&&e.getTracks&&e.getTracks().forEach(e=>{e.stop()})}function ke(){return{path:"/",sameSite:"none",secure:!0}}function xe(e,t){return Math.random()*(t-e)+e}function Ge(e){return null!==e&&void 0!==e&&"object"===typeof e}function He(e){const t=1-e;return{LEFT_BOTTOM:new f.a(0,t),RIGHT_BOTTOM:new f.a(t,t),LEFT_TOP:new f.a(0,0),RIGHT_TOP:new f.a(t,0)}}function Ve(e,t="",n=15){return D("".concat(e,"/v1/drive/actions/search_drive/"),{keyword:t,limit:n})}function je(e){return"".concat(e,"data.json")}function We(e){return"".concat(e,"meta.json")}function Ke(e,t){Array.isArray(e)&&e.forEach(e=>{Array.isArray(e)?e.forEach(e=>{t&&t(e)}):t&&t(e)})}function Be(e,t,n,r,i,s=0,a=!0){if(Array.isArray(e)&&e[s]){let o=e[s];h.a.get(o,t).then(o=>{n&&n(o.data,s),Be(e,t,n,r,i,s+1,a)}).catch(o=>{r&&r(o,s),a||Be(e,t,n,r,i,s+1,a)})}else i&&i()}function Je(e){let t=u.ac.DARK;e!==u.ac.LIGHT&&e!==u.ac.RULED_LIGHT||(t=u.ac.LIGHT);let n="";return e!==u.ac.RULED_DARK&&e!==u.ac.RULED_LIGHT||(n=e),{theme:t,slideBgImage:n}}function Ye(e){var t,n,r,i;const s=null!==(t=null===e||void 0===e?void 0:e.drawingMode)&&void 0!==t?t:u.v.MARKER,a=null!==(n=null===e||void 0===e?void 0:e.markerColor)&&void 0!==n?n:u.vb.LIGHT_DEFAULT,o=null!==(r=null===e||void 0===e?void 0:e.eraserStrokeSize)&&void 0!==r?r:u.J.DEFAULT,c=null!==(i=null===e||void 0===e?void 0:e.penStrokeSize)&&void 0!==i?i:u.wb.DEFAULT;return[ee(s),te(a),re(o),ne(c)]}function qe(e,t){const n=Array.from(e);return t?n.filter(e=>t.includes(e.type)):n}window.getFirstUsedSlide=()=>S.b.main.slides.find((e,t)=>{if(!e.isSkipped)return e});const ze=(e,t=20)=>e.length>20?e.substring(0,t)+"...":e;function Xe(e,t=[]){let n=e.split(".");const r=n[n.length-1];return t.includes(r)?(n=n.slice(0,n.length-1),n.reduce((e,t,n)=>0===n?t:"".concat(e,".").concat(t),"")):e}function Qe(e=3){return xe(Math.pow(10,e-1),Math.pow(10,e))}const $e=(e,t="uid",n=",")=>Array.isArray(e)?e.map(e=>null===e||void 0===e?void 0:e[t]).join(n):null===e||void 0===e?void 0:e[t]},wEcn:function(e,t,n){"use strict";var r=n("lSNA"),i=n.n(r),s=n("5K3P"),a=n("WlAH"),o=n("wCkA");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class l{constructor(){i()(this,"segmentData",null),i()(this,"initialized",!1),i()(this,"getEventsData",(e,t)=>{switch(e){case a.Kb.LESSON_VIEW:case a.Kb.SUCESSFULL_VIEW_FIVE_MINUTES:case a.Kb.SUCESSFULL_VIEW_FIFTEEN_MINUTES:return this.segmentData;case a.Kb.FEEDBACK_SUBMITTED:return u(u({},this.segmentData),{},{class_feedback:t&&t.classFeedback,class_feedback_details:t&&t.classFeedbackDetails,class_feedback_type:t&&t.classFeedbackType,class_feedback_source:t&&t.classFeedbackSource});case a.Kb.PDF_DOWNLOADED:return u(u({},this.segmentData),{},{is_download_successful:t&&t.isDownloadSuccessful,download_type:t&&t.downloadType})}}),i()(this,"sendEvents",(e,t)=>{this.canSendData&&s.b.dispatchEvent(s.a.SEGMENT_EVENTS,{eventType:{name:e,data:this.getEventsData(e,t)}})})}initialize(e){var t;this.initialized=!0,this.segmentData={lesson_duration:Math.floor(e.lessonLength/60),is_live:e.isLive,is_saved:null!==(t=e.isSaved)&&void 0!==t&&t,is_downloaded:!1,is_plus:!0,lesson_uid:e.lessonUid,lesson_title:e.lessonTitle,educator_uid:e.educatorUid,educator_username:e.educatorUsername,clx_version:Object(o.x)(),class_live_time:e.classLiveTime,join_time_delay:Math.floor(((new Date).getTime()-new Date(e.classLiveTime).getTime())/6e4)}}get canSendData(){return this.initialized}cleanup(){this.segmentData=null,this.initialized=!1}}i()(l,"shared",new l),t.a=l},"y/cE":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>{if(e)return 10===t?e+"1A":20===t?e+"33":30===t?e+"4D":40===t?e+"66":50===t?e+"80":60===t?e+"99":70===t?e+"B3":80===t?e+"CC":90===t?e+"E6":100===t?e+"FF":e}},z0WU:function(e,t){}}]);
//# sourceMappingURL=utils~main.51e80e3ee574575e7169.chunk.js.map