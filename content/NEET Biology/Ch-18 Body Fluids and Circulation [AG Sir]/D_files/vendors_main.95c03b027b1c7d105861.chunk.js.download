/*! For license information please see vendors~main.95c03b027b1c7d105861.chunk.js.LICENSE.txt */
(this["webpackJsonpunacademy-live"]=this["webpackJsonpunacademy-live"]||[]).push([[31],{"+X0y":function(e,t){var n={"":!0,up:!0};function r(e){return"number"===typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,i=0,a=100,o=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!==typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");a=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var t=function(e){return"string"===typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");u=t}}})}},"+wdc":function(e,t,n){"use strict";var r,i,a,o,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(n){throw setTimeout(c,0),n}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var v=h.now();t.unstable_now=function(){return h.now()-v}}var y=!1,b=null,_=-1,w=5,T=0;o=function(){return t.unstable_now()>=T},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,E=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();T=e+w;try{b(!0,e)?E.postMessage(null):(y=!1,b=null)}catch(n){throw E.postMessage(null),n}}else y=!1},r=function(e){b=e,y||(y=!0,E.postMessage(null))},i=function(e,n){_=p((function(){e(t.unstable_now())}),n)},a=function(){m(_),_=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>A(o,n))void 0!==u&&0>A(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>A(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],R=[],P=1,I=null,L=3,M=!1,D=!1,N=!1;function j(e){for(var t=x(R);null!==t;){if(null===t.callback)C(R);else{if(!(t.startTime<=e))break;C(R),t.sortIndex=t.expirationTime,k(O,t)}t=x(R)}}function U(e){if(N=!1,j(e),!D)if(null!==x(O))D=!0,r(B);else{var t=x(R);null!==t&&i(U,t.startTime-e)}}function B(e,n){D=!1,N&&(N=!1,a()),M=!0;var r=L;try{for(j(n),I=x(O);null!==I&&(!(I.expirationTime>n)||e&&!o());){var s=I.callback;if(null!==s){I.callback=null,L=I.priorityLevel;var u=s(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?I.callback=u:I===x(O)&&C(O),j(n)}else C(O);I=x(O)}if(null!==I)var l=!0;else{var c=x(R);null!==c&&i(U,c.startTime-n),l=!1}return l}finally{I=null,L=r,M=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:F(e)}else o=F(e),u=s;return e={id:P++,callback:n,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>s?(e.sortIndex=u,k(R,e),null===x(O)&&e===x(R)&&(N?a():N=!0,i(U,u-s))):(e.sortIndex=o,k(O,e),D||M||(D=!0,r(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var n=x(O);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||o()},t.unstable_requestPaint=H,t.unstable_continueExecution=function(){D||M||(D=!0,r(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return x(O)},t.unstable_Profiling=null},"/FUP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=l(n("W3HW")),i=l(n("lreK")),a=l(n("KfSR")),o=l(n("VYtm")),s=l(n("XQvf")),u=l(n("B5Mt"));function l(e){return e&&e.__esModule?e:{default:e}}t.hover=o.default,t.handleHover=o.default,t.handleActive=s.default,t.loop=u.default;var c=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=(0,r.default)(n),u=(0,i.default)(e,s);return(0,a.default)(u)};t.default=c},"/MKj":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return H})),n.d(t,"b",(function(){return J.unstable_batchedUpdates})),n.d(t,"d",(function(){return q})),n.d(t,"e",(function(){return $}));var r=n("q1tI"),i=n.n(r),a=(n("17x9"),i.a.createContext(null));var o=function(e){e()},s={notify:function(){}};function u(){var e=o,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var l=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=u())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var c=function(e){var t=e.store,n=e.context,o=e.children,s=Object(r.useMemo)((function(){var e=new l(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,u]);var c=n||a;return i.a.createElement(c.Provider,{value:s},o)},d=n("wx14"),f=n("zLVn"),h=n("2mql"),p=n.n(h),m=n("TOwV"),g="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,v=[],y=[null,null];function b(e,t){var n=e[1];return[t.payload,n+1]}function _(e,t,n){g((function(){return e.apply(void 0,t)}),n)}function w(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function T(e,t,n,r,i,a,o,s,u,l){if(e){var c=!1,d=null,f=function(){if(!c){var e,n,f=t.getState();try{e=r(f,i.current)}catch(h){n=h,d=h}n||(d=null),e===a.current?o.current||u():(a.current=e,s.current=e,o.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var S=function(){return[null,0]};function E(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,s=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,u=n.methodName,c=void 0===u?"connectAdvanced":u,h=n.renderCountProp,g=void 0===h?void 0:h,E=n.shouldHandleStateChanges,k=void 0===E||E,x=n.storeKey,C=void 0===x?"store":x,A=(n.withRef,n.forwardRef),O=void 0!==A&&A,R=n.context,P=void 0===R?a:R,I=Object(f.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),L=P;return function(t){var n=t.displayName||t.name||"Component",a=s(n),o=Object(d.a)({},I,{getDisplayName:s,methodName:c,renderCountProp:g,shouldHandleStateChanges:k,storeKey:C,displayName:a,wrappedComponentName:n,WrappedComponent:t}),u=I.pure;var h=u?r.useMemo:function(e){return e()};function E(n){var a=Object(r.useMemo)((function(){var e=n.forwardedRef,t=Object(f.a)(n,["forwardedRef"]);return[n.context,e,t]}),[n]),s=a[0],u=a[1],c=a[2],p=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(m.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:L}),[s,L]),g=Object(r.useContext)(p),E=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(g)&&Boolean(g.store);var x=E?n.store:g.store,C=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,o)}(x)}),[x]),A=Object(r.useMemo)((function(){if(!k)return y;var e=new l(x,E?null:g.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[x,E,g]),O=A[0],R=A[1],P=Object(r.useMemo)((function(){return E?g:Object(d.a)({},g,{subscription:O})}),[E,g,O]),I=Object(r.useReducer)(b,v,S),M=I[0][0],D=I[1];if(M&&M.error)throw M.error;var N=Object(r.useRef)(),j=Object(r.useRef)(c),U=Object(r.useRef)(),B=Object(r.useRef)(!1),F=h((function(){return U.current&&c===j.current?U.current:C(x.getState(),c)}),[x,M,c]);_(w,[j,N,B,c,F,U,R]),_(T,[k,x,O,C,j,N,B,U,R,D],[x,O,C]);var H=Object(r.useMemo)((function(){return i.a.createElement(t,Object(d.a)({},F,{ref:u}))}),[u,t,F]);return Object(r.useMemo)((function(){return k?i.a.createElement(p.Provider,{value:P},H):H}),[p,H,P])}var x=u?i.a.memo(E):E;if(x.WrappedComponent=t,x.displayName=a,O){var A=i.a.forwardRef((function(e,t){return i.a.createElement(x,Object(d.a)({},e,{forwardedRef:t}))}));return A.displayName=a,A.WrappedComponent=t,p()(A,t)}return p()(x,t)}}function k(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function x(e,t){if(k(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!k(e[n[i]],t[n[i]]))return!1;return!0}var C=n("ANjH");function A(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function O(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function R(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=O(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=O(i),i=r(t,n)),i},r}}var P=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:A((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?A((function(t){return Object(C.bindActionCreators)(e,t)})):void 0}];var I=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:A((function(){return{}}))}];function L(e,t,n){return Object(d.a)({},n,{},e,{},t)}var M=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var u=e(t,n,s);return o?i&&a(u,r)||(r=u):(o=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return L}}];function D(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function N(e,t,n,r,i){var a,o,s,u,l,c=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,h=!1;function p(i,h){var p=!d(h,o),m=!c(i,a);return a=i,o=h,p&&m?(s=e(a,o),t.dependsOnOwnProps&&(u=t(r,o)),l=n(s,u,o)):p?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(u=t(r,o)),l=n(s,u,o)):m?function(){var t=e(a,o),r=!f(t,s);return s=t,r&&(l=n(s,u,o)),l}():l}return function(i,c){return h?p(i,c):(s=e(a=i,o=c),u=t(r,o),l=n(s,u,o),h=!0,l)}}function j(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Object(f.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),u=i(e,a);return(a.pure?N:D)(o,s,u,e,a)}function U(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function B(e,t){return e===t}function F(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?E:n,i=t.mapStateToPropsFactories,a=void 0===i?I:i,o=t.mapDispatchToPropsFactories,s=void 0===o?P:o,u=t.mergePropsFactories,l=void 0===u?M:u,c=t.selectorFactory,h=void 0===c?j:c;return function(e,t,n,i){void 0===i&&(i={});var o=i,u=o.pure,c=void 0===u||u,p=o.areStatesEqual,m=void 0===p?B:p,g=o.areOwnPropsEqual,v=void 0===g?x:g,y=o.areStatePropsEqual,b=void 0===y?x:y,_=o.areMergedPropsEqual,w=void 0===_?x:_,T=Object(f.a)(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=U(e,a,"mapStateToProps"),E=U(t,s,"mapDispatchToProps"),k=U(n,l,"mergeProps");return r(h,Object(d.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:E,initMergeProps:k,pure:c,areStatesEqual:m,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:w},T))}}var H=F();function G(){return Object(r.useContext)(a)}function V(e){void 0===e&&(e=a);var t=e===a?G:function(){return Object(r.useContext)(e)};return function(){return t().store}}var z=V();function W(e){void 0===e&&(e=a);var t=e===a?z:V(e);return function(){return t().dispatch}}var q=W(),K=function(e,t){return e===t};function X(e){void 0===e&&(e=a);var t=e===a?G:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=K);var i=t();return function(e,t,n,i){var a,o=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return new l(n,i)}),[n,i]),u=Object(r.useRef)(),c=Object(r.useRef)(),d=Object(r.useRef)();try{a=e!==c.current||u.current?e(n.getState()):d.current}catch(f){throw u.current&&(f.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),f}return g((function(){c.current=e,d.current=a,u.current=void 0})),g((function(){function e(){try{var e=c.current(n.getState());if(t(e,d.current))return;d.current=e}catch(f){u.current=f}o({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),a}(e,n,i.store,i.subscription)}}var Y,$=X(),J=n("i8i4");Y=J.unstable_batchedUpdates,o=Y},"0CxO":function(e,t){var n=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function r(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function i(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function a(){this.values=n(null)}function o(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"===typeof i[a]){var o=i[a].split(n);if(2===o.length)t(o[0],o[1])}}function s(e,t,n){var s=e;function u(){var t=i(e);if(null===t)throw new r(r.Errors.BadTimeStamp,"Malformed timestamp: "+s);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function l(){e=e.replace(/^\s+/,"")}if(l(),t.startTime=u(),l(),"--\x3e"!==e.substr(0,3))throw new r(r.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);e=e.substr(3),l(),t.endTime=u(),l(),function(e,t){var r=new a;o(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===a.length&&r.alt("lineAlign",a[1],["start","middle","end"]);break;case"position":a=t.split(","),r.percent(e,a[0]),2===a.length&&r.alt("positionAlign",a[1],["start","middle","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","middle","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical",""),t.line=r.get("line","auto"),t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align","middle"),t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}r.prototype=n(Error.prototype),r.prototype.constructor=r,r.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var u={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},c={v:"title",lang:"lang"},d={rt:"ruby"};function f(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e){return u[e]}function a(e){for(;y=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(y[0],r);return e}function o(e,t){return!d[t.localName]||d[t.localName]===e.localName}function s(t,n){var r=l[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var a=c[t];return a&&n&&(i[a]=n.trim()),i}for(var f,h=e.document.createElement("div"),p=h,m=[];null!==(f=n());)if("<"!==f[0])p.appendChild(e.document.createTextNode(a(f)));else{if("/"===f[1]){m.length&&m[m.length-1]===f.substr(2).replace(">","")&&(m.pop(),p=p.parentNode);continue}var g,v=i(f.substr(1,f.length-2));if(v){g=e.document.createProcessingInstruction("timestamp",v),p.appendChild(g);continue}var y=f.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(g=s(y[1],y[3])))continue;if(!o(p,g))continue;y[2]&&(g.className=y[2].substr(1).replace("."," ")),m.push(y[1]),p.appendChild(g),p=g}return h}var h=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function p(e){for(var t=0;t<h.length;t++){var n=h[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function m(){}function g(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),m.call(this),this.cue=t,this.cueDiv=f(e,t.text);var o={color:i,backgroundColor:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=e.document.createElement("div"),o={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(o.direction=function(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var a=n.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var a=0;a<n.length;a++)if(p(n.charCodeAt(a)))return"rtl";return"ltr"}(this.cueDiv),o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function v(e){var t,n,r,i,a=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,a&&!this.lineHeight&&(this.lineHeight=13)}function y(e,t,n,r){var i=new v(t),a=t.cue,o=function(e){if("number"===typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(a),s=[];if(a.snapToLines){var u;switch(a.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=i.lineHeight,c=l*Math.round(o),d=n[u]+l,f=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/l)*l),o<0&&(c+=""===a.vertical?n.height:n.width,s=s.reverse()),i.move(f,c)}else{var h=i.lineHeight/n.height*100;switch(a.lineAlign){case"middle":o-=h/2;break;case"end":o-=h}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],i=new v(t)}var p=function(e,t){for(var i,a=new v(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var u=e.intersectPercentage(n);o>u&&(i=new v(e),o=u),e=new v(a)}return i||a}(i,s);t.move(p.toCSSCompatValues(n))}function b(){}m.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},m.prototype.formatStyle=function(e,t){return 0===e?0:e+t},g.prototype=n(m.prototype),g.prototype.constructor=g,v.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},v.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},v.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},v.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},v.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},v.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},v.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},v.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},b.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},b.convertCueToDOMTree=function(e,t){return e&&t?f(e,t):null};b.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],a=v.getSimpleBoxPosition(r),o={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var n,s,u=0;u<t.length;u++)s=t[u],n=new g(e,s,o),r.appendChild(n.div),y(0,n,a,i),s.displayState=n.div,i.push(v.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},b.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},b.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof r))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function u(e){e.match(/X-TIMESTAMP-MAP/)?o(e,(function(e,n){switch(e){case"X-TIMESTAMP-MAP":!function(e){var n=new a;o(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",i(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}}),/=/):o(e,(function(e,n){switch(e){case"Region":!function(e){var n=new a;if(o(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new a;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var l;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var c=(l=n()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new r(r.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:l=n(),t.state){case"HEADER":/:/.test(l)?u(l):l||(t.state="ID");continue;case"NOTE":l||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){t.state="NOTE";break}if(!l)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",-1===l.indexOf("--\x3e")){t.cue.id=l;continue}case"CUE":try{s(l,t.cue,t.regionList)}catch(h){t.reportOrThrowError(h),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var f=-1!==l.indexOf("--\x3e");if(!l||f&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=l;continue;case"BADCUE":l||(t.state="ID");continue}}}catch(h){t.reportOrThrowError(h),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new r(r.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=b},"0PSK":function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r);t.a=i.a.createContext(null)},"0R0V":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineReducers=void 0;var r,i=n("mU/f"),a=(r=i)&&r.__esModule?r:{default:r};t.combineReducers=a.default},"10ky":function(e,t,n){"use strict";n.r(t),n.d(t,"LineStream",(function(){return u})),n.d(t,"ParseStream",(function(){return c})),n.d(t,"Parser",(function(){return f}));var r=n("vgmO"),i=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t,n,r,i=this.listeners[e];if(i)if(2===arguments.length)for(n=i.length,t=0;t<n;++t)i[t].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),n=i.length,t=0;t<n;++t)i[t].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),u=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return o(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(s),l=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},i=n.length;i--;)""!==n[i]&&((t=/([^=]*)=(.*)/.exec(n[i]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},c=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}o(t,e);var n=t.prototype;return n.push=function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var r=n(e);return r===e?t:t.concat([r])}),[e]).forEach((function(e){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var a=l(t[1]);if(a.URI&&(n.uri=a.URI),a.BYTERANGE){var o=a.BYTERANGE.split("@"),s=o[0],u=o[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),u&&(n.byterange.offset=parseInt(u,10))}}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=l(t[1]),n.attributes.RESOLUTION){var c=n.attributes.RESOLUTION.split("x"),d={};c[0]&&(d.width=parseInt(c[0],10)),c[1]&&(d.height=parseInt(c[1],10)),n.attributes.RESOLUTION=d}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=l(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=l(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=l(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,r=e.customType,i=e.dataParser,a=e.segment;"function"!==typeof i&&(i=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:r,segment:a}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(s);function d(e){for(var t=i.a.atob(e||""),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}var f=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new u,t.parseStream=new c,t.lineStream.pipe(t.parseStream);var n,r,i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),o=[],s={},l=function(){},f={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",(function(e){var t,u;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(s.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(s.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(s.duration=e.duration),0===e.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:d(e.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},"undefined"!==typeof e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,h=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||f,e.attributes?(s.attributes||(s.attributes={}),a(s.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||f,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(u={default:/yes/i.test(e.attributes.DEFAULT)}).default?u.autoselect=!0:u.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(u.language=e.attributes.LANGUAGE),e.attributes.URI&&(u.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(u.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(u.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(u.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=u}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){h+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),s.dateTimeString=e.dateTimeString,s.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){s.cueOut=e.data},"cue-out-cont":function(){s.cueOutCont=e.data},"cue-in":function(){s.cueIn=e.data}}[e.tagType]||l).call(i)},uri:function(){s.uri=e.uri,o.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),r&&(s.key=r),s.timeline=h,n&&(s.map=n),s={}},comment:function(){},custom:function(){e.segment?(s.custom=s.custom||{},s.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(i)})),t}o(t,e);var n=t.prototype;return n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(s)},"16Al":function(e,t,n){"use strict";var r=n("WbBG");function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},"17x9":function(e,t,n){e.exports=n("16Al")()},"1OyB":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},"25BE":function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},"2SVd":function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"2mql":function(e,t,n){"use strict";var r=n("TOwV"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=u(t),m=u(n),g=0;g<o.length;++g){var v=o[g];if(!a[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=f(n,v);try{l(t,v,y)}catch(b){}}}}return t}},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},"5HXA":function(e,t,n){"use strict";var r=n("ANjH").compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},"5oMp":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"6bNy":function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n("yLpj"))},"75pU":function(e,t){function n(e,t,n,r){var i,a=null==(i=r)||"number"===typeof i||"boolean"===typeof i?r:n(r),o=t.get(a);return"undefined"===typeof o&&(o=e.call(this,r),t.set(a,o)),o}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),a=t.get(i);return"undefined"===typeof a&&(a=e.apply(this,r),t.set(i,a)),a}function i(e,t,n,r,i){return n.bind(t,e,r,i)}function a(e,t){return i(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function o(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var u={create:function(){return new s}};e.exports=function(e,t){var n=t&&t.cache?t.cache:u,r=t&&t.serializer?t.serializer:o;return(t&&t.strategy?t.strategy:a)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return i(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return i(e,this,n,t.cache.create(),t.serializer)}}},"7W2i":function(e,t,n){var r=n("SksO");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},"7sdD":function(e,t,n){"use strict";var r=n("6bNy"),i=n("g2LC"),a=n("ZESv"),o=n("U6jy");function s(e,t,n){var r=e;return i(t)?(n=t,"string"===typeof e&&(r={uri:e})):r=o(t,{uri:e}),r.callback=n,r}function u(e,t,n){return l(t=s(e,t,n))}function l(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML;return null}(c),v)try{e=JSON.parse(e)}catch(t){}return e}function i(e){return clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,y)}function o(){if(!l){var t;clearTimeout(d),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=y,o=null;return 0!==t?(i={body:r(),statusCode:t,method:h,headers:{},url:f,rawRequest:c},c.getAllResponseHeaders&&(i.headers=a(c.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,i,i.body)}}var s,l,c=e.xhr||null;c||(c=e.cors||e.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var d,f=c.url=e.uri||e.url,h=c.method=e.method||"GET",p=e.body||e.data,m=c.headers=e.headers||{},g=!!e.sync,v=!1,y={body:void 0,headers:{},statusCode:0,method:h,url:f,rawRequest:c};if("json"in e&&!1!==e.json&&(v=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(o,0)},c.onload=o,c.onerror=i,c.onprogress=function(){},c.onabort=function(){l=!0},c.ontimeout=i,c.open(h,f,!g,e.username,e.password),g||(c.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(d=setTimeout((function(){if(!l){l=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),c.setRequestHeader)for(s in m)m.hasOwnProperty(s)&&c.setRequestHeader(s,m[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(c),c.send(p||null),c}e.exports=u,u.XMLHttpRequest=r.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){u["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),l(n)}}))},"8L3F":function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:u(s(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var c=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?c:10===e?d:c||d}function h(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function m(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||h(e.firstElementChild)===e)}(o)?o:h(o);var s=p(e);return s.host?m(s.host,t):m(e,p(t).host)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(t,"top"),i=g(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function y(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function b(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:b("Height",t,n,r),width:b("Width",t,n,r)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function k(e){return E({},e,{right:e.left+e.width,bottom:e.top+e.height})}function x(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=g(e,"top"),r=g(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(h){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?_(e.ownerDocument):{},s=a.width||e.clientWidth||i.width,u=a.height||e.clientHeight||i.height,l=e.offsetWidth-s,c=e.offsetHeight-u;if(l||c){var d=o(e);l-=y(d,"x"),c-=y(d,"y"),i.width-=l,i.height-=c}return k(i)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===t.nodeName,a=x(e),s=x(t),l=u(e),c=o(t),d=parseFloat(c.borderTopWidth),h=parseFloat(c.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=k({top:a.top-s.top-d,left:a.left-s.left-h,width:a.width,height:a.height});if(p.marginTop=0,p.marginLeft=0,!r&&i){var m=parseFloat(c.marginTop),g=parseFloat(c.marginLeft);p.top-=d-m,p.bottom-=d-m,p.left-=h-g,p.right-=h-g,p.marginTop=m,p.marginLeft=g}return(r&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(p=v(p,t)),p}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=C(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:g(n),s=t?0:g(n,"left"),u={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a};return k(u)}function O(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=s(e);return!!n&&O(n)}function R(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function P(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?R(e):m(e,l(t));if("viewport"===r)a=A(o,i);else{var c=void 0;"scrollParent"===r?"BODY"===(c=u(s(t))).nodeName&&(c=e.ownerDocument.documentElement):c="window"===r?e.ownerDocument.documentElement:r;var d=C(c,o,i);if("HTML"!==c.nodeName||O(o))a=d;else{var f=_(e.ownerDocument),h=f.height,p=f.width;a.top+=d.top-d.marginTop,a.bottom=h+d.top,a.left+=d.left-d.marginLeft,a.right=p+d.left}}var g="number"===typeof(n=n||0);return a.left+=g?n:n.left||0,a.top+=g?n:n.top||0,a.right-=g?n:n.right||0,a.bottom-=g?n:n.bottom||0,a}function I(e){return e.width*e.height}function L(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=P(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},u=Object.keys(s).map((function(e){return E({key:e},s[e],{area:I(s[e])})})).sort((function(e,t){return t.area-e.area})),l=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=l.length>0?l[0].key:u[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?R(t):m(t,l(n));return C(n,i,r)}function D(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function N(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function j(e,t,n){n=n.split("-")[0];var r=D(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",u=a?"height":"width",l=a?"width":"height";return i[o]=t[o]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[l]:t[N(s)],i}function U(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function B(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=U(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=k(t.offsets.popper),t.offsets.reference=k(t.offsets.reference),t=n(t,e))})),t}function F(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=M(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=L(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=j(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=B(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function H(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function G(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function V(){return this.state.isDestroyed=!0,H(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[G("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function z(e){var t=e.ownerDocument;return t?t.defaultView:window}function W(e,t,n,r){n.updateBound=r,z(e).addEventListener("resize",n.updateBound,{passive:!0});var i=u(e);return function e(t,n,r,i){var a="BODY"===t.nodeName,o=a?t.ownerDocument.defaultView:t;o.addEventListener(n,r,{passive:!0}),a||e(u(o.parentNode),n,r,i),i.push(o)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function q(){this.state.eventsEnabled||(this.state=W(this.reference,this.options,this.state,this.scheduleUpdate))}function K(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,z(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function X(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Y(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&X(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var $=n&&/Firefox/i.test(navigator.userAgent);function J(e,t,n){var r=U(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=Q.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Z.indexOf(e),r=Z.slice(n+1).concat(Z.slice(0,n));return t?r.reverse():r}var te="flip",ne="clockwise",re="counterclockwise";function ie(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(U(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[o.slice(0,s).concat([o[s].split(u)[0]]),[o[s].split(u)[1]].concat(o.slice(s+1))]:[o];return(l=l.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return k(s)[t]/100*a}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a}return a}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){X(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var ae={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",l=s?"width":"height",c={start:S({},u,a[u]),end:S({},u,a[u]+a[l]-o[l])};e.offsets.popper=E({},o,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],u=void 0;return u=X(+n)?[+n,0]:ie(n,a,o,s),"left"===s?(a.top+=u[0],a.left-=u[1]):"right"===s?(a.top+=u[0],a.left+=u[1]):"top"===s?(a.left+=u[0],a.top-=u[1]):"bottom"===s&&(a.left+=u[0],a.top+=u[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var r=G("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=P(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=s,t.boundaries=u;var l=t.priority,c=e.offsets.popper,d={primary:function(e){var n=c[e];return c[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(c[e],u[e])),S({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(c[n],u[e]-("right"===e?c.width:c.height))),S({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=E({},c,d[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",u=o?"left":"top",l=o?"width":"height";return n[s]<a(r[u])&&(e.offsets.popper[u]=a(r[u])-n[l]),n[u]>a(r[s])&&(e.offsets.popper[u]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!J(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,s=a.popper,u=a.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",d=l?"Top":"Left",f=d.toLowerCase(),h=l?"left":"top",p=l?"bottom":"right",m=D(r)[c];u[p]-m<s[f]&&(e.offsets.popper[f]-=s[f]-(u[p]-m)),u[f]+m>s[p]&&(e.offsets.popper[f]+=u[f]+m-s[p]),e.offsets.popper=k(e.offsets.popper);var g=u[f]+u[c]/2-m/2,v=o(e.instance.popper),y=parseFloat(v["margin"+d]),b=parseFloat(v["border"+d+"Width"]),_=g-e.offsets.popper[f]-y-b;return _=Math.max(Math.min(s[c]-m,_),0),e.arrowElement=r,e.offsets.arrow=(S(n={},f,Math.round(_)),S(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(H(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=P(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=N(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case te:o=[r,i];break;case ne:o=ee(r);break;case re:o=ee(r,!0);break;default:o=t.behavior}return o.forEach((function(s,u){if(r!==s||o.length===u+1)return e;r=e.placement.split("-")[0],i=N(r);var l=e.offsets.popper,c=e.offsets.reference,d=Math.floor,f="left"===r&&d(l.right)>d(c.left)||"right"===r&&d(l.left)<d(c.right)||"top"===r&&d(l.bottom)>d(c.top)||"bottom"===r&&d(l.top)<d(c.bottom),h=d(l.left)<d(n.left),p=d(l.right)>d(n.right),m=d(l.top)<d(n.top),g=d(l.bottom)>d(n.bottom),v="left"===r&&h||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===a&&h||y&&"end"===a&&p||!y&&"start"===a&&m||!y&&"end"===a&&g),_=!!t.flipVariationsByContent&&(y&&"start"===a&&p||y&&"end"===a&&h||!y&&"start"===a&&g||!y&&"end"===a&&m),w=b||_;(f||v||w)&&(e.flipped=!0,(f||v)&&(r=o[u+1]),w&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=E({},e.offsets.popper,j(e.instance.popper,e.offsets.reference,e.placement)),e=B(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=N(t),e.offsets.popper=k(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!J(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=U(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=U(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=h(e.instance.popper),u=x(s),l={position:i.position},c=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},u=a(i.width),l=a(r.width),c=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?c||d||u%2===l%2?a:o:s,h=t?a:s;return{left:f(u%2===1&&l%2===1&&!d&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!$),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",p=G("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-u.height+c.bottom:c.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+c.right:-u.width+c.right:c.left,o&&p)l[p]="translate3d("+m+"px, "+g+"px, 0)",l[d]=0,l[f]=0,l.willChange="transform";else{var v="bottom"===d?-1:1,y="right"===f?-1:1;l[d]=g*v,l[f]=m*y,l.willChange=d+", "+f}var b={"x-placement":e.placement};return e.attributes=E({},b,e.attributes),e.styles=E({},l,e.styles),e.arrowStyles=E({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Y(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Y(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=M(i,t,e,n.positionFixed),o=L(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),Y(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},oe=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=E({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(E({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=E({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return E({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&a(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return T(e,[{key:"update",value:function(){return F.call(this)}},{key:"destroy",value:function(){return V.call(this)}},{key:"enableEventListeners",value:function(){return q.call(this)}},{key:"disableEventListeners",value:function(){return K.call(this)}}]),e}();oe.Utils=("undefined"!==typeof window?window:e).PopperUtils,oe.placements=Q,oe.Defaults=ae,t.a=oe}).call(this,n("yLpj"))},"8OQS":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},"8oxB":function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"9ONQ":function(e,t,n){"use strict";var r=n("iVi/");function i(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(r){}return e}var a=n("MgzW"),o=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?r.parse(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=r.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),i(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=i(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var i;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=a({},this.cookies,((i={})[e]=t,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.serialize(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=a({},t,{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=a({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();t.a=o},"9rSQ":function(e,t,n){"use strict";var r=n("xTJ+");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},ANjH:function(e,t,n){"use strict";n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return a})),n.d(t,"applyMiddleware",(function(){return g})),n.d(t,"bindActionCreators",(function(){return d})),n.d(t,"combineReducers",(function(){return l})),n.d(t,"compose",(function(){return m})),n.d(t,"createStore",(function(){return s}));var r=n("bCCX"),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var u=e,l=t,c=[],d=c,f=!1;function h(){d===c&&(d=c.slice())}function p(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function m(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var n=d.indexOf(e);d.splice(n,1),c=null}}}function g(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,l=u(l,e)}finally{f=!1}for(var t=c=d,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,g({type:a.REPLACE})}function y(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return g({type:a.INIT}),(i={dispatch:g,subscribe:m,getState:p,replaceReducer:v})[r.a]=y,i}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(l){o=l}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var l=s[a],c=n[l],d=e[l],f=c(d,t);if("undefined"===typeof f){var h=u(l,t);throw new Error(h)}i[l]=f,r=r||f!==d}return(r=r||s.length!==Object.keys(e).length)?i:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"===typeof e)return c(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=c(i,t))}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return p({},n,{dispatch:r=m.apply(void 0,a)(n.dispatch)})}}}},Aso2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("Mpt7")),i=a(n("mhMR"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var a=Object.keys(t);if(!a.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var o=(0,i.default)(n);if(r.default.isImmutable?!r.default.isImmutable(e):!r.default.Iterable.isIterable(e))return"The "+o+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+a.join('", "')+'".';var s=e.toSeq().keySeq().toArray().filter((function(e){return!t.hasOwnProperty(e)}));return s.length>0?"Unexpected "+(1===s.length?"property":"properties")+' "'+s.join('", "')+'" found in '+o+'. Expected to find one of the known reducer property names instead: "'+a.join('", "')+'". Unexpected properties will be ignored.':null},e.exports=t.default},B5Mt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("a3WO");function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},CgaS:function(e,t,n){"use strict";var r=n("JEQr"),i=n("xTJ+"),a=n("9rSQ"),o=n("UnBK");function s(e){this.defaults=e,this.interceptors={request:new a,response:new a}}s.prototype.request=function(e){"string"===typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=s},DSFK:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},DfZB:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},EbDI:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},EcEN:function(e,t,n){var r=n("xDdU"),i=n("xk4V"),a=i;a.v1=r,a.v4=i,e.exports=a},Ff2n:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("zLVn");function i(e,t){if(null==e)return{};var n,i,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},G43f:function(e,t){function n(e){return e.replace(/\n\r?\s*/g,"")}e.exports=function(e){for(var t="",r=0;r<arguments.length;r++)t+=n(e[r])+(arguments[r+1]||"");return t}},Gytx:function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var l=a[u];if(!s(l))return!1;var c=e[l],d=t[l];if(!1===(i=n?n.call(r,c,d,l):void 0)||void 0===i&&c!==d)return!1}return!0}},HSsa:function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},I2ZF:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},Ijbi:function(e,t,n){var r=n("WkPL");e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},J4zp:function(e,t,n){var r=n("wTVA"),i=n("m0LI"),a=n("ZhPi"),o=n("wkBT");e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},JAmm:function(e,t,n){"use strict";var r=/[A-Z]/g,i=/^ms-/,a={};function o(e){return"-"+e.toLowerCase()}var s=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(r,o);return a[e]=i.test(t)?"-"+t:t};function u(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:s(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(u):t.fallbacks=u(e.fallbacks)),t}t.a=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e}return u(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=s(t);return t===r?e:(n.prop(r,e),null)}}}},JEQr:function(e,t,n){"use strict";(function(t){var r=n("xTJ+"),i=n("yK9s"),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t)&&(e=n("tQ2B")),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(a)})),e.exports=s}).call(this,n("8oxB"))},JX7q:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},"Jwi+":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("q1tI"),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e){var t=e.className,n=e.counterClockwise,i=e.dashRatio,a=e.pathRadius,u=e.strokeWidth,l=e.style;return Object(r.createElement)("path",{className:t,style:Object.assign({},l,s({pathRadius:a,dashRatio:i,counterClockwise:n})),d:o({pathRadius:a,counterClockwise:n}),strokeWidth:u,fillOpacity:0})}function o(e){var t=e.pathRadius,n=e.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+t+"\n      a "+t+","+t+" "+n+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+n+" 1 1 0,-"+2*t+"\n    "}function s(e){var t=e.counterClockwise,n=e.dashRatio,r=e.pathRadius,i=2*Math.PI*r,a=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(t?-a:a)+"px"}}var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,n=e.minValue,r=e.maxValue;return(Math.min(Math.max(t,n),r)-n)/(r-n)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,n=e.className,i=e.classes,o=e.counterClockwise,s=e.styles,u=e.strokeWidth,l=e.text,c=this.getPathRadius(),d=this.getPathRatio();return Object(r.createElement)("svg",{className:i.root+" "+n,style:s.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?Object(r.createElement)("circle",{className:i.background,style:s.background,cx:50,cy:50,r:50}):null,Object(r.createElement)(a,{className:i.trail,counterClockwise:o,dashRatio:t,pathRadius:c,strokeWidth:u,style:s.trail}),Object(r.createElement)(a,{className:i.path,counterClockwise:o,dashRatio:d*t,pathRadius:c,strokeWidth:u,style:s.path}),l?Object(r.createElement)("text",{className:i.text,style:s.text,x:50,y:50},l):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(r.Component);function l(e){var t=e.rotation,n=e.strokeLinecap,r=e.textColor,i=e.textSize,a=e.pathColor,o=e.pathTransition,s=e.pathTransitionDuration,u=e.trailColor,l=e.backgroundColor,d=null==t?void 0:"rotate("+t+"turn)",f=null==t?void 0:"center center";return{root:{},path:c({stroke:a,strokeLinecap:n,transform:d,transformOrigin:f,transition:o,transitionDuration:null==s?void 0:s+"s"}),trail:c({stroke:u,strokeLinecap:n,transform:d,transformOrigin:f}),text:c({fill:r,fontSize:i}),background:c({fill:l})}}function c(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e}},K4wu:function(e,t,n){var r=n("vgmO"),i=e.exports={WebVTT:n("0CxO"),VTTCue:n("sDzi"),VTTRegion:n("+X0y")};r.vttjs=i,r.WebVTT=i.WebVTT;var a=i.VTTCue,o=i.VTTRegion,s=r.VTTCue,u=r.VTTRegion;i.shim=function(){r.VTTCue=a,r.VTTRegion=o},i.restore=function(){r.VTTCue=s,r.VTTRegion=u},r.VTTCue||i.shim()},KQm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("a3WO");var i=n("25BE"),a=n("BsWD");function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},KfSR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,i=n("Ag8Z"),a=(r=i)&&r.__esModule?r:{default:r},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},u=t.autoprefix=function(e){var t={};return(0,a.default)(e,(function(e,n){var r={};(0,a.default)(e,(function(e,t){var n=s[t];n?r=o({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=u},LUQC:function(e,t,n){"use strict";t.a=function(e,t){}},LYNF:function(e,t,n){"use strict";var r=n("OH9c");e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},Lmem:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},MLWZ:function(e,t,n){"use strict";var r=n("xTJ+");function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},MgzW:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},Nxm2:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n("q1tI")),s={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return r(t,e),t.prototype.render=function(){return o.createElement("div",{className:this.props.className||"",style:i(i({position:"absolute",userSelect:"none"},s[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(o.PureComponent);t.Resizer=u},ODXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("DSFK");var i=n("BsWD"),a=n("PYwp");function o(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},OH9c:function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},OTTw:function(e,t,n){"use strict";var r=n("xTJ+");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},PTN7:function(e,t,n){function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}var i=r(n("ZyuO")),a=r(n("zFeg")),o=r(n("G43f")),s=r(n("jBAH")),u=r(n("7sdD")),l=r(n("K4wu")),c=i.navigator&&i.navigator.userAgent||"",d=/AppleWebKit\/([\d.]+)/i.exec(c),f=d?parseFloat(d.pop()):null,h=/iPad/i.test(c),p=/iPhone/i.test(c)&&!h,m=/iPod/i.test(c),g=p||h||m,v=function(){var e=c.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),y=/Android/i.test(c),b=function(){var e=c.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),_=y&&/webkit/i.test(c)&&b<2.3,w=y&&b<5&&f<537,T=/Firefox/i.test(c),S=/Edge/i.test(c),E=!S&&(/Chrome/i.test(c)||/CriOS/i.test(c)),k=function(){var e=c.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),x=/MSIE\s8\.0/.test(c),C=function(){var e=/MSIE\s(\d+)\.\d/.exec(c),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(c)&&/rv:11.0/.test(c)&&(t=11),t}(),A=/Safari/i.test(c)&&!E&&!y&&!S,O=(A||g)&&!E,R=J()&&("ontouchstart"in i||i.navigator.maxTouchPoints||i.DocumentTouch&&i.document instanceof i.DocumentTouch),P=J()&&"backgroundSize"in i.document.createElement("video").style,I=(Object.freeze||Object)({IS_IPAD:h,IS_IPHONE:p,IS_IPOD:m,IS_IOS:g,IOS_VERSION:v,IS_ANDROID:y,ANDROID_VERSION:b,IS_OLD_ANDROID:_,IS_NATIVE_ANDROID:w,IS_FIREFOX:T,IS_EDGE:S,IS_CHROME:E,CHROME_VERSION:k,IS_IE8:x,IE_VERSION:C,IS_SAFARI:A,IS_ANY_SAFARI:O,TOUCH_ENABLED:R,BACKGROUND_SIZE_SUPPORTED:P}),L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},D=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},N=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},j=function(e,t){return e.raw=t,e},U=Object.prototype.toString,B=function(e){return G(e)?Object.keys(e):[]};function F(e,t){B(e).forEach((function(n){return t(e[n],n)}))}function H(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach((function(t){t&&F(t,(function(t,n){e[n]=t}))})),e)}function G(e){return!!e&&"object"===("undefined"===typeof e?"undefined":L(e))}function V(e){return G(e)&&"[object Object]"===U.call(e)&&e.constructor===Object}var z=[];var W=function e(t){var n="info",r=void 0,a=function e(){for(var t=e.stringify||C&&C<11,i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];r("log",n,a,t)};return r=function(e,t){return function(n,r,a,o){var s=t.levels[r],u=new RegExp("^("+s+")$");if("log"!==n&&a.unshift(n.toUpperCase()+":"),a.unshift(e+":"),z&&z.push([].concat(a)),i.console){var l=i.console[n];l||"debug"!==n||(l=i.console.info||i.console.log),l&&s&&u.test(n)&&(o&&(a=a.map((function(e){if(G(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)})).join(" ")),l.apply?l[Array.isArray(a)?"apply":"call"](i.console,a):l(a))}}}(t,a),a.createLogger=function(n){return e(t+": "+n)},a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},a.level=function(e){if("string"===typeof e){if(!a.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');n=e}return n},(a.history=function(){return z?[].concat(z):[]}).filter=function(e){return(z||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},a.history.clear=function(){z&&(z.length=0)},a.history.disable=function(){null!==z&&(z.length=0,z=null)},a.history.enable=function(){null===z&&(z=[])},a.error=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("error",n,t)},a.warn=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("warn",n,t)},a.debug=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("debug",n,t)},a}("VIDEOJS"),q=W.createLogger;function K(e,t){if(!e||!t)return"";if("function"===typeof i.getComputedStyle){var n=i.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}var X=j(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function Y(e){return"string"===typeof e&&/\S/.test(e)}function $(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function J(){return a===i.document&&"undefined"!==typeof a.createElement}function Q(e){return G(e)&&1===e.nodeType}function Z(){try{return i.parent!==i.self}catch(e){return!0}}function ee(e){return function(t,n){if(!Y(t))return a[e](null);Y(n)&&(n=a.querySelector(n));var r=Q(n)?n:a;return r[e]&&r[e](t)}}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=a.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(W.warn(o(X,e,n)),i.setAttribute(e,n)):"textContent"===e?ne(i,n):i[e]=n})),Object.getOwnPropertyNames(n).forEach((function(e){i.setAttribute(e,n[e])})),r&&we(i,r),i}function ne(e,t){return"undefined"===typeof e.textContent?e.innerText=t:e.textContent=t,e}function re(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function ie(e,t){return $(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function ae(e,t){return e.classList?e.classList.add(t):ie(e,t)||(e.className=(e.className+" "+t).trim()),e}function oe(e,t){return e.classList?e.classList.remove(t):($(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e}function se(e,t,n){var r=ie(e,t);if("function"===typeof n&&(n=n(e,t)),"boolean"!==typeof n&&(n=!r),n!==r)return n?ae(e,t):oe(e,t),e}function ue(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];null===r||"undefined"===typeof r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)}))}function le(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var a=r[i].name,o=r[i].value;"boolean"!==typeof e[a]&&-1===n.indexOf(","+a+",")||(o=null!==o),t[a]=o}return t}function ce(e,t){return e.getAttribute(t)}function de(e,t,n){e.setAttribute(t,n)}function fe(e,t){e.removeAttribute(t)}function he(){a.body.focus(),a.onselectstart=function(){return!1}}function pe(){a.onselectstart=function(){return!0}}function me(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(K(e,"height"))),n.width||(n.width=parseFloat(K(e,"width"))),n}}function ge(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=a.documentElement,r=a.body,o=n.clientLeft||r.clientLeft||0,s=i.pageXOffset||r.scrollLeft,u=t.left+s-o,l=n.clientTop||r.clientTop||0,c=i.pageYOffset||r.scrollTop,d=t.top+c-l;return{left:Math.round(u),top:Math.round(d)}}function ve(e,t){var n={},r=ge(e),i=e.offsetWidth,a=e.offsetHeight,o=r.top,s=r.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-u+a)/a)),n.x=Math.max(0,Math.min(1,(l-s)/i)),n}function ye(e){return G(e)&&3===e.nodeType}function be(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function _e(e){return"function"===typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"===typeof e&&(e=e()),Q(e)||ye(e)?e:"string"===typeof e&&/\S/.test(e)?a.createTextNode(e):void 0})).filter((function(e){return e}))}function we(e,t){return _e(t).forEach((function(t){return e.appendChild(t)})),e}function Te(e,t){return we(be(e),t)}function Se(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||(9===C||0===e.button&&1===e.buttons))}var Ee=ee("querySelector"),ke=ee("querySelectorAll"),xe=(Object.freeze||Object)({isReal:J,isEl:Q,isInFrame:Z,createEl:te,textContent:ne,prependTo:re,hasClass:ie,addClass:ae,removeClass:oe,toggleClass:se,setAttributes:ue,getAttributes:le,getAttribute:ce,setAttribute:de,removeAttribute:fe,blockTextSelection:he,unblockTextSelection:pe,getBoundingClientRect:me,findPosition:ge,getPointerPosition:ve,isTextNode:ye,emptyEl:be,normalizeContent:_e,appendContent:we,insertContent:Te,isSingleLeftClick:Se,$:Ee,$$:ke}),Ce=1;function Ae(){return Ce++}var Oe={},Re="vdata"+(new Date).getTime();function Pe(e){var t=e[Re];return t||(t=e[Re]=Ae()),Oe[t]||(Oe[t]={}),Oe[t]}function Ie(e){var t=e[Re];return!!t&&!!Object.getOwnPropertyNames(Oe[t]).length}function Le(e){var t=e[Re];if(t){delete Oe[t];try{delete e[Re]}catch(n){e.removeAttribute?e.removeAttribute(Re):e[Re]=null}}}function Me(e,t){var n=Pe(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Le(e)}function De(e,t,n,r){n.forEach((function(n){e(t,n,r)}))}function Ne(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||i.event;for(var o in e={},r)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&r.preventDefault||(e[o]=r[o]));if(e.target||(e.target=e.srcElement||a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var s=a.documentElement,u=a.body;e.pageX=e.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var je=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){je=!0}});i.addEventListener("test",null,e),i.removeEventListener("test",null,e)}catch(t){}}();var Ue=["touchstart","touchmove"];function Be(e,t,n){if(Array.isArray(t))return De(Be,e,t,n);var r=Pe(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=Ae()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=Ne(t);var i=r.handlers[t.type];if(i)for(var a=i.slice(0),o=0,s=a.length;o<s&&!t.isImmediatePropagationStopped();o++)try{a[o].call(e,t,n)}catch(u){W.error(u)}}}),1===r.handlers[t].length)if(e.addEventListener){var i=!1;je&&Ue.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function Fe(e,t,n){if(Ie(e)){var r=Pe(e);if(r.handlers){if(Array.isArray(t))return De(Fe,e,t,n);var i=function(e,t){r.handlers[t]=[],Me(e,t)};if(void 0!==t){var a=r.handlers[t];if(a)if(n){if(n.guid)for(var o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);Me(e,t)}else i(e,t)}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(e,s)}}}function He(e,t,n){var r=Ie(e)?Pe(e):{},i=e.parentNode||e.ownerDocument;if("string"===typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Ne(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)He.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var a=Pe(t.target);t.target[t.type]&&(a.disabled=!0,"function"===typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function Ge(e,t,n){if(Array.isArray(t))return De(Ge,e,t,n);var r=function r(){Fe(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Ae(),Be(e,t,r)}var Ve=(Object.freeze||Object)({fixEvent:Ne,on:Be,off:Fe,trigger:He,one:Ge}),ze=!1,We=void 0,qe=function(){if(J()&&!1!==We.options.autoSetup){var e=a.getElementsByTagName("video"),t=a.getElementsByTagName("audio"),n=a.getElementsByTagName("video-js"),r=[];if(e&&e.length>0)for(var i=0,o=e.length;i<o;i++)r.push(e[i]);if(t&&t.length>0)for(var s=0,u=t.length;s<u;s++)r.push(t[s]);if(n&&n.length>0)for(var l=0,c=n.length;l<c;l++)r.push(n[l]);if(r&&r.length>0)for(var d=0,f=r.length;d<f;d++){var h=r[d];if(!h||!h.getAttribute){Ke(1);break}void 0===h.player&&null!==h.getAttribute("data-setup")&&We(h)}else ze||Ke(1)}};function Ke(e,t){t&&(We=t),i.setTimeout(qe,e)}J()&&"complete"===a.readyState?ze=!0:Ge(i,"load",(function(){ze=!0}));var Xe=function(e){var t=a.createElement("style");return t.className=e,t},Ye=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},$e=function(e,t,n){t.guid||(t.guid=Ae());var r=function(){return t.apply(e,arguments)};return r.guid=n?n+"_"+t.guid:t.guid,r},Je=function(e,t){var n=Date.now();return function(){var r=Date.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}},Qe=function(){};Qe.prototype.allowedEvents_={},Qe.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Be(this,e,t),this.addEventListener=n},Qe.prototype.addEventListener=Qe.prototype.on,Qe.prototype.off=function(e,t){Fe(this,e,t)},Qe.prototype.removeEventListener=Qe.prototype.off,Qe.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Ge(this,e,t),this.addEventListener=n},Qe.prototype.trigger=function(e){var t=e.type||e;"string"===typeof e&&(e={type:t}),e=Ne(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),He(this,e)},Qe.prototype.dispatchEvent=Qe.prototype.trigger;var Ze=function(e){return e instanceof Qe||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"===typeof e[t]}))},et=function(e){return"string"===typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},tt=function(e){if(!e.nodeName&&!Ze(e))throw new Error("Invalid target; must be a DOM node or evented object.")},nt=function(e){if(!et(e))throw new Error("Invalid event type; must be a non-empty string or array.")},rt=function(e){if("function"!==typeof e)throw new Error("Invalid listener; must be a function.")},it=function(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,r=void 0,i=void 0,a=void 0;return n?(r=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],a=t[1]):(r=t[0],i=t[1],a=t[2]),tt(r),nt(i),rt(a),{isTargetingSelf:n,target:r,type:i,listener:a=$e(e,a)}},at=function(e,t,n,r){tt(e),e.nodeName?Ve[t](e,n,r):e[t](n,r)},ot={on:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=it(this,n),a=i.isTargetingSelf,o=i.target,s=i.type,u=i.listener;if(at(o,"on",s,u),!a){var l=function(){return e.off(o,s,u)};l.guid=u.guid;var c=function(){return e.off("dispose",l)};c.guid=u.guid,at(this,"on","dispose",l),at(o,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=it(this,n),a=i.isTargetingSelf,o=i.target,s=i.type,u=i.listener;if(a)at(o,"one",s,u);else{var l=function t(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.off(o,s,t),u.apply(null,r)};l.guid=u.guid,at(o,"one",s,l)}},off:function(e,t,n){if(!e||et(e))Fe(this.eventBusEl_,e,t);else{var r=e,i=t;tt(r),nt(i),rt(n),n=$e(this,n),this.off("dispose",n),r.nodeName?(Fe(r,i,n),Fe(r,"dispose",n)):Ze(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){return He(this.eventBusEl_,e,t)}};function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=te("span",{className:"vjs-event-bus"});return H(e,ot),e.on("dispose",(function(){e.off(),i.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var ut={state:{},setState:function(e){var t=this;"function"===typeof e&&(e=e());var n=void 0;return F(e,(function(e,r){t.state[r]!==e&&((n=n||{})[r]={from:t.state[r],to:e}),t.state[r]=e})),n&&Ze(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function lt(e,t){return H(e,ut),e.state=H({},e.state,t),"function"===typeof e.handleStateChanged&&Ze(e)&&e.on("statechanged",e.handleStateChanged),e}function ct(e){return"string"!==typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function dt(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&F(t,(function(t,n){V(t)?(V(e[n])||(e[n]={}),e[n]=dt(e[n],t)):e[n]=t}))})),e}var ft=function(){function e(t,n,r){if(M(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=dt({},this.options_),n=this.options_=dt(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+Ae()}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),!1!==n.evented&&st(this,{eventBusKey:this.el_?"el_":null}),lt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==n.initChildren&&this.initChildren(),this.ready(r),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Le(this.el_),this.el_=null),this.player_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return W.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=dt(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return te(e,t,n)},e.prototype.localize=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),a=i&&i[r],o=r&&r.split("-")[0],s=i&&i[o],u=n;return a&&a[e]?u=a[e]:s&&s[e]&&(u=s[e]),t&&(u=u.replace(/\{(\d+)\}/g,(function(e,n){var r=t[n-1],i=r;return"undefined"===typeof r&&(i=e),i}))),u},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=ct(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,a=void 0;if("string"===typeof t){a=ct(t);var o=n.componentClass||a;n.name=a;var s=e.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!==typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(this.children_.splice(r,0,i),"function"===typeof i.id&&(this.childIndex_[i.id()]=i),(a=a||i.name&&ct(i.name()))&&(this.childNameIndex_[a]=i),"function"===typeof i.el&&i.el()){var u=this.contentEl().children,l=u[r]||null;this.contentEl().insertBefore(i.el(),l)}return i},e.prototype.removeChild=function(e){if("string"===typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;if(n){var r=this.options_,i=void 0,a=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"===typeof t?e===t:e===t.name}))}))).map((function(e){var r=void 0,i=void 0;return"string"===typeof e?i=n[r=e]||t.options_[r]||{}:(r=e.name,i=e),{name:r,opts:i}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||ct(t.name));return n&&!a.isTech(n)})).forEach((function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var a=t.addChild(n,i);a&&(t[n]=a)}}))}},e.prototype.buildCSSClass=function(){return""},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},e.prototype.$=function(e,t){return Ee(e,t||this.contentEl())},e.prototype.$$=function(e,t){return ke(e,t||this.contentEl())},e.prototype.hasClass=function(e){return ie(this.el_,e)},e.prototype.addClass=function(e){ae(this.el_,e)},e.prototype.removeClass=function(e){oe(this.el_,e)},e.prototype.toggleClass=function(e,t){se(this.el_,e,t)},e.prototype.show=function(){this.removeClass("vjs-hidden")},e.prototype.hide=function(){this.addClass("vjs-hidden")},e.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},e.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.prototype.getAttribute=function(e){return ce(this.el_,e)},e.prototype.setAttribute=function(e,t){de(this.el_,e,t)},e.prototype.removeAttribute=function(e){fe(this.el_,e)},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+ct(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"===typeof i.getComputedStyle){var n=i.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var r="offset"+ct(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,n=void 0;this.on("touchstart",(function(r){1===r.touches.length&&(t={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},e=(new Date).getTime(),n=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)n=!1;else if(t){var r=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY;Math.sqrt(r*r+i*i)>10&&(n=!1)}}));var r=function(){n=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){(t=null,!0===n)&&((new Date).getTime()-e<200&&(r.preventDefault(),this.trigger("tap")))}))},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=$e(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){var n,r,a=this;return e=$e(this,e),n=i.setTimeout((function(){a.off("dispose",r),e()}),t),(r=function(){return a.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){i.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){var n=this;e=$e(this,e);var r=i.setInterval(e,t),a=function(){return n.clearInterval(r)};return a.guid="vjs-interval-"+r,this.on("dispose",a),r},e.prototype.clearInterval=function(e){i.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.prototype.requestAnimationFrame=function(e){var t,n,r=this;return this.supportsRaf_?(e=$e(this,e),t=i.requestAnimationFrame((function(){r.off("dispose",n),e()})),(n=function(){return r.cancelAnimationFrame(t)}).guid="vjs-raf-"+t,this.on("dispose",n),t):this.setTimeout(e,1e3/60)},e.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){i.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,n){if("string"!==typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r=e.getComponent("Tech"),i=r&&r.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(i||!a){var o=void 0;throw o=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+o+".")}t=ct(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map((function(e){return u[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,n},e.getComponent=function(t){if(t)return t=ct(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();function ht(e,t,n,r){return function(e,t,n){if("number"!==typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,r,n.length-1),n[r][t]}function pt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:ht.bind(null,"start",0,e),end:ht.bind(null,"end",1,e)}}function mt(e,t){return Array.isArray(e)?pt(e):void 0===e||void 0===t?pt():pt([[e,t]])}function gt(e,t){var n=0,r=void 0,i=void 0;if(!t)return 0;e&&e.length||(e=mt(0,0));for(var a=0;a<e.length;a++)r=e.start(a),(i=e.end(a))>t&&(i=t),n+=i-r;return n/t}ft.prototype.supportsRaf_="function"===typeof i.requestAnimationFrame&&"function"===typeof i.cancelAnimationFrame,ft.registerComponent("Component",ft);for(var vt={},yt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],bt=yt[0],_t=void 0,wt=0;wt<yt.length;wt++)if(yt[wt][1]in a){_t=yt[wt];break}if(_t)for(var Tt=0;Tt<_t.length;Tt++)vt[bt[Tt]]=_t[Tt];function St(e){if(e instanceof St)return e;"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:G(e)&&("number"===typeof e.code&&(this.code=e.code),H(this,e)),this.message||(this.message=St.defaultMessages[this.code]||"")}St.prototype.code=0,St.prototype.message="",St.prototype.status=null,St.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],St.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Et=0;Et<St.errorTypes.length;Et++)St[St.errorTypes[Et]]=Et,St.prototype[St.errorTypes[Et]]=Et;function kt(e){return void 0!==e&&null!==e&&"function"===typeof e.then}function xt(e){kt(e)&&e.then(null,(function(e){}))}var Ct=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,r){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},At=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=Ct(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(Ct))},Ot=function(e,t){return e.forEach((function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return n.addCue(e)}))})),t.textTracks()},Rt=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=te("div",{className:"vjs-modal-dialog-content"},{role:"document"}),i.descEl_=te("p",{className:"vjs-modal-dialog-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),ne(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},t.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",$e(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.prototype.opened=function(e){return"boolean"===typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",$e(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.prototype.closeable=function(e){if("boolean"===typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},t.prototype.fill=function(){this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Te(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},t.prototype.empty=function(){this.trigger("beforemodalempty"),be(this.contentEl()),this.trigger("modalempty")},t.prototype.content=function(e){return"undefined"!==typeof e&&(this.content_=e),this.content_},t.prototype.conditionalFocus_=function(){var e=a.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(a,"keydown",this.handleKeyDown))},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(a,"keydown",this.handleKeyDown)},t.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=void 0,i=0;i<t.length;i++)if(n===t[i]){r=i;break}a.activeElement===this.el_&&(r=0),e.shiftKey&&0===r?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||r!==t.length-1||(t[0].focus(),e.preventDefault())}},t.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof i.HTMLAnchorElement||e instanceof i.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof i.HTMLInputElement||e instanceof i.HTMLSelectElement||e instanceof i.HTMLTextAreaElement||e instanceof i.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof i.HTMLIFrameElement||e instanceof i.HTMLObjectElement||e instanceof i.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(ft);Rt.prototype.options_={pauseOnOpen:!0,temporary:!0},ft.registerComponent("ModalDialog",Rt);var Pt=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;M(this,t);var i=N(this,e.call(this));if(!r&&(r=i,x))for(var o in r=a.createElement("custom"),t.prototype)"constructor"!==o&&(r[o]=t.prototype[o]);r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var s=0;s<n.length;s++)r.addTrack(n[s]);return N(i,r)}return D(t,e),t.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(Qe);for(var It in Pt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Pt.prototype.allowedEvents_)Pt.prototype["on"+It]=null;var Lt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Mt=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];M(this,t);for(var i=void 0,o=r.length-1;o>=0;o--)if(r[o].enabled){Lt(r,r[o]);break}if(x){for(var s in i=a.createElement("custom"),Pt.prototype)"constructor"!==s&&(i[s]=Pt.prototype[s]);for(var u in t.prototype)"constructor"!==u&&(i[u]=t.prototype[u])}return(i=n=N(this,e.call(this,r,i))).changing_=!1,N(n,i)}return D(t,e),t.prototype.addTrack=function(t){var n=this;t.enabled&&Lt(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",(function(){n.changing_||(n.changing_=!0,Lt(n,t),n.changing_=!1,n.trigger("change"))}))},t}(Pt),Dt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},Nt=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];M(this,t);for(var i=void 0,o=r.length-1;o>=0;o--)if(r[o].selected){Dt(r,r[o]);break}if(x){for(var s in i=a.createElement("custom"),Pt.prototype)"constructor"!==s&&(i[s]=Pt.prototype[s]);for(var u in t.prototype)"constructor"!==u&&(i[u]=t.prototype[u])}return(i=n=N(this,e.call(this,r,i))).changing_=!1,Object.defineProperty(i,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),N(n,i)}return D(t,e),t.prototype.addTrack=function(t){var n=this;t.selected&&Dt(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",(function(){n.changing_||(n.changing_=!0,Dt(n,t),n.changing_=!1,n.trigger("change"))}))},t}(Pt),jt=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];M(this,t);var i=void 0;if(x){for(var o in i=a.createElement("custom"),Pt.prototype)"constructor"!==o&&(i[o]=Pt.prototype[o]);for(var s in t.prototype)"constructor"!==s&&(i[s]=t.prototype[s])}return n=N(this,e.call(this,r,i)),N(n,i=n)}return D(t,e),t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t),t.addEventListener("modechange",$e(this,(function(){this.trigger("change")})));-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",$e(this,(function(){this.trigger("selectedlanguagechange")})))},t}(Pt),Ut=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];M(this,e);var n=this;if(x)for(var r in n=a.createElement("custom"),e.prototype)"constructor"!==r&&(n[r]=e.prototype[r]);n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=t.length;i<o;i++)n.addTrackElement_(t[i]);if(x)return n}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}(),Bt=function(){function e(t){M(this,e);var n=this;if(x)for(var r in n=a.createElement("custom"),e.prototype)"constructor"!==r&&(n[r]=e.prototype[r]);if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),x)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),Ft={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ht={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Gt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Vt={disabled:"disabled",hidden:"hidden",showing:"showing"},zt=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,t);var r=N(this,e.call(this)),i=r;if(x)for(var o in i=a.createElement("custom"),t.prototype)"constructor"!==o&&(i[o]=t.prototype[o]);var s={id:n.id||"vjs_track_"+Ae(),kind:n.kind||"",label:n.label||"",language:n.language||""},u=function(e){Object.defineProperty(i,e,{get:function(){return s[e]},set:function(){}})};for(var l in s)u(l);return N(r,i)}return D(t,e),t}(Qe),Wt=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=a.createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,o=void 0;r&&((o=a.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),a.body.appendChild(o));for(var s={},u=0;u<t.length;u++)s[t[u]]=n[t[u]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=i.location.protocol),r&&a.body.removeChild(o),s},qt=function(e){if(!e.match(/^https?:\/\//)){var t=a.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Kt=function(e){if("string"===typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},Xt=function(e){var t=i.location,n=Wt(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},Yt=(Object.freeze||Object)({parseUrl:Wt,getAbsoluteURL:qt,getFileExtension:Kt,isCrossOrigin:Xt}),$t=function(e,t){var n=new i.WebVTT.Parser(i,i.vttjs,i.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(i.console&&i.console.groupCollapsed&&i.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach((function(e){return W.error(e)})),i.console&&i.console.groupEnd&&i.console.groupEnd()),n.flush()},Jt=function(e,t){var n={uri:e},r=Xt(e);r&&(n.cors=r),u(n,$e(this,(function(e,n,r){if(e)return W.error(e,n);if(t.loaded_=!0,"function"!==typeof i.WebVTT){if(t.tech_){var a=function(){return $t(r,t)};t.tech_.on("vttjsloaded",a),t.tech_.on("vttjserror",(function(){W.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",a)}))}}else $t(r,t)})))},Qt=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(M(this,t),!r.tech)throw new Error("A tech was not provided.");var i=dt(r,{kind:Gt[r.kind]||"subtitles",language:r.language||r.srclang||""}),a=Vt[i.mode]||"disabled",o=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(a="hidden");var s=n=N(this,e.call(this,i));if(s.tech_=i.tech,x)for(var u in t.prototype)"constructor"!==u&&(s[u]=t.prototype[u]);s.cues_=[],s.activeCues_=[];var l=new Bt(s.cues_),c=new Bt(s.activeCues_),d=!1,f=$e(s,(function(){this.activeCues=this.activeCues,d&&(this.trigger("cuechange"),d=!1)}));return"disabled"!==a&&s.tech_.ready((function(){s.tech_.on("timeupdate",f)}),!0),Object.defineProperty(s,"default",{get:function(){return o},set:function(){}}),Object.defineProperty(s,"mode",{get:function(){return a},set:function(e){var t=this;Vt[e]&&("disabled"!==(a=e)?this.tech_.ready((function(){t.tech_.on("timeupdate",f)}),!0):this.tech_.off("timeupdate",f),this.trigger("modechange"))}}),Object.defineProperty(s,"cues",{get:function(){return this.loaded_?l:null},set:function(){}}),Object.defineProperty(s,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return c;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];(i.startTime<=e&&i.endTime>=e||i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e)&&t.push(i)}if(d=!1,t.length!==this.activeCues_.length)d=!0;else for(var a=0;a<t.length;a++)-1===this.activeCues_.indexOf(t[a])&&(d=!0);return this.activeCues_=t,c.setCues_(this.activeCues_),c},set:function(){}}),i.src?(s.src=i.src,Jt(i.src,s)):s.loaded_=!0,N(n,s)}return D(t,e),t.prototype.addCue=function(e){var t=e;if(i.vttjs&&!(e instanceof i.vttjs.VTTCue)){for(var n in t=new i.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),a=0;a<r.length;a++)r[a]!==this&&r[a].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(zt);Qt.prototype.allowedEvents_={cuechange:"cuechange"};var Zt=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,t);var i=dt(r,{kind:Ht[r.kind]||""}),a=n=N(this,e.call(this,i)),o=!1;if(x)for(var s in t.prototype)"constructor"!==s&&(a[s]=t.prototype[s]);return Object.defineProperty(a,"enabled",{get:function(){return o},set:function(e){"boolean"===typeof e&&e!==o&&(o=e,this.trigger("enabledchange"))}}),i.enabled&&(a.enabled=i.enabled),a.loaded_=!0,N(n,a)}return D(t,e),t}(zt),en=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,t);var i=dt(r,{kind:Ft[r.kind]||""}),a=n=N(this,e.call(this,i)),o=!1;if(x)for(var s in t.prototype)"constructor"!==s&&(a[s]=t.prototype[s]);return Object.defineProperty(a,"selected",{get:function(){return o},set:function(e){"boolean"===typeof e&&e!==o&&(o=e,this.trigger("selectedchange"))}}),i.selected&&(a.selected=i.selected),N(n,a)}return D(t,e),t}(zt),tn=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,t);var r=N(this,e.call(this)),i=void 0,o=r;if(x)for(var s in o=a.createElement("custom"),t.prototype)"constructor"!==s&&(o[s]=t.prototype[s]);var u=new Qt(n);return o.kind=u.kind,o.src=u.src,o.srclang=u.language,o.label=u.label,o.default=u.default,Object.defineProperty(o,"readyState",{get:function(){return i}}),Object.defineProperty(o,"track",{get:function(){return u}}),i=0,u.addEventListener("loadeddata",(function(){i=2,o.trigger({type:"load",target:o})})),x?N(r,o):r}return D(t,e),t}(Qe);tn.prototype.allowedEvents_={load:"load"},tn.NONE=0,tn.LOADING=1,tn.LOADED=2,tn.ERROR=3;var nn={audio:{ListClass:Mt,TrackClass:Zt,capitalName:"Audio"},video:{ListClass:Nt,TrackClass:en,capitalName:"Video"},text:{ListClass:jt,TrackClass:Qt,capitalName:"Text"}};Object.keys(nn).forEach((function(e){nn[e].getterName=e+"Tracks",nn[e].privateName=e+"Tracks_"}));var rn={remoteText:{ListClass:jt,TrackClass:Qt,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ut,TrackClass:tn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},an=dt(nn,rn);rn.names=Object.keys(rn),nn.names=Object.keys(nn),an.names=[].concat(rn.names).concat(nn.names);var on=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};M(this,t),n.reportTouchActivity=!1;var i=N(this,e.call(this,null,n,r));return i.hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),an.names.forEach((function(e){var t=an[e];n&&n[t.getterName]&&(i[t.privateName]=n[t.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===n["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new an.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return D(t,e),t.prototype.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval($e(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},t.prototype.onDurationChange=function(e){this.duration_=this.duration()},t.prototype.buffered=function(){return mt(0,0)},t.prototype.bufferedPercent=function(){return gt(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(nn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}}))},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=new St(e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?mt(0,0):mt()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTrackListeners=function(){var e=this;nn.names.forEach((function(t){var n=nn[t],r=function(){e.trigger(t+"trackchange")},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",(function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)}))}))},t.prototype.addWebVttScript_=function(){var e=this;if(!i.WebVTT)if(a.body.contains(this.el())){if(!this.options_["vtt.js"]&&V(l)&&Object.keys(l).length>0)return void this.trigger("vttjsloaded");var t=a.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),i.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var a=function(){return e.trigger("texttrackchange")},o=function(){a();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",a),"showing"===n.mode&&n.addEventListener("cuechange",a)}};o(),t.addEventListener("change",o),t.addEventListener("addtrack",o),t.addEventListener("removetrack",o),this.on("dispose",(function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",o),t.removeEventListener("addtrack",o),t.removeEventListener("removetrack",o);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",a)}}))},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var o=new an.text.TrackClass(i);return a.addTrack(o),o}(this,e,t,n)},t.prototype.createRemoteTextTrack=function(e){var t=dt(e,{tech:this});return new rn.remoteTextEl.TrackClass(t)},t.prototype.addRemoteTextTrack=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(W.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==n&&this.ready((function(){return e.autoRemoteTextTracks_.addTrack(r.track)})),r},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},t.prototype.getVideoPlaybackQuality=function(){return{}},t.prototype.setPoster=function(){},t.prototype.playsinline=function(){},t.prototype.setPlaysinline=function(){},t.prototype.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=ct(e),t.techs_[e]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return e=ct(e),t.techs_&&t.techs_[e]?t.techs_[e]:i&&i.videojs&&i.videojs[e]?(W.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),i.videojs[e]):void 0},t}(ft);an.names.forEach((function(e){var t=an[e];on.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),on.prototype.featuresVolumeControl=!0,on.prototype.featuresMuteControl=!0,on.prototype.featuresFullscreenResize=!1,on.prototype.featuresPlaybackRate=!1,on.prototype.featuresProgressEvents=!1,on.prototype.featuresSourceset=!1,on.prototype.featuresTimeupdateEvents=!1,on.prototype.featuresNativeTextTracks=!1,on.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"===typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:W.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ft.registerComponent("Tech",on),on.registerTech("Tech",on),on.defaultTechOrder_=[];var sn={},un={},ln={};function cn(e,t,n){e.setTimeout((function(){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2],i=arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=n[0],u=n.slice(1);if("string"===typeof s)e(t,sn[s],r,i,a,o);else if(s){var l=vn(i,s);if(!l.setSource)return a.push(l),e(t,u,r,i,a,o);l.setSource(H({},t),(function(n,s){if(n)return e(t,u,r,i,a,o);a.push(l),e(s,t.type===s.type?u:sn[s.type],r,i,a,o)}))}else u.length?e(t,u,r,i,a,o):o?r(t,a):e(t,sn["*"],r,i,a,!0)}(t,sn[t.type],n,e)}),1)}function dn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="call"+ct(n),a=e.reduce(mn(i),r),o=a===ln,s=o?null:t[n](a);return gn(e,n,s,o),s}var fn={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},hn={setCurrentTime:1},pn={play:1,pause:1};function mn(e){return function(t,n){return t===ln?ln:n[e]?n[e](t):t}}function gn(e,t,n,r){for(var i=e.length-1;i>=0;i--){var a=e[i];a[t]&&a[t](r,n)}}function vn(e,t){var n=un[e.id()],r=null;if(void 0===n||null===n)return r=t(e),un[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var a=n[i],o=a[0],s=a[1];o===t&&(r=s)}return null===r&&(r=t(e),n.push([t,r])),r}var yn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Kt(e),n=yn[t.toLowerCase()];return n||""},_n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var r=e.$$("source"),i=0;i<r.length;i++){var a=r[i];if(a.type&&a.src&&a.src===t)return a.type}return bn(t)};function wn(e){var t=bn(e.src);return!e.type&&t&&(e.type=t),e}var Tn=function(e){function t(n,r,i){M(this,t);var a=dt({createEl:!1},r),o=N(this,e.call(this,n,a,i));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var s=0,u=r.playerOptions.techOrder;s<u.length;s++){var l=ct(u[s]),c=on.getTech(l);if(l||(c=ft.getComponent(l)),c&&c.isSupported()){n.loadTech_(l);break}}return o}return D(t,e),t}(ft);ft.registerComponent("MediaLoader",Tn);var Sn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.emitTapEvents(),i.enable(),i}return D(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=H({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&W.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=H({role:"button"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},t.prototype.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=te("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,ne(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},t.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){Be(a,"keydown",$e(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){Fe(a,"keydown",$e(this,this.handleKeyPress))},t}(ft);ft.registerComponent("ClickableComponent",Sn);var En=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.update(),n.on("posterchange",$e(i,i.update)),i}return D(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=te("div",{className:"vjs-poster",tabIndex:-1});return P||(this.fallbackImg_=te("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?xt(this.player_.play()):this.player_.pause())},t}(Sn);ft.registerComponent("PosterImage",En);var kn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function xn(e,t){var n=void 0;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Cn(e,t,n){try{e.style[t]=n}catch(r){return}}var An=function(e){function t(n,r,a){M(this,t);var o=N(this,e.call(this,n,r,a)),s=$e(o,o.updateDisplay);return n.on("loadstart",$e(o,o.toggleDisplay)),n.on("texttrackchange",s),n.on("loadstart",$e(o,o.preselectTrack)),n.ready($e(o,(function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",s),n.on("playerresize",s),i.addEventListener&&i.addEventListener("orientationchange",s),n.on("dispose",(function(){return i.removeEventListener("orientationchange",s)}));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}}))),o}return D(t,e),t.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,r=void 0,i=void 0,a=void 0,o=0;o<t.length;o++){var s=t[o];n&&n.enabled&&n.language===s.language?s.kind===n.kind?a=s:a||(a=s):n&&!n.enabled?(a=null,r=null,i=null):s.default&&("descriptions"!==s.kind||r?s.kind in e&&!i&&(i=s):r=s)}a?a.mode="showing":i?i.mode="showing":r&&(r.mode="showing")},t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"===typeof i.WebVTT&&i.WebVTT.processCues(i,[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},t.prototype.updateForTrack=function(e){if("function"===typeof i.WebVTT&&e.activeCues){for(var t=[],n=0;n<e.activeCues.length;n++)t.push(e.activeCues[n]);if(i.WebVTT.processCues(i,t,this.el_),this.player_.textTrackSettings)for(var r=this.player_.textTrackSettings.getValues(),a=t.length;a--;){var o=t[a];if(o){var s=o.displayState;if(r.color&&(s.firstChild.style.color=r.color),r.textOpacity&&Cn(s.firstChild,"color",xn(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(s.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Cn(s.firstChild,"backgroundColor",xn(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Cn(s,"backgroundColor",xn(r.windowColor,r.windowOpacity)):s.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===r.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===r.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===r.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),r.fontPercent&&1!==r.fontPercent){var u=i.parseFloat(s.style.fontSize);s.style.fontSize=u*r.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=kn[r.fontFamily])}}}},t}(ft);ft.registerComponent("TextTrackDisplay",An);var On=function(e){function t(){return M(this,t),N(this,e.apply(this,arguments))}return D(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=te("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},t}(ft);ft.registerComponent("LoadingSpinner",On);var Rn=function(e){function t(){return M(this,t),N(this,e.apply(this,arguments))}return D(t,e),t.prototype.createEl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e="button",t=H({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=H({type:"button"},n);var r=ft.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return W.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),ft.prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(Sn);ft.registerComponent("Button",Rn);var Pn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)xt(t);else{var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var i=function(){return r.focus()};kt(t)?t.then(i,(function(){})):this.setTimeout(i,1)}else this.player_.focus()}},t.prototype.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(e){this.mouseused_=!0},t}(Rn);Pn.prototype.controlText_="Play Video",ft.registerComponent("BigPlayButton",Pn);var In=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.controlText(r&&r.controlText||i.localize("Close")),i}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(Rn);ft.registerComponent("CloseButton",In);var Ln=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.on(n,"play",i.handlePlay),i.on(n,"pause",i.handlePause),i.on(n,"ended",i.handleEnded),i}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.prototype.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.prototype.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(Rn);Ln.prototype.controlText_="Play",ft.registerComponent("PlayToggle",Ln);var Mn=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),a=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||o>0?i+":":"")+(r=((i||a>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)},Dn=Mn;var Nn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Dn(e,t)},jn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.throttledUpdateContent=Je($e(i,i.updateContent),25),i.on(n,"timeupdate",i.throttledUpdateContent),i}return D(t,e),t.prototype.createEl=function(t){var n=this.buildCSSClass(),r=e.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+"\xa0</span>"});return this.contentEl_=te("span",{className:n+"-display"},{"aria-live":"off"}),this.updateTextNode_(),r.appendChild(this.contentEl_),r},t.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},t.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},t.prototype.formatTime_=function(e){return Nn(e)},t.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},t.prototype.updateContent=function(e){},t}(ft);jn.prototype.labelText_="Time",jn.prototype.controlText_="Time",ft.registerComponent("TimeDisplay",jn);var Un=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.on(n,"ended",i.handleEnded),i}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-current-time"},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(jn);Un.prototype.labelText_="Current Time",Un.prototype.controlText_="Current Time",ft.registerComponent("CurrentTimeDisplay",Un);var Bn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.on(n,"durationchange",i.updateContent),i.on(n,"loadedmetadata",i.throttledUpdateContent),i}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-duration"},t.prototype.updateContent=function(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(jn);Bn.prototype.labelText_="Duration",Bn.prototype.controlText_="Duration",ft.registerComponent("DurationDisplay",Bn);var Fn=function(e){function t(){return M(this,t),N(this,e.apply(this,arguments))}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(ft);ft.registerComponent("TimeDivider",Fn);var Hn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.on(n,"durationchange",i.throttledUpdateContent),i.on(n,"ended",i.handleEnded),i}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-remaining-time"},t.prototype.formatTime_=function(t){return"-"+e.prototype.formatTime_.call(this,t)},t.prototype.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(jn);Hn.prototype.labelText_="Remaining Time",Hn.prototype.controlText_="Remaining Time",ft.registerComponent("RemainingTimeDisplay",Hn);var Gn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return D(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=te("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xa0</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(ft);ft.registerComponent("LiveDisplay",Gn);var Vn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}return D(t,e),t.prototype.enabled=function(){return this.enabled_},t.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.prototype.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.prototype.createEl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=H({tabIndex:0},n),r=H({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||E||e.preventDefault(),he(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;pe(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!==typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",r=t.el().style;return this.vertical()?r.height=n:r.width=n,e}}},t.prototype.calculateDistance=function(e){var t=ve(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(ft);ft.registerComponent("Slider",Vn);var zn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.partEls_=[],i.on(n,"progress",i.update),i}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},t.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),i=this.partEls_,a=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=a(r,n);for(var o=0;o<t.length;o++){var s=t.start(o),u=t.end(o),l=i[o];l||(l=this.el_.appendChild(te()),i[o]=l),l.style.left=a(s,r),l.style.width=a(u-s,r)}for(var c=i.length;c>t.length;c--)this.el_.removeChild(i[c-1]);i.length=t.length},t}(ft);ft.registerComponent("LoadProgressBar",zn);var Wn=function(e){function t(){return M(this,t),N(this,e.apply(this,arguments))}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,n){var r=me(this.el_),i=me(this.player_.el()),a=e.width*t;if(i&&r){var o=e.left-i.left+a,s=e.width-a+(i.right-e.right),u=r.width/2;o<u?u+=u-o:s<u&&(u=s),u<0?u=0:u>r.width&&(u=r.width),this.el_.style.right="-"+u+"px",ne(this.el_,n)}},t}(ft);ft.registerComponent("TimeTooltip",Wn);var qn=function(e){function t(){return M(this,t),N(this,e.apply(this,arguments))}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(e,t){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var r=n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),i=Nn(r,n.player_.duration()),a=n.getChild("timeTooltip");a&&a.update(e,t,i)}))},t}(ft);qn.prototype.options_={children:[]},C&&!(C>8)||g||y||qn.prototype.options_.children.push("timeTooltip"),ft.registerComponent("PlayProgressBar",qn);var Kn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.update=Je($e(i,i.update),25),i}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.update=function(e,t){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var r=n.player_.duration(),i=Nn(t*r,r);n.el_.style.left=e.width*t+"px",n.getChild("timeTooltip").update(e,t,i)}))},t}(ft);Kn.prototype.options_={children:["timeTooltip"]},ft.registerComponent("MouseTimeDisplay",Kn);var Xn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.setEventHandlers_(),i}return D(t,e),t.prototype.setEventHandlers_=function(){var e=this;this.update=Je($e(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],(function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval((function(){e.requestAnimationFrame((function(){e.update()}))}),30)})),this.on(this.player_,["ended","pause","waiting"],(function(){e.clearInterval(e.updateInterval)})),this.on(this.player_,["timeupdate","ended"],this.update)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.prototype.update_=function(e,t){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Nn(e,n),Nn(n,n)],"{1} of {2}")),this.bar.update(me(this.el_),t)},t.prototype.update=function(t){var n=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n},t.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.prototype.handleEnded=function(e){this.update_(this.player_.duration(),1)},t.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){Se(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},t.prototype.handleMouseMove=function(e){if(Se(e)){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)}},t.prototype.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},t.prototype.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&xt(this.player_.play())},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t.prototype.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t}(Vn);Xn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},C&&!(C>8)||g||y||Xn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Xn.prototype.playerEvent="timeupdate",ft.registerComponent("SeekBar",Xn);var Yn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.handleMouseMove=Je($e(i,i.handleMouseMove),25),i.throttledHandleMouseSeek=Je($e(i,i.handleMouseSeek),25),i.enable(),i}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),r=t.el(),i=me(r),a=ve(r,e).x;a>1?a=1:a<0&&(a=0),n&&n.update(i,a)}},t.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},t.prototype.enabled=function(){return this.enabled_},t.prototype.disable=function(){this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.prototype.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(ft);Yn.prototype.options_={children:["seekBar"]},ft.registerComponent("ProgressControl",Yn);var $n=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.on(n,"fullscreenchange",i.handleFullscreenChange),!1===a[vt.fullscreenEnabled]&&i.disable(),i}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Rn);$n.prototype.controlText_="Fullscreen",ft.registerComponent("FullscreenToggle",$n);var Jn=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))},Qn=function(e){function t(){return M(this,t),N(this,e.apply(this,arguments))}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(ft);ft.registerComponent("VolumeLevel",Qn);var Zn=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.on("slideractive",i.updateLastVolume_),i.on(n,"volumechange",i.updateARIAAttributes),n.ready((function(){return i.updateARIAAttributes()})),i}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.prototype.handleMouseDown=function(t){Se(t)&&e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){Se(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(Vn);Zn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Zn.prototype.playerEvent="volumechange",ft.registerComponent("VolumeBar",Zn);var er=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,t),r.vertical=r.vertical||!1,("undefined"===typeof r.volumeBar||V(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical);var i=N(this,e.call(this,n,r));return Jn(i,n),i.throttledHandleMouseMove=Je($e(i,i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}return D(t,e),t.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(ft);er.prototype.options_={children:["volumeBar"]},ft.registerComponent("VolumeControl",er);var tr=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(i,n),i.on(n,["loadstart","volumechange"],i.update),i}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){this.updateIcon_(),this.updateControlText_()},t.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;g&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)oe(this.el_,"vjs-vol-"+n);ae(this.el_,"vjs-vol-"+t)},t.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Rn);tr.prototype.controlText_="Mute",ft.registerComponent("MuteToggle",tr);var nr=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,t),"undefined"!==typeof r.inline?r.inline=r.inline:r.inline=!0,("undefined"===typeof r.volumeControl||V(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline);var i=N(this,e.call(this,n,r));return i.on(n,["loadstart"],i.volumePanelState_),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}return D(t,e),t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(ft);nr.prototype.options_={children:["muteToggle","volumeControl"]},ft.registerComponent("VolumePanel",nr);var rr=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return r&&(i.menuButton_=r.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return D(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",$e(this,(function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())})))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=te(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Be(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(ft);ft.registerComponent("Menu",rr);var ir=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,t);var i=N(this,e.call(this,n,r));i.menuButton_=new Rn(n,r),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var a=Rn.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+a,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on("keydown",i.handleSubmenuKeyPress),i}return D(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new rr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=te("li",{className:"vjs-menu-title",innerHTML:ct(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),re(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Rn.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",$e(this,(function(e){this.unpressButton(),this.el_.blur()}))),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.focus=function(){this.menuButton_.focus()},t.prototype.blur=function(){this.menuButton_.blur()},t.prototype.handleFocus=function(){Be(a,"keydown",$e(this,this.handleKeyPress))},t.prototype.handleBlur=function(){Fe(a,"keydown",$e(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},t.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),g&&Z())return;this.menu.focus()}},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(ft);ft.registerComponent("MenuButton",ir);var ar=function(e){function t(n,r){M(this,t);var i=r.tracks,a=N(this,e.call(this,n,r));if(a.items.length<=1&&a.hide(),!i)return N(a);var o=$e(a,a.update);return i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),a.player_.on("ready",o),a.player_.on("dispose",(function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o)})),a}return D(t,e),t}(ir);ft.registerComponent("TrackButton",ar);var or=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.selectable=r.selectable,i.isSelected_=r.selected||!1,i.multiSelectable=r.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}return D(t,e),t.prototype.createEl=function(t,n,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",H({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),r)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Sn);ft.registerComponent("MenuItem",or);var sr=function(e){function t(n,r){M(this,t);var o=r.track,s=n.textTracks();r.label=o.label||o.language||"Unknown",r.selected="showing"===o.mode;var u=N(this,e.call(this,n,r));u.track=o;var l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.handleTracksChange.apply(u,t)},c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.handleSelectedLanguageChange.apply(u,t)};if(n.on(["loadstart","texttrackchange"],l),s.addEventListener("change",l),s.addEventListener("selectedlanguagechange",c),u.on("dispose",(function(){n.off(["loadstart","texttrackchange"],l),s.removeEventListener("change",l),s.removeEventListener("selectedlanguagechange",c)})),void 0===s.onchange){var d=void 0;u.on(["tap","click"],(function(){if("object"!==L(i.Event))try{d=new i.Event("change")}catch(e){}d||(d=a.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(d)}))}return u.handleTracksChange(),u}return D(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.track.kinds,i=this.player_.textTracks();if(r||(r=[n]),e.prototype.handleClick.call(this,t),i)for(var a=0;a<i.length;a++){var o=i[a];o===this.track&&r.indexOf(o.kind)>-1?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled")}},t.prototype.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},t.prototype.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.prototype.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(or);ft.registerComponent("TextTrackMenuItem",sr);var ur=function(e){function t(n,r){return M(this,t),r.track={player:n,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,N(this,e.call(this,n,r))}return D(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var a=t[r];if(this.options_.kinds.indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},t.prototype.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var a=t[r];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(sr);ft.registerComponent("OffTextTrackMenuItem",ur);var lr=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M(this,t),r.tracks=n.textTracks(),N(this,e.call(this,n,r))}return D(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sr,n=void 0;this.label_&&(n=this.label_+" off"),e.push(new ur(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var a=r[i];if(this.kinds_.indexOf(a.kind)>-1){var o=new t(this.player_,{track:a,selectable:!0,multiSelectable:!1});o.addClass("vjs-"+a.kind+"-menu-item"),e.push(o)}}return e},t}(ar);ft.registerComponent("TextTrackButton",lr);var cr=function(e){function t(n,r){M(this,t);var i=r.track,a=r.cue,o=n.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=a.text,r.selected=a.startTime<=o&&o<a.endTime;var s=N(this,e.call(this,n,r));return s.track=i,s.cue=a,i.addEventListener("cuechange",$e(s,s.update)),s}return D(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(or);ft.registerComponent("ChaptersTrackMenuItem",cr);var dr=function(e){function t(n,r,i){return M(this,t),N(this,e.call(this,n,r,i))}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ct(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],a=new cr(this.player_,{track:this.track_,cue:i});e.push(a)}return e},t}(lr);dr.prototype.kind_="chapters",dr.prototype.controlText_="Chapters",ft.registerComponent("ChaptersButton",dr);var fr=function(e){function t(n,r,i){M(this,t);var a=N(this,e.call(this,n,r,i)),o=n.textTracks(),s=$e(a,a.handleTracksChange);return o.addEventListener("change",s),a.on("dispose",(function(){o.removeEventListener("change",s)})),a}return D(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var a=t[r];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(lr);fr.prototype.kind_="descriptions",fr.prototype.controlText_="Descriptions",ft.registerComponent("DescriptionsButton",fr);var hr=function(e){function t(n,r,i){return M(this,t),N(this,e.call(this,n,r,i))}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(lr);hr.prototype.kind_="subtitles",hr.prototype.controlText_="Subtitles",ft.registerComponent("SubtitlesButton",hr);var pr=function(e){function t(n,r){M(this,t),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem";var i=N(this,e.call(this,n,r));return i.addClass("vjs-texttrack-settings"),i.controlText(", opens "+r.kind+" settings dialog"),i}return D(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(sr);ft.registerComponent("CaptionSettingsMenuItem",pr);var mr=function(e){function t(n,r,i){return M(this,t),N(this,e.call(this,n,r,i))}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new pr(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(lr);mr.prototype.kind_="captions",mr.prototype.controlText_="Captions",ft.registerComponent("CaptionsButton",mr);var gr=function(e){function t(){return M(this,t),N(this,e.apply(this,arguments))}return D(t,e),t.prototype.createEl=function(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,H({innerHTML:i},n),r)},t}(sr);ft.registerComponent("SubsCapsMenuItem",gr);var vr=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,t);var i=N(this,e.call(this,n,r));return i.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(ct(i.label_)),i}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new pr(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,gr)},t}(lr);vr.prototype.kinds_=["captions","subtitles"],vr.prototype.controlText_="Subtitles",ft.registerComponent("SubsCapsButton",vr);var yr=function(e){function t(n,r){M(this,t);var i=r.track,a=n.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled;var o=N(this,e.call(this,n,r));o.track=i,o.addClass("vjs-"+i.kind+"-menu-item");var s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleTracksChange.apply(o,t)};return a.addEventListener("change",s),o.on("dispose",(function(){a.removeEventListener("change",s)})),o}return D(t,e),t.prototype.createEl=function(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,H({innerHTML:i},n),r)},t.prototype.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(or);ft.registerComponent("AudioTrackMenuItem",yr);var br=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M(this,t),r.tracks=n.audioTracks(),N(this,e.call(this,n,r))}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new yr(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(ar);br.prototype.controlText_="Audio Track",ft.registerComponent("AudioTrackButton",br);var _r=function(e){function t(n,r){M(this,t);var i=r.rate,a=parseFloat(i,10);r.label=i,r.selected=1===a,r.selectable=!0,r.multiSelectable=!1;var o=N(this,e.call(this,n,r));return o.label=i,o.rate=a,o.on(n,"ratechange",o.update),o}return D(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(or);_r.prototype.contentElType="button",ft.registerComponent("PlaybackRateMenuItem",_r);var wr=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.updateVisibility(),i.updateLabel(),i.on(n,"loadstart",i.updateVisibility),i.on(n,"ratechange",i.updateLabel),i}return D(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=te("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.prototype.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var e=new rr(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new _r(this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(ir);wr.prototype.controlText_="Playback Rate",ft.registerComponent("PlaybackRateMenuButton",wr);var Tr=function(e){function t(){return M(this,t),N(this,e.apply(this,arguments))}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(ft);ft.registerComponent("Spacer",Tr);var Sr=function(e){function t(){return M(this,t),N(this,e.apply(this,arguments))}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="\xa0",t},t}(Tr);ft.registerComponent("CustomControlSpacer",Sr);var Er=function(e){function t(){return M(this,t),N(this,e.apply(this,arguments))}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(ft);Er.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},ft.registerComponent("ControlBar",Er);var kr=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r));return i.on(n,"error",i.open),i}return D(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(Rt);kr.prototype.options_=dt(Rt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ft.registerComponent("ErrorDisplay",kr);var xr=["#000","Black"],Cr=["#00F","Blue"],Ar=["#0FF","Cyan"],Or=["#0F0","Green"],Rr=["#F0F","Magenta"],Pr=["#F00","Red"],Ir=["#FFF","White"],Lr=["#FF0","Yellow"],Mr=["1","Opaque"],Dr=["0.5","Semi-Transparent"],Nr=["0","Transparent"],jr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[xr,Ir,Pr,Or,Cr,Lr,Rr,Ar]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Mr,Dr,Nr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ir,xr,Pr,Or,Cr,Lr,Rr,Ar]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Mr,Dr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Nr,Dr,Mr]}};function Ur(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}jr.windowColor.options=jr.backgroundColor.options;var Br=function(e){function t(n,r){M(this,t),r.temporary=!1;var i=N(this,e.call(this,n,r));return i.updateDisplay=$e(i,i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=te("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===r.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),F(jr,(function(e){i.on(i.$(e.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return D(t,e),t.prototype.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},t.prototype.createElSelect_=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",i=jr[e],a=i.id.replace("%s",this.id_),o=[n,a].join(" ").trim();return["<"+r+' id="'+a+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(i.label),"</"+r+">",'<select aria-labelledby="'+o+'">'].concat(i.options.map((function(e){var n=a+"-"+e[1].replace(/\W+/g,"");return['<option id="'+n+'" value="'+e[0]+'" ','aria-labelledby="'+o+" "+n+'">',t.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},t.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElColors_=function(){return te("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.prototype.createElFont_=function(){return te("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return te("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.prototype.label=function(){return this.localize("Caption Settings Dialog")},t.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.prototype.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.prototype.getValues=function(){var e=this;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return B(e).reduce((function(n,r){return t(n,e[r],r)}),n)}(jr,(function(t,n,r){var i,a,o=(i=e.$(n.selector),a=n.parser,Ur(i.options[i.options.selectedIndex].value,a));return void 0!==o&&(t[r]=o),t}),{})},t.prototype.setValues=function(e){var t=this;F(jr,(function(n,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(Ur(e.options[r].value,n)===t){e.selectedIndex=r;break}}(t.$(n.selector),e[r],n.parser)}))},t.prototype.setDefaults=function(){var e=this;F(jr,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(i.localStorage.getItem("vjs-text-track-settings"))}catch(t){W.warn(t)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?i.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):i.localStorage.removeItem("vjs-text-track-settings")}catch(t){W.warn(t)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(a,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(Rt);ft.registerComponent("TextTrackSettings",Br);var Fr=function(e){function t(n,r){M(this,t);var a=r.ResizeObserver||i.ResizeObserver;null===r.ResizeObserver&&(a=!1);var o=dt({createEl:!a},r),s=N(this,e.call(this,n,o));return s.ResizeObserver=r.ResizeObserver||i.ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i,a=void 0,o=function(){r.clearTimeout(a),a=null},s=function(){var i=this,o=arguments,s=function(){a=null,s=null,n||e.apply(i,o)};!a&&n&&e.apply(i,o),r.clearTimeout(a),a=r.setTimeout(s,t)};return s.cancel=o,s}((function(){s.resizeHandler()}),100,!1,s),a?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(n.el())):(s.loadListener_=function(){s.el_&&s.el_.contentWindow&&Be(s.el_.contentWindow,"resize",s.debouncedHandler_)},s.one("load",s.loadListener_)),s}return D(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},t.prototype.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},t.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Fe(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},t}(ft);ft.registerComponent("ResizeManager",Fr);var Hr=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],i="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var o=n[a].src;o&&-1===r.indexOf(o)&&r.push(o)}return!!r.length&&(1===r.length&&(i=r[0]),e.triggerSourceset(i),!0)},Gr={};x||(Gr=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=a.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=a.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",i.Element.prototype.appendChild.call(this,n),this.innerHTML}}));var Vr=function(e,t){for(var n={},r=0;r<e.length&&!((n=Object.getOwnPropertyDescriptor(e[r],t))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},zr=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=function(e){return Vr([e.el(),i.HTMLMediaElement.prototype,i.Element.prototype,Gr],"innerHTML")}(e),a=function(n){return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=n.apply(t,i);return Hr(e),o}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=a(n[e]))})),Object.defineProperty(t,"innerHTML",dt(r,{set:a(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},Wr={};x||(Wr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?qt(i.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return i.Element.prototype.setAttribute.call(this,"src",e),e}}));var qr=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return Vr([e.el(),i.HTMLMediaElement.prototype,Wr],"src")}(e),r=t.setAttribute,a=t.load;Object.defineProperty(t,"src",dt(n,{set:function(r){var i=n.set.call(t,r);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(n,i){var a=r.call(t,n,i);return/src/i.test(n)&&e.triggerSourceset(t.src),a},t.load=function(){var n=a.call(t);return Hr(e)||(e.triggerSourceset(""),zr(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):Hr(e)||zr(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=a,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Kr=j(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Xr=function(e){function t(n,r){M(this,t);var i=N(this,e.call(this,n,r)),a=n.source,s=!1;if(a&&(i.el_.currentSrc!==a.src||n.tag&&3===n.tag.initNetworkState_)?i.setSource(a):i.handleLateInit_(i.el_),n.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var u=i.el_.childNodes,l=u.length,c=[];l--;){var d=u[l];"track"===d.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(d),i.remoteTextTracks().addTrack(d.track),i.textTracks().addTrack(d.track),s||i.el_.hasAttribute("crossorigin")||!Xt(d.src)||(s=!0)):c.push(d))}for(var f=0;f<c.length;f++)i.el_.removeChild(c[f])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&s&&W.warn(o(Kr)),i.restoreMetadataTracksInIOSNativePlayer_(),(R||p||w)&&!0===n.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return D(t,e),t.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},t.prototype.setupSourcesetHandling_=function(){qr(this)},t.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t=void 0,n=function(){t=[];for(var n=0;n<e.length;n++){var r=e[n];"metadata"===r.kind&&t.push({track:r,storedMode:r.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(function(){return e.removeEventListener("change",n)}));var r=function n(){for(var r=0;r<t.length;r++){var i=t[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",n),e.removeEventListener("change",r),e.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",r)}))},t.prototype.proxyNativeTracks_=function(){var e=this;nn.names.forEach((function(t){var n=nn[t],r=e.el()[n.getterName],i=e[n.getterName]();if(e["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var a={change:function(e){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},o=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,a=0;a<r.length;a++)if(r[a]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};Object.keys(a).forEach((function(t){var n=a[t];r.addEventListener(t,n),e.on("dispose",(function(e){return r.removeEventListener(t,n)}))})),e.on("loadstart",o),e.on("dispose",(function(t){return e.off("loadstart",o)}))}}))},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=a.createElement("video");var r=dt({},this.options_.tag&&le(this.options_.tag));R&&!0===this.options_.nativeControlsForTouch||delete r.controls,ue(e,H(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&de(e,"preload",this.options_.preload);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var s=i[o],u=this.options_[s];"undefined"!==typeof u&&(u?de(e,s,s):fe(e,s),e[s]=u)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(e){this.trigger(e)}),this)}))}},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){W(t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&y&&E&&0===this.el_.currentTime){return this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},t.prototype.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var e=i.navigator&&i.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){e.pause(),e.webkitEnterFullScreen()}),0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=a.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},t.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t.prototype.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),i.performance&&"function"===typeof i.performance.now?e.creationTime=i.performance.now():i.performance&&i.performance.timing&&"number"===typeof i.performance.timing.navigationStart&&(e.creationTime=i.Date.now()-i.performance.timing.navigationStart),e},t}(on);if(J()){Xr.TEST_VID=a.createElement("video");var Yr=a.createElement("track");Yr.kind="captions",Yr.srclang="en",Yr.label="English",Xr.TEST_VID.appendChild(Yr)}Xr.isSupported=function(){try{Xr.TEST_VID.volume=.5}catch(e){return!1}return!(!Xr.TEST_VID||!Xr.TEST_VID.canPlayType)},Xr.canPlayType=function(e){return Xr.TEST_VID.canPlayType(e)},Xr.canPlaySource=function(e,t){return Xr.canPlayType(e.type)},Xr.canControlVolume=function(){try{var e=Xr.TEST_VID.volume;return Xr.TEST_VID.volume=e/2+.1,e!==Xr.TEST_VID.volume}catch(t){return!1}},Xr.canMuteVolume=function(){try{var e=Xr.TEST_VID.muted;return Xr.TEST_VID.muted=!e,Xr.TEST_VID.muted?de(Xr.TEST_VID,"muted","muted"):fe(Xr.TEST_VID,"muted"),e!==Xr.TEST_VID.muted}catch(t){return!1}},Xr.canControlPlaybackRate=function(){if(y&&E&&k<58)return!1;try{var e=Xr.TEST_VID.playbackRate;return Xr.TEST_VID.playbackRate=e/2+.1,e!==Xr.TEST_VID.playbackRate}catch(t){return!1}},Xr.canOverrideAttributes=function(){if(x)return!1;try{var e=function(){};Object.defineProperty(a.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(a.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(a.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(a.createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return!1}return!0},Xr.supportsNativeTextTracks=function(){return O||g&&E},Xr.supportsNativeVideoTracks=function(){return!(!Xr.TEST_VID||!Xr.TEST_VID.videoTracks)},Xr.supportsNativeAudioTracks=function(){return!(!Xr.TEST_VID||!Xr.TEST_VID.audioTracks)},Xr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Xr.prototype.featuresVolumeControl=Xr.canControlVolume(),Xr.prototype.featuresMuteControl=Xr.canMuteVolume(),Xr.prototype.featuresPlaybackRate=Xr.canControlPlaybackRate(),Xr.prototype.featuresSourceset=Xr.canOverrideAttributes(),Xr.prototype.movingMediaElementInDOM=!g,Xr.prototype.featuresFullscreenResize=!0,Xr.prototype.featuresProgressEvents=!0,Xr.prototype.featuresTimeupdateEvents=!0,Xr.prototype.featuresNativeTextTracks=Xr.supportsNativeTextTracks(),Xr.prototype.featuresNativeVideoTracks=Xr.supportsNativeVideoTracks(),Xr.prototype.featuresNativeAudioTracks=Xr.supportsNativeAudioTracks();var $r=Xr.TEST_VID&&Xr.TEST_VID.constructor.prototype.canPlayType,Jr=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Qr=/^video\/mp4/i;Xr.patchCanPlayType=function(){b>=4&&!T&&!E?Xr.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Jr.test(e)?"maybe":$r.call(this,e)}:_&&(Xr.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Qr.test(e)?"maybe":$r.call(this,e)})},Xr.unpatchCanPlayType=function(){var e=Xr.TEST_VID.constructor.prototype.canPlayType;return Xr.TEST_VID.constructor.prototype.canPlayType=$r,e},Xr.patchCanPlayType(),Xr.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"===typeof e.load&&function(){try{e.load()}catch(t){}}()}},Xr.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"===typeof e.load&&function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Xr.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Xr.prototype["set"+ct(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(e){Xr.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(e){Xr.prototype["set"+ct(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Xr.prototype[e]=function(){return this.el_[e]()}})),on.withSourceHandlers(Xr),Xr.nativeSourceHandler={},Xr.nativeSourceHandler.canPlayType=function(e){try{return Xr.TEST_VID.canPlayType(e)}catch(t){return""}},Xr.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Xr.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Kt(e.src);return Xr.nativeSourceHandler.canPlayType("video/"+n)}return""},Xr.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Xr.nativeSourceHandler.dispose=function(){},Xr.registerSourceHandler(Xr.nativeSourceHandler),on.registerTech("Html5",Xr);var Zr=j(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),ei=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ti={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},ni=["tiny","xsmall","small","medium","large","xlarge","huge"],ri={};ni.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;ri[e]="vjs-layout-"+t}));var ii={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},ai=function(e){function t(n,r,i){if(M(this,t),n.id=n.id||r.id||"vjs_video_"+Ae(),(r=H(t.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"===typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(r.language=a.getAttribute("lang"))}else for(var o=n;o&&1===o.nodeType;){if(le(o).hasOwnProperty("lang")){r.language=o.getAttribute("lang");break}o=o.parentNode}var s=N(this,e.call(this,null,r,i));if(s.log=q(s.id_),s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=n,s.tagAttributes=n&&le(n),s.language(s.options_.language),r.languages){var u={};Object.getOwnPropertyNames(r.languages).forEach((function(e){u[e.toLowerCase()]=r.languages[e]})),s.languages_=u}else s.languages_=t.prototype.options_.languages;s.cache_={},s.poster_=r.poster||"",s.controls_=!!r.controls,s.cache_.lastVolume=1,n.controls=!1,n.removeAttribute("controls"),n.hasAttribute("autoplay")?s.options_.autoplay=!0:s.autoplay(s.options_.autoplay),s.scrubbing_=!1,s.el_=s.createEl(),s.cache_.lastPlaybackRate=s.defaultPlaybackRate(),st(s,{eventBusKey:"el_"});var l=dt(s.options_);if(r.plugins){var c=r.plugins;Object.keys(c).forEach((function(e){if("function"!==typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](c[e])}),s)}s.options_.playerOptions=l,s.middleware_=[],s.initChildren(),s.isAudio("audio"===n.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),g||s.addClass("vjs-workinghover"),t.players[s.id_]=s;var d="6.13.0".split(".")[0];return s.addClass("vjs-v"+d),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("fullscreenchange",s.handleFullscreenChange_),s.on("stageclick",s.handleStageClick_),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.changingSrc_=!1,s.playWaitingForReady_=!1,s.playOnLoadstart_=null,s}return D(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),un[this.id()]=null,e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,n=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),o="video-js"===this.tag.tagName.toLowerCase();r?n=this.el_=t.parentNode:o||(n=this.el_=e.prototype.createEl.call(this,"div"));var s=le(t);if(o){for(n=this.el_=t,t=this.tag=a.createElement("video");n.children.length;)t.appendChild(n.firstChild);ie(n,"video-js")||ae(n,"video-js"),n.appendChild(t),r=this.playerElIngest_=n,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach((function(e){"undefined"!==typeof n[e]&&(t[e]=n[e])}))}if(t.setAttribute("tabindex","-1"),s.tabindex="-1",C&&(t.setAttribute("role","application"),s.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(e){"class"===e?(n.className+=" "+s[e],o&&(t.className+=" "+s[e])):(n.setAttribute(e,s[e]),o&&t.setAttribute(e,s[e]))})),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),!0!==i.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Xe("vjs-styles-dimensions");var u=Ee(".vjs-styles-defaults"),l=Ee("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=t.getElementsByTagName("a"),d=0;d<c.length;d++){var f=c.item(d);ae(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),re(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=n,n},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?W.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,this.updateStyleEl_())},t.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?(this.addClass("vjs-fluid"),this.fill(!1)):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.prototype.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0!==i.VIDEOJS_NO_DYNAMIC_STYLE){var e=void 0,t=void 0,n=void 0,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),a=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/a:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*a,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),Ye(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*a+"%;\n      }\n    ")}else{var o="number"===typeof this.width_?this.width_:this.options_.width,s="number"===typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(o>=0&&(u.width=o),s>=0&&(u.height=s))}},t.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=ct(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(on.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var a={source:t,autoplay:"string"!==typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};an.names.forEach((function(e){var t=an[e];a[t.getterName]=n[t.privateName]})),H(a,this.options_[r]),H(a,this.options_[i]),H(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var o=on.getTech(e);if(!o)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new o(a),this.tech_.ready($e(this,this.handleTechReady_),!0),Ot(this.textTracksJson_||[],this.tech_),ei.forEach((function(e){n.on(n.tech_,e,n["handleTech"+ct(e)+"_"])})),Object.keys(ti).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+ti[e]+"_"].bind(n),event:t}):n["handleTech"+ti[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||re(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){var e=this;an.names.forEach((function(t){var n=an[t];e[n.privateName]=e[n.getterName]()})),this.textTracksJson_=At(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},t.prototype.tech=function(e){return void 0===e&&W.warn(o(Zr)),this.tech_},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(e){W("deleting tag.poster throws in some browsers",e)}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},t.prototype.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"===typeof e){var n=function(){var e=t.muted();t.muted(!0);var n=t.play();if(n&&n.then&&n.catch)return n.catch((function(n){t.muted(e)}))},r=void 0;if("any"===e?(r=this.play())&&r.then&&r.catch&&r.catch((function(){return n()})):r="muted"===e?n():this.play(),r&&r.then&&r.catch)return r.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(n){t.trigger({type:"autoplay-failure",autoplay:e})}))}},t.prototype.updateSourceCaches_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e,n="";"string"!==typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=_n(this,t)),this.cache_.source=dt({},e,{src:t,type:n});for(var r=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),i=[],a=this.$$("source"),o=[],s=0;s<a.length;s++){var u=le(a[s]);i.push(u),u.src&&u.src===t&&o.push(u.src)}o.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},t.prototype.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,i=e.src;if(r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=function(){}),n(i),!e.src){this.tech_.one(["sourceset","loadstart"],(function e(n){if("sourceset"!==n.type){var r=t.techGet("currentSrc");t.lastSource_.tech=r,t.updateSourceCaches_(r)}t.tech_.off(["sourceset","loadstart"],e)}))}}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},t.prototype.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",(function(){return e.removeClass("vjs-waiting")}))},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(W.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){Se(e)&&this.controls_&&(this.paused()?xt(this.play()):this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){this.ready((function(){if(e in hn)return function(e,t,n,r){return t[n](e.reduce(mn(n),r))}(this.middleware_,this.tech_,e,t);if(e in pn)return dn(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw W(n),n}}),!0)},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in fn)return function(e,t,n){return e.reduceRight(mn(n),t[n]())}(this.middleware_,this.tech_,e);if(e in pn)return dn(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw W("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw W("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw W(t),t}}},t.prototype.play=function(){var e=this,t=this.options_.Promise||i.Promise;return t?new t((function(t){e.play_(t)})):this.play_()},t.prototype.play_=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void t(this.techGet_("play"));this.playOnLoadstart_=function(){e.playOnLoadstart_=null,t(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready((function(){e.playWaitingForReady_=!1,t(e.play())}))}},t.prototype.pause=function(){this.techCall_("pause")},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.played=function(){return this.techGet_("played")||mt(0,0)},t.prototype.scrubbing=function(e){if("undefined"===typeof e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.prototype.currentTime=function(e){return"undefined"!==typeof e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=mt(0,0)),e},t.prototype.bufferedPercent=function(){return gt(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},t.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},t.prototype.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){if(void 0===e)return!!this.isFullscreen_;this.isFullscreen_=!!e},t.prototype.requestFullscreen=function(){var e=vt;this.isFullscreen(!0),e.requestFullscreen?(Be(a,e.fullscreenchange,$e(this,(function t(n){this.isFullscreen(a[e.fullscreenElement]),!1===this.isFullscreen()&&Fe(a,e.fullscreenchange,t),this.trigger("fullscreenchange")}))),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},t.prototype.exitFullscreen=function(){var e=vt;this.isFullscreen(!1),e.requestFullscreen?a[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=a.documentElement.style.overflow,Be(a,"keydown",$e(this,this.fullWindowOnEscKey)),a.documentElement.style.overflow="hidden",ae(a.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,Fe(a,"keydown",this.fullWindowOnEscKey),a.documentElement.style.overflow=this.docOrigOverflow,oe(a.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],a=on.getTech(i);if(a||(a=ft.getComponent(i)),a){if(a.isSupported()&&(t=a.canPlayType(e)))return t}else W.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t,n=this,r=this.options_.techOrder.map((function(e){return[e,on.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(W.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),i=function(e,t,n){var r=void 0;return e.some((function(e){return t.some((function(t){if(r=n(e,t))return!0}))})),r},a=function(e,t){var r=e[0];if(e[1].canPlaySource(t,n.options_[r.toLowerCase()]))return{source:t,tech:r}};return(this.options_.sourceOrder?i(e,r,(t=a,function(e,n){return t(n,e)})):i(r,e,a))||!1},t.prototype.src=function(e){var t=this;if("undefined"===typeof e)return this.cache_.src||"";var n=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):G(t)&&n.push(t)})),t=n}else t="string"===typeof t&&t.trim()?[wn({src:t})]:G(t)&&"string"===typeof t.src&&t.src&&t.src.trim()?[wn(t)]:[];return t}(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),cn(this,n[0],(function(e,r){var i,a;if(t.middleware_=r,t.cache_.sources=n,t.updateSourceCaches_(e),t.src_(e))return n.length>1?t.src(n.slice(1)):(t.changingSrc_=!1,t.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void t.triggerReady());i=r,a=t.tech_,i.forEach((function(e){return e.setTech&&e.setTech(a)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},t.prototype.src_=function(e){var t,n,r=this,i=this.selectSource([e]);return!i||(t=i.tech,n=this.techName_,ct(t)!==ct(n)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){r.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},t.prototype.load=function(){this.techCall_("load")},t.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){return this.cache_.source||{}},t.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},t.prototype.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t=void 0;"string"===typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=t||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",t)},t.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},t.prototype.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},t.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},t.prototype.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},t.prototype.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new St(e),this.addClass("vjs-error"),W.error("(CODE:"+this.error_.code+" "+St.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=$e(this,this.reportUserActivity);this.on("mousedown",(function(){r(),this.clearInterval(e),e=this.setInterval(r,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())})),this.on("mouseup",(function(t){r(),this.clearInterval(e)})),this.on("keydown",r),this.on("keyup",r);var i=void 0;this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var e=this.options_.inactivityTimeout;e<=0||(i=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},t.prototype.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},t.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.prototype.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},t.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.track,n=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},t.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},t.prototype.languages=function(){return dt(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=dt(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=dt(r)).player=void 0,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new Rt(this,t);return this.addChild(r),r.on("dispose",(function(){n.removeChild(r)})),r.open(),r},t.prototype.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<ni.length;n++){var r=ni[n];if(t<=this.breakpoints_[r]){if(e===r)return;e&&this.removeClass(ri[e]),this.addClass(ri[r]),this.breakpoint_=r;break}}},t.prototype.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},t.prototype.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=H({},ii,e),this.updateCurrentBreakpoint_()),H(this.breakpoints_)},t.prototype.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},t.prototype.currentBreakpoint=function(){return this.breakpoint_},t.prototype.currentBreakpointClass=function(){return ri[this.breakpoint_]||""},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=le(e),r=n["data-setup"];if(ie(e,"vjs-fill")&&(n.fill=!0),ie(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=s(r||"{}"),a=i[0],o=i[1];a&&W.error(a),H(n,o)}if(H(t,n),e.hasChildNodes())for(var u=e.childNodes,l=0,c=u.length;l<c;l++){var d=u[l],f=d.nodeName.toLowerCase();"source"===f?t.sources.push(le(d)):"track"===f&&t.tracks.push(le(d))}return t},t.prototype.flexNotSupported_=function(){var e=a.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(ft);an.names.forEach((function(e){var t=an[e];ai.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),ai.players={};var oi=i.navigator;ai.prototype.options_={techOrder:on.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:oi&&(oi.languages&&oi.languages[0]||oi.userLanguage||oi.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},x||ai.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach((function(e){ai.prototype[e]=function(){return this.techGet_(e)}})),ei.forEach((function(e){ai.prototype["handleTech"+ct(e)+"_"]=function(){return this.trigger(e)}})),ft.registerComponent("Player",ai);var si={},ui=function(e){return si.hasOwnProperty(e)},li=function(e){return ui(e)?si[e]:void 0},ci=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},di=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},fi=function(e,t){return t.prototype.name=e,function(){di(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=new(Function.prototype.bind.apply(t,[null].concat([this].concat(r))));return this[e]=function(){return a},di(this,a.getEventHash()),a}},hi=function(){function e(t){if(M(this,e),this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,st(this),delete this.trigger,lt(this,this.constructor.defaultState),ci(t,this.name),this.dispose=$e(this,this.dispose),t.on("dispose",this.dispose)}return e.prototype.version=function(){return this.constructor.VERSION},e.prototype.getEventHash=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.prototype.trigger=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return He(this.eventBusEl_,e,this.getEventHash(t))},e.prototype.handleStateChanged=function(e){},e.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=fi(e,si[e])},e.isBasic=function(t){var n="string"===typeof t?li(t):t;return"function"===typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!==typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+("undefined"===typeof t?"undefined":L(t))+".");if(ui(t))W.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(ai.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!==typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+("undefined"===typeof n?"undefined":L(n))+".");return si[t]=n,"plugin"!==t&&(e.isBasic(n)?ai.prototype[t]=function(e,t){var n=function(){di(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return ci(this,e),di(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):ai.prototype[t]=fi(t,n)),n},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");ui(e)&&(delete si[e],delete ai.prototype[e])},e.getPlugins=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(si),t=void 0;return e.forEach((function(e){var n=li(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=li(e);return t&&t.VERSION||""},e}();hi.getPlugin=li,hi.BASE_PLUGIN_NAME="plugin",hi.registerPlugin("plugin",hi),ai.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},ai.prototype.hasPlugin=function(e){return!!ui(e)};var pi=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":L(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)};"undefined"===typeof HTMLVideoElement&&J()&&(a.createElement("video"),a.createElement("audio"),a.createElement("track"),a.createElement("video-js"));var mi=function(e){return 0===e.indexOf("#")?e.slice(1):e};function gi(e,t,n){var r=gi.getPlayer(e);if(r)return t&&W.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"===typeof e?Ee("#"+mi(e)):e;if(!Q(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");a.body.contains(i)||W.warn("The element supplied is not included in the DOM"),t=t||{},gi.hooks("beforesetup").forEach((function(e){var n=e(i,dt(t));G(n)&&!Array.isArray(n)?t=dt(t,n):W.error("please return an object in beforesetup hooks")}));var o=ft.getComponent("Player");return r=new o(i,t,n),gi.hooks("setup").forEach((function(e){return e(r)})),r}if(gi.hooks_={},gi.hooks=function(e,t){return gi.hooks_[e]=gi.hooks_[e]||[],t&&(gi.hooks_[e]=gi.hooks_[e].concat(t)),gi.hooks_[e]},gi.hook=function(e,t){gi.hooks(e,t)},gi.hookOnce=function(e,t){gi.hooks(e,[].concat(t).map((function(t){return function n(){return gi.removeHook(e,n),t.apply(void 0,arguments)}})))},gi.removeHook=function(e,t){var n=gi.hooks(e).indexOf(t);return!(n<=-1)&&(gi.hooks_[e]=gi.hooks_[e].slice(),gi.hooks_[e].splice(n,1),!0)},!0!==i.VIDEOJS_NO_DYNAMIC_STYLE&&J()){var vi=Ee(".vjs-styles-defaults");if(!vi){vi=Xe("vjs-styles-defaults");var yi=Ee("head");yi&&yi.insertBefore(vi,yi.firstChild),Ye(vi,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Ke(1,gi),gi.VERSION="6.13.0",gi.options=ai.prototype.options_,gi.getPlayers=function(){return ai.players},gi.getPlayer=function(e){var t=ai.players,n=void 0;if("string"===typeof e){var r=mi(e),i=t[r];if(i)return i;n=Ee("#"+r)}else n=e;if(Q(n)){var a=n,o=a.player,s=a.playerId;if(o||t[s])return o||t[s]}},gi.getAllPlayers=function(){return Object.keys(ai.players).map((function(e){return ai.players[e]})).filter(Boolean)},gi.players=ai.players,gi.getComponent=ft.getComponent,gi.registerComponent=function(e,t){on.isTech(t)&&W.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ft.registerComponent.call(ft,e,t)},gi.getTech=on.getTech,gi.registerTech=on.registerTech,gi.use=function(e,t){sn[e]=sn[e]||[],sn[e].push(t)},!x&&Object.defineProperty?(Object.defineProperty(gi,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(gi.middleware,"TERMINATOR",{value:ln,writeable:!1,enumerable:!0})):gi.middleware={TERMINATOR:ln},gi.browser=I,gi.TOUCH_ENABLED=R,gi.extend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};for(var i in"object"===("undefined"===typeof t?"undefined":L(t))?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"===typeof t&&(n=t),pi(n,e),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},gi.mergeOptions=dt,gi.bind=$e,gi.registerPlugin=hi.registerPlugin,gi.deregisterPlugin=hi.deregisterPlugin,gi.plugin=function(e,t){return W.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),hi.registerPlugin(e,t)},gi.getPlugins=hi.getPlugins,gi.getPlugin=hi.getPlugin,gi.getPluginVersion=hi.getPluginVersion,gi.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),gi.options.languages=dt(gi.options.languages,((n={})[e]=t,n)),gi.options.languages[e]},gi.log=W,gi.createLogger=q,gi.createTimeRange=gi.createTimeRanges=mt,gi.formatTime=Nn,gi.setFormatTime=function(e){Dn=e},gi.resetFormatTime=function(){Dn=Mn},gi.parseUrl=Wt,gi.isCrossOrigin=Xt,gi.EventTarget=Qe,gi.on=Be,gi.one=Ge,gi.off=Fe,gi.trigger=He,gi.xhr=u,gi.TextTrack=Qt,gi.AudioTrack=Zt,gi.VideoTrack=en,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){gi[e]=function(){return W.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),xe[e].apply(null,arguments)}})),gi.computedStyle=K,gi.dom=xe,gi.url=Yt,e.exports=gi},PYwp:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},Pb4V:function(e,t,n){"use strict";var r=n("wx14"),i=/\s*,\s*/g,a=/&/g,o=/\$([\w-]+)/g;t.a=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(i),r=e.split(i),o="",s=0;s<n.length;s++)for(var u=n[s],l=0;l<r.length;l++){var c=r[l];o&&(o+=", "),o+=-1!==c.indexOf("&")?c.replace(a,u):u+" "+c}return o}function n(e,t,n){if(n)return Object(r.a)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var a=Object(r.a)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(i,a,s){if("style"!==a.type)return i;var u,l,c=a,d=c.options.parent;for(var f in i){var h=-1!==f.indexOf("&"),p="@"===f[0];if(h||p){if(u=n(c,d,u),h){var m=t(f,c.selector);l||(l=e(d,s)),m=m.replace(o,l),d.addRule(m,i[f],Object(r.a)({},u,{selector:m}))}else p&&d.addRule(f,{},u).addRule(c.key,i[f],{selector:c.selector});delete i[f]}}return i}}}},QCnb:function(e,t,n){"use strict";e.exports=n("+wdc")},QILm:function(e,t,n){var r=n("8OQS");e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.default=e.exports,e.exports.__esModule=!0},QhPV:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),a=n("17x9"),o=n.n(a);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=String(e);if(0===t)return n;var r=n.match(/(.*?)([0-9]+)(.*)/),i=r?r[1]:"",a=r?r[3]:"",o=r?r[2]:n,s=o.length>=t?o:(d(Array(t)).map((function(){return"0"})).join("")+o).slice(-1*t);return"".concat(i).concat(s).concat(a)}var h={daysInHours:!1,zeroPadTime:2};function p(e,t){var n=e.days,r=e.hours,i=e.minutes,a=e.seconds,o=Object.assign(Object.assign({},h),t),s=o.daysInHours,u=o.zeroPadTime,l=o.zeroPadDays,c=void 0===l?u:l,d=s?f(r+24*n,u):f(r,Math.min(2,u));return{days:s?"":f(n,c),hours:d,minutes:f(i,Math.min(2,u)),seconds:f(a,Math.min(2,u))}}var m=n("XaGS"),g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,u(t).call(this,e))).mounted=!1,n.tick=function(){var e=n.props.onTick,t=n.calcTimeDelta();n.setTimeDeltaState(Object.assign({},t)),e&&t.total>0&&e(t)},n.start=function(){n.setState((function(e){var t=e.offsetStart;return{offsetStart:0,offsetTime:e.offsetTime+(t?Date.now()-t:0)}}),(function(){var e=n.calcTimeDelta();n.setTimeDeltaState(e),n.props.onStart&&n.props.onStart(e),n.props.controlled||(n.clearInterval(),n.interval=window.setInterval(n.tick,n.props.intervalDelay))}))},n.pause=function(){n.clearInterval(),n.setState({offsetStart:n.calcOffsetStart()},(function(){var e=n.calcTimeDelta();n.setTimeDeltaState(e),n.props.onPause&&n.props.onPause(e)}))},n.isPaused=function(){return n.state.offsetStart>0},n.isCompleted=function(){return n.state.timeDelta.completed},n.state={timeDelta:n.calcTimeDelta(),offsetStart:e.autoStart?0:n.calcOffsetStart(),offsetTime:0},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.autoStart&&this.start(),this.props.onMount&&this.props.onMount(this.calcTimeDelta())}},{key:"componentDidUpdate",value:function(e){m(this.props,e)||this.setTimeDeltaState(this.calcTimeDelta())}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.clearInterval()}},{key:"calcTimeDelta",value:function(){var e=this.props;return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.now,i=void 0===r?Date.now:r,a=n.precision,o=void 0===a?0:a,s=n.controlled,u=void 0!==s&&s,l=n.offsetTime,c=void 0===l?0:l;t="string"===typeof e?new Date(e).getTime():e instanceof Date?e.getTime():e,u||(t+=c);var d=Math.round(1e3*parseFloat((Math.max(0,u?t:t-i())/1e3).toFixed(Math.max(0,Math.min(20,o))))),f=d/1e3;return{total:d,days:Math.floor(f/86400),hours:Math.floor(f/3600%24),minutes:Math.floor(f/60%60),seconds:Math.floor(f%60),milliseconds:Number((f%1*1e3).toFixed()),completed:d<=0}}(e.date,{now:e.now,precision:e.precision,controlled:e.controlled,offsetTime:this.state?this.state.offsetTime:0})}},{key:"calcOffsetStart",value:function(){return Date.now()}},{key:"clearInterval",value:function(){window.clearInterval(this.interval)}},{key:"setTimeDeltaState",value:function(e){var t,n=this;if(!this.state.timeDelta.completed&&e.completed&&(this.clearInterval(),t=function(){return n.props.onComplete&&n.props.onComplete(e)}),this.mounted)return this.setState({timeDelta:e},t)}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,isPaused:this.isPaused,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var e=this.props,t=e.daysInHours,n=e.zeroPadTime,r=e.zeroPadDays,i=this.state.timeDelta;return Object.assign(Object.assign({},i),{api:this.getApi(),props:this.props,formatted:p(i,{daysInHours:t,zeroPadTime:n,zeroPadDays:r})})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.renderer,r=this.getRenderProps();if(n)return n(r);if(t&&this.state.timeDelta.completed)return i.a.cloneElement(t,{countdown:r});var a=r.formatted,o=a.days,s=a.hours,u=a.minutes,l=a.seconds;return i.a.createElement("span",null,o,o?":":"",s,":",u,":",l)}}])&&s(n.prototype,r),a&&s(n,a),t}(i.a.Component);g.defaultProps=Object.assign(Object.assign({},h),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0}),g.propTypes={date:o.a.oneOfType([o.a.instanceOf(Date),o.a.string,o.a.number]).isRequired,daysInHours:o.a.bool,zeroPadTime:o.a.number,zeroPadDays:o.a.number,controlled:o.a.bool,intervalDelay:o.a.number,precision:o.a.number,autoStart:o.a.bool,children:o.a.element,renderer:o.a.func,now:o.a.func,onMount:o.a.func,onStart:o.a.func,onPause:o.a.func,onTick:o.a.func,onComplete:o.a.func},t.a=g},RG42:function(e,t,n){(function(e){!function(){var n="undefined"!=typeof window?window:e,r={};for(var i in function(e,t){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},a="undefined"!=typeof e&&e===this?this:"undefined"!=typeof t&&null!=t?t:this;function o(){o=function(){},a.Symbol||(a.Symbol=s)}var s=function(){var e=0;return function(t){return"jscomp_symbol_"+(t||"")+e++}}();function u(){o();var e=a.Symbol.iterator;e||(e=a.Symbol.iterator=a.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&r(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return l(this)}}),u=function(){}}function l(e){var t=0;return c((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))}function c(e){return u(),(e={next:e})[a.Symbol.iterator]=function(){return this},e}function d(e){u();var t=e[Symbol.iterator];return t?t.call(e):l(e)}function f(e,t){if(t){for(var n=a,i=e.split("."),o=0;o<i.length-1;o++){var s=i[o];s in n||(n[s]={}),n=n[s]}(s=t(o=n[i=i[i.length-1]]))!=o&&null!=s&&r(n,i,{configurable:!0,writable:!0,value:s})}}function h(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(e())}f("Promise",(function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){null==this.a&&(this.a=[],this.f()),this.a.push(e)},n.prototype.f=function(){var e=this;this.c((function(){e.h()}))};var i=a.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.g(r)}}}this.a=null},n.prototype.g=function(e){this.c((function(){throw e}))},t.prototype.c=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.s),reject:e(this.f)}},t.prototype.s=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.v(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.m(e):this.h(e)}},t.prototype.m=function(e){var t=void 0;try{t=e.then}catch(n){return void this.f(n)}"function"==typeof t?this.B(t,e):this.h(e)},t.prototype.f=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)o.b(this.a[e]);this.a=null}};var o=new n;return t.prototype.v=function(e){var t=this.c();e.ac(t.resolve,t.reject)},t.prototype.B=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){a(n)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.ac(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.ac=function(e,t){function n(){switch(r.b){case 1:e(r.g);break;case 2:t(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?o.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=d(e),a=i.next();!a.done;a=i.next())r(a.value).ac(t,n)}))},t.all=function(e){var n=d(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).ac(a(o.length-1),t),i=n.next()}while(!i.done)}))},t})),f("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}}));var p,m="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var g;e:{var v={};try{v.__proto__={pe:!0},g=v.pe;break e}catch(dc){}g=!1}p=g?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var y=p;function b(){this.g=!1,this.c=null,this.o=void 0,this.j=1,this.b=this.f=0,this.i=this.a=null}function _(e){if(e.g)throw new TypeError("Generator is already running");e.g=!0}function w(e,t){e.a={Cd:t,Jd:!0},e.j=e.f||e.b}function T(e,t,n){return e.j=n,{value:t}}function S(e){e.j=0}function E(e,t,n){e.f=t,void 0!=n&&(e.b=n)}function k(e,t){e.f=0,e.b=t||0}function x(e,t){e.j=t,e.f=0}function C(e){e.f=0;var t=e.a.Cd;return e.a=null,t}function A(e){e.i=[e.a],e.f=0,e.b=0}function O(e,t){var n=e.i.splice(0)[0];(n=e.a=e.a||n)?n.Jd?e.j=e.f||e.b:void 0!=n.A&&e.b<n.A?(e.j=n.A,e.a=null):e.j=e.b:e.j=t}function R(e){this.a=new b,this.b=e}function P(e,t,n,r){try{var i=t.call(e.a.c,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.g=!1,i;var a=i.value}catch(o){return e.a.c=null,w(e.a,o),I(e)}return e.a.c=null,r.call(e.a,a),I(e)}function I(e){for(;e.a.j;)try{var t=e.b(e.a);if(t)return e.a.g=!1,{value:t.value,done:!1}}catch(n){e.a.o=void 0,w(e.a,n)}if(e.a.g=!1,e.a.a){if(t=e.a.a,e.a.a=null,t.Jd)throw t.Cd;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function L(e){this.next=function(t){return _(e.a),e.a.c?t=P(e,e.a.c.next,t,e.a.h):(e.a.h(t),t=I(e)),t},this.throw=function(t){return _(e.a),e.a.c?t=P(e,e.a.c.throw,t,e.a.h):(w(e.a,t),t=I(e)),t},this.return=function(t){return function(e,t){_(e.a);var n=e.a.c;return n?P(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),I(e))}(e,t)},u(),this[Symbol.iterator]=function(){return this}}function M(e,t){return L.prototype=e.prototype,new L(new R(t))}function D(e){if(!(e instanceof Array)){e=d(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Gd:i,ke:a}}return{Gd:-1,ke:void 0}}function U(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}b.prototype.h=function(e){this.o=e},b.prototype.return=function(e){this.a={return:e},this.j=this.b},b.prototype.A=function(e){this.j=e},f("WeakMap",(function(e){function t(e){if(this.a=(s+=Math.random()+1).toString(),e){o(),u(),e=d(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(e){N(e,a)||r(e,a,{value:{}})}function i(e){var t=Object[e];t&&(Object[e]=function(e){return n(e),t(e)})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(i){return!1}}())return e;var a="$jscomp_hidden_"+Math.random();i("freeze"),i("preventExtensions"),i("seal");var s=0;return t.prototype.set=function(e,t){if(n(e),!N(e,a))throw Error("WeakMap key fail: "+e);return e[a][this.a]=t,this},t.prototype.get=function(e){return N(e,a)?e[a][this.a]:void 0},t.prototype.has=function(e){return N(e,a)&&N(e[a],this.a)},t.prototype.delete=function(e){return!(!N(e,a)||!N(e[a],this.a))&&delete e[a][this.a]},t})),f("Map",(function(e){function t(){var e={};return e.Ea=e.next=e.head=e}function n(e,t){var n=e.a;return c((function(){if(n){for(;n.head!=e.a;)n=n.Ea;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++s,a.set(t,n)):n="p_"+t;var r=e.b[n];if(r&&N(e.b,n))for(var i=0;i<r.length;i++){var o=r[i];if(t!==t&&o.key!==o.key||t===o.key)return{id:n,list:r,index:i,X:o}}return{id:n,list:r,index:-1,X:void 0}}function i(e){if(this.b={},this.a=t(),this.size=0,e){e=d(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(d([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(a){return!1}}())return e;o(),u();var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e);return n.list||(n.list=this.b[n.id]=[]),n.X?n.X.value=t:(n.X={next:this.a,Ea:this.a.Ea,head:this.a,key:e,value:t},n.list.push(n.X),this.a.Ea.next=n.X,this.a.Ea=n.X,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).X||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.b[e.id],e.X.Ea.next=e.X.next,e.X.next.Ea=e.X.Ea,e.X.head=null,this.size--,!0)},i.prototype.clear=function(){this.b={},this.a=this.a.Ea=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).X},i.prototype.get=function(e){return(e=r(this,e).X)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var s=0;return i})),f("Set",(function(e){function t(e){if(this.a=new Map,e){e=d(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.a.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(d([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(a){return!1}}()?e:(o(),u(),t.prototype.add=function(e){return this.a.set(e,e),this.size=this.a.size,this},t.prototype.delete=function(e){return e=this.a.delete(e),this.size=this.a.size,e},t.prototype.clear=function(){this.a.clear(),this.size=0},t.prototype.has=function(e){return this.a.has(e)},t.prototype.entries=function(){return this.a.entries()},t.prototype.values=function(){return this.a.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.a.forEach((function(r){return e.call(t,r,r,n)}))},t)})),f("Array.prototype.findIndex",(function(e){return e||function(e,t){return j(this,e,t).Gd}})),f("Array.prototype.keys",(function(e){return e||function(){return function(e,t){u(),e instanceof String&&(e+="");var n=0,r={next:function(){if(n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}})),f("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),f("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=t||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var a=n[i];if(a===e||Object.is(a,e))return!0}return!1}})),f("String.prototype.includes",(function(e){return e||function(e,t){return-1!==U(this,e,"includes").indexOf(e,t||0)}})),f("Array.from",(function(e){return e||function(e,t,n){u(),t=null!=t?t:function(e){return e};var r=[],i=e[Symbol.iterator];if("function"==typeof i)for(e=i.call(e);!(i=e.next()).done;)r.push(t.call(n,i.value));else{i=e.length;for(var a=0;a<i;a++)r.push(t.call(n,e[a]))}return r}})),f("String.prototype.startsWith",(function(e){return e||function(e,t){for(var n=U(this,e,"startsWith"),r=n.length,i=e.length,a=Math.max(0,Math.min(0|t,n.length)),o=0;o<i&&a<r;)if(n[a++]!=e[o++])return!1;return o>=i}})),f("Array.prototype.find",(function(e){return e||function(e,t){return j(this,e,t).ke}}));var B=this;function F(e,t){var n,r=e.split("."),i=B;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===t?i=i[n]?i[n]:i[n]={}:i[n]=t}function H(e,t){function n(){}n.prototype=t.prototype,e.dg=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.qg=function(e,n,r){return t.prototype[n].apply(e,Array.prototype.slice.call(arguments,2))}}function G(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function V(e,t,n){var r=Math.pow(e.c,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.b+=t)}function z(e){return e.a/(1-Math.pow(e.c,e.b))}function W(){this.b=new G(2),this.c=new G(5),this.a=0}function q(){}function K(){}function X(){}B.a=!0,W.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(z(this.b),z(this.c))},e.console&&e.console.log.bind&&(K=console.warn.bind(console),q=console.error.bind(console));var Y=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function $(e){var t;e instanceof $?(J(this,e.va),this.bb=e.bb,this.ra=e.ra,Q(this,e.zb),this.ja=e.ja,Z(this,e.a.clone()),this.Sa=e.Sa):e&&(t=String(e).match(Y))?(J(this,t[1]||"",!0),this.bb=ee(t[2]||""),this.ra=ee(t[3]||"",!0),Q(this,t[4]),this.ja=ee(t[5]||"",!0),Z(this,t[6]||"",!0),this.Sa=ee(t[7]||"")):this.a=new ue(null)}function J(e,t,n){e.va=n?ee(t,!0):t,e.va&&(e.va=e.va.replace(/:$/,""))}function Q(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.zb=t}else e.zb=null}function Z(e,t,n){t instanceof ue?e.a=t:(n||(t=te(t,oe)),e.a=new ue(t))}function ee(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function te(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ne),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ne(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(n=$.prototype).va="",n.bb="",n.ra="",n.zb=null,n.ja="",n.Sa="",n.toString=function(){var e=[],t=this.va;if(t&&e.push(te(t,re,!0),":"),t=this.ra){e.push("//");var n=this.bb;n&&e.push(te(n,re,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.zb)&&e.push(":",String(t))}return(t=this.ja)&&(this.ra&&"/"!=t.charAt(0)&&e.push("/"),e.push(te(t,"/"==t.charAt(0)?ae:ie,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Sa)&&e.push("#",te(t,se)),e.join("")},n.resolve=function(e){var t=this.clone();"data"===t.va&&(t=new $);var n=!!e.va;n?J(t,e.va):n=!!e.bb,n?t.bb=e.bb:n=!!e.ra,n?t.ra=e.ra:n=null!=e.zb;var r=e.ja;if(n)Q(t,e.zb);else if(n=!!e.ja){if("/"!=r.charAt(0))if(this.ra&&!this.ja)r="/"+r;else{var i=t.ja.lastIndexOf("/");-1!=i&&(r=t.ja.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.ja=r:n=""!==e.a.toString(),n?Z(t,e.a.clone()):n=!!e.Sa,n&&(t.Sa=e.Sa),t},n.clone=function(){return new $(this)};var re=/[#\/\?@]/g,ie=/[#\?:]/g,ae=/[#\?]/g,oe=/[#\?@]/g,se=/#/g;function ue(e){this.a=e||null}function le(e){this.b=e,this.a=null}function ce(e){this.b=e,this.a=null}function de(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.i=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?n.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==t&&t)&&(this.a=1)}function fe(e){return h((function t(){var n,r;return M(t,(function(t){switch(t.j){case 1:if(e.a>=e.i){if(!e.c)return t.return(Promise.reject());e.a=1,e.b=e.f}return n=e.a,e.a++,0==n?t.return():(r=e.b*(1+(2*Math.random()-1)*e.h),T(t,new Promise((function(e){new ce(e).P(r/1e3)})),2));case 2:e.b*=e.g,S(t)}}))}))}function he(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1}function pe(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function me(e,t){this.promise=e,this.Md=t,this.a=!1}function ge(e){return new me(Promise.reject(e),(function(){return Promise.resolve()}))}function ve(){var e=Promise.reject(new he(2,7,7001));return e.catch((function(){})),new me(e,(function(){return Promise.resolve()}))}function ye(e){return new me(Promise.resolve(e),(function(){return Promise.resolve()}))}function be(e){return new me(e,(function(){return e.catch((function(){}))}))}function _e(e){return new me(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function we(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){})).catch((function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}function Te(t,n){for(var r in n=void 0===n?{}:n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function Se(){this.a={}}function Ee(){this.Fc=new Se,this.Yb=this}function ke(e){var t=new Set;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,a=r?[]:{};for(i in n)a[i]=e(n[i]);return r&&(a.length=n.length),a}}(e)}function xe(e,t){return!("number"!==typeof e||"number"!==typeof t||!isNaN(e)||!isNaN(t))||e===t}function Ce(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function Ae(e,t,n){if(n||(n=xe),e.length!=t.length)return!1;t=t.slice();for(var r={},i=(e=d(e)).next();!i.done;r={item:r.item},i=e.next()){if(r.item=i.value,-1==(i=t.findIndex(function(e){return function(t){return n(e.item,t)}}(r))))return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length}function Oe(){this.a=[]}function Re(e,t){e.a.push(t.finally((function(){Ce(e.a,t)})))}function Pe(e){Ee.call(this),this.f=!1,this.g=new Oe,this.a=new Set,this.b=new Set,this.c=e||null}(n=ue.prototype).ha=null,n.cc=null,n.add=function(e,t){if(!this.ha&&(this.ha={},this.cc=0,this.a))for(var n=this.a.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),a=null;if(0<=i){var o=n[r].substring(0,i);a=n[r].substring(i+1)}else o=n[r];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.a=null,(n=this.ha.hasOwnProperty(e)&&this.ha[e])||(this.ha[e]=n=[]),n.push(t),this.cc++,this},n.toString=function(){if(this.a)return this.a;if(!this.ha)return"";var e,t=[];for(e in this.ha)for(var n=encodeURIComponent(e),r=this.ha[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.a=t.join("&")},n.clone=function(){var e=new ue;if(e.a=this.a,this.ha){var t,n={};for(t in this.ha)n[t]=this.ha[t].concat();e.ha=n,e.cc=this.cc}return e},le.prototype.P=function(t){var n=this;this.stop();var r=!0,i=null;return this.a=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.b()}),1e3*t),this},le.prototype.stop=function(){this.a&&(this.a(),this.a=null)},F("shaka.util.Timer",ce),ce.prototype.uc=function(){return this.stop(),this.b(),this},ce.prototype.tickNow=ce.prototype.uc,ce.prototype.P=function(e){var t=this;return this.stop(),this.a=new le((function(){t.b()})).P(e),this},ce.prototype.tickAfter=ce.prototype.P,ce.prototype.Na=function(e){var t=this;return this.stop(),this.a=new le((function(){t.a.P(e),t.b()})).P(e),this},ce.prototype.tickEvery=ce.prototype.Na,ce.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},ce.prototype.stop=ce.prototype.stop,F("shaka.util.Error",he),he.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},he.Severity={RECOVERABLE:1,CRITICAL:2},he.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},he.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,CAST_RECEIVER_APP_ID_MISSING:8007,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},pe.prototype.resolve=function(){},pe.prototype.reject=function(){},F("shaka.util.AbortableOperation",me),me.failed=ge,me.aborted=ve,me.completed=ye,me.notAbortable=be,me.prototype.abort=function(){return this.a=!0,this.Md()},me.prototype.abort=me.prototype.abort,me.all=_e,me.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},me.prototype.finally=me.prototype.finally,me.prototype.U=function(e,t){function n(){return i.reject(new he(2,7,7001)),r.abort()}var r=this,i=new pe;return this.promise.then((function(t){r.a?i.reject(new he(2,7,7001)):e?n=we(e,t,i):i.resolve(t)}),(function(e){t?n=we(t,e,i):i.reject(e)})),new me(i,(function(){return n()}))},me.prototype.chain=me.prototype.U,Te.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Te.prototype.stopImmediatePropagation=function(){this.a=!0},Te.prototype.stopPropagation=function(){},(n=Se.prototype).push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},n.get=function(e){return(e=this.a[e])?e.slice():null},n.getAll=function(){var e,t=[];for(e in this.a)t.push.apply(t,this.a[e]);return t},n.remove=function(e,t){var n=this.a[e];if(n)for(var r=0;r<n.length;++r)n[r]==t&&(n.splice(r,1),--r)},n.forEach=function(e){for(var t in this.a)e(t,this.a[t])},Ee.prototype.addEventListener=function(e,t){this.Fc.push(e,t)},Ee.prototype.removeEventListener=function(e,t){this.Fc.remove(e,t)},Ee.prototype.dispatchEvent=function(e){for(var t=this.Fc.get(e.type)||[],n=0;n<t.length;++n){e.target=this.Yb,e.currentTarget=this.Yb;var r=t[n];try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(i){}if(e.a)break}return e.defaultPrevented},Oe.prototype.destroy=function(){var e=[];return this.a.forEach((function(t){t.promise.catch((function(){})),e.push(t.abort())})),this.a=[],Promise.all(e)},H(Pe,Ee),F("shaka.net.NetworkingEngine",Pe),Pe.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4},Pe.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var Ie={};function Le(e,t,n){n=n||3;var r=Ie[e];(!r||n>=r.priority)&&(Ie[e]={priority:n,Cf:t})}function Me(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null}}function De(){this.a=0}function Ne(e,t,n){me.call(this,e,t),this.b=n}Pe.registerScheme=Le,Pe.unregisterScheme=function(e){delete Ie[e]},Pe.prototype.Ef=function(e){this.a.add(e)},Pe.prototype.registerRequestFilter=Pe.prototype.Ef,Pe.prototype.fg=function(e){this.a.delete(e)},Pe.prototype.unregisterRequestFilter=Pe.prototype.fg,Pe.prototype.ye=function(){this.a.clear()},Pe.prototype.clearAllRequestFilters=Pe.prototype.ye,Pe.prototype.Ff=function(e){this.b.add(e)},Pe.prototype.registerResponseFilter=Pe.prototype.Ff,Pe.prototype.gg=function(e){this.b.delete(e)},Pe.prototype.unregisterResponseFilter=Pe.prototype.gg,Pe.prototype.ze=function(){this.b.clear()},Pe.prototype.clearAllResponseFilters=Pe.prototype.ze,Pe.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},Pe.makeRequest=Me,Pe.prototype.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},Pe.prototype.destroy=Pe.prototype.destroy,Pe.prototype.request=function(e,t){var n=this,r=new De;if(this.f){var i=Promise.reject(new he(2,7,7001));return i.catch((function(){})),new Ne(i,(function(){return Promise.resolve()}),r)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?ke(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},t.uris=ke(t.uris);var a=(i=function(e,t,n){for(var r=ye(void 0),i={},a=(e=d(e.a)).next();!a.done;i={ld:i.ld},a=e.next())i.ld=a.value,r=r.U(function(e){return function(){return e.ld(t,n)}}(i));return r.U(void 0,(function(e){if(e&&7001==e.code)throw e;throw new he(2,1,1006,e)}))}(this,e,t)).U((function(){return function e(t,n,r,i,a,o,s){var u=new $(r.uris[a]),l=u.va,c=!1;l||(l=(l=location.protocol).slice(0,-1),J(u,l),r.uris[a]=u.toString()),l=l.toLowerCase();var d,f=(l=Ie[l])?l.Cf:null;return f?be(fe(i)).U((function(){return t.f?ve():(d=Date.now(),f(r.uris[a],r,n,(function(e,r,i){t.c&&1==n&&(t.c(e,r),c=!0,s.a=i)})))})).U((function(e){return void 0==e.timeMs&&(e.timeMs=Date.now()-d),{response:e,bf:c}}),(function(u){if(u&&7001==u.code)throw u;if(t.f)return ve();if(u&&1==u.severity)return t.dispatchEvent(new Te("retry",{error:u instanceof he?u:null})),a=(a+1)%r.uris.length,e(t,n,r,i,a,u,s);throw u||o})):ge(new he(2,1,1e3,u))}(n,e,t,new de(t.retryParameters,!1),0,null,r)})),o=a.U((function(t){return function(e,t,n){for(var r=ye(void 0),i=(e=d(e.b)).next();!i.done;i=e.next())r=r.U(i.value.bind(null,t,n.response));return r.U((function(){return n}),(function(e){if(e&&7001==e.code)throw e;var t=2;throw e instanceof he&&(t=e.severity),new he(t,1,1007,e)}))}(n,e,t)})),s=Date.now(),u=0;i.promise.then((function(){u=Date.now()-s}),(function(){}));var l=0;return a.promise.then((function(){l=Date.now()}),(function(){})),i=new Ne((i=o.U((function(t){var r=Date.now()-l,i=t.response;return i.timeMs+=u,i.timeMs+=r,t.bf||!n.c||i.fromCache||1!=e||n.c(i.timeMs,i.data.byteLength),i}),(function(e){throw e&&(e.severity=2),e}))).promise,i.Md,r),Re(this.g,i),i},Pe.prototype.request=Pe.prototype.request,Pe.NumBytesRemainingClass=De;var je=Ne;if(je.prototype=m(me.prototype),je.prototype.constructor=je,y)y(je,me);else for(var Ue in me)if("prototype"!=Ue)if(Object.defineProperties){var Be=Object.getOwnPropertyDescriptor(me,Ue);Be&&Object.defineProperty(je,Ue,Be)}else je[Ue]=me[Ue];function Fe(){}function He(){this.a=new Se}function Ge(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.a=function(e,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=Ve;if(void 0==t){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch(i){t=!1}Ve=t}return t||!1}(e)?t:t.capture||!1}(e,r),this.target.addEventListener(t,n,this.a)}je.dg=me.prototype,Pe.PendingRequest=Ne,Ne.all=_e,Ne.notAbortable=be,Ne.completed=ye,Ne.aborted=ve,Ne.failed=ge,F("shaka.util.IReleasable",Fe),Fe.prototype.release=function(){},F("shaka.util.EventManager",He),He.prototype.release=function(){this.$a(),this.a=null},He.prototype.release=He.prototype.release,He.prototype.w=function(e,t,n,r){this.a&&(e=new Ge(e,t,n,r),this.a.push(t,e))},He.prototype.listen=He.prototype.w,He.prototype.da=function(e,t,n,r){var i=this;this.w(e,t,(function r(a){i.ea(e,t,r),n(a)}),r)},He.prototype.listenOnce=He.prototype.da,He.prototype.ea=function(e,t,n){if(this.a)for(var r=this.a.get(t)||[],i=(r=d(r)).next();!i.done;i=r.next())(i=i.value).target!=e||n!=i.listener&&n||(i.ea(),this.a.remove(t,i))},He.prototype.unlisten=He.prototype.ea,He.prototype.$a=function(){if(this.a){for(var e=this.a.getAll(),t=(e=d(e)).next();!t.done;t=e.next())t.value.ea();this.a.a={}}},He.prototype.removeAll=He.prototype.$a,Ge.prototype.ea=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1},Ge.prototype.unlisten=Ge.prototype.ea;var Ve=void 0;function ze(e){if(e=new Uint8Array(e),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");return new $(e=it(e.subarray(4),!0)).ra}function We(e,t,n){function r(e){new DataView(a.buffer).setUint32(o,e.byteLength,!0),o+=4,i(e)}function i(e){a.set(e,o),o+=e.byteLength}if(!n||!n.byteLength)throw new he(2,6,6015);t="string"==typeof t?new Uint8Array(st(t,!0)):new Uint8Array(t);var a=new Uint8Array(8+e.byteLength+t.byteLength+n.byteLength),o=0;return i(new Uint8Array(e)),r(t),r(new Uint8Array(n)),a}function qe(e,t){for(var n=d(e),r=n.next();!r.done;r=n.next())if(!t(r.value))return!1;return!0}function Ke(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n])})),t}function Xe(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function Ye(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function $e(e){var t=(e=e.split("."))[0];return e.pop(),[t,e.join(".")]}F("shaka.util.FairPlayUtils.defaultGetContentId",ze),F("shaka.util.FairPlayUtils.initDataTransform",We);var Je=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Qe(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function Ze(e){return""!=(nt||(tt||(tt=new ce((function(){nt=null}))),(nt=document.querySelector("video")||document.querySelector("audio"))||(nt=document.createElement("video")),tt.P(1),nt)).canPlayType(e)}function et(e){return(navigator.userAgent||"").includes(e)}var tt=null,nt=null;function rt(e){if(!e)return"";239==(e=new Uint8Array(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=ut(e),e=escape(e);try{return decodeURIComponent(e)}catch(t){throw new he(2,2,2004)}}function it(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new he(2,2,2004);if(e instanceof ArrayBuffer)var r=e;else(n=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),r=n.buffer;e=Math.floor(e.byteLength/2),n=new Uint16Array(e),r=new DataView(r);for(var i=0;i<e;i++)n[i]=r.getUint16(2*i,t);return ut(n)}function at(e){var t=new Uint8Array(e);if(239==t[0]&&187==t[1]&&191==t[2])return rt(t);if(254==t[0]&&255==t[1])return it(t.subarray(2),!1);if(255==t[0]&&254==t[1])return it(t.subarray(2),!0);var n=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,t);if(0==t[0]&&0==t[2])return it(e,!1);if(0==t[1]&&0==t[3])return it(e,!0);if(n(0)&&n(1)&&n(2)&&n(3))return rt(e);throw new he(2,2,2003)}function ot(e){e=encodeURIComponent(e),e=unescape(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}function st(e,t){for(var n=new Uint8Array(2*e.length),r=new DataView(n.buffer),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n.buffer}function ut(e){if(!lt)for(var t=function(e){try{return D(new Uint8Array(e)),!0}catch(t){return!1}},n={size:65536};0<n.size;(n={size:n.size}).size/=2)if(t(n.size)){lt=function(e){return function(t){for(var n="",r=0;r<t.length;r+=e.size)n+=String.fromCharCode.apply(String,D(t.subarray(r,r+e.size)));return n}}(n);break}return lt(e)}F("shaka.util.StringUtils.fromUTF8",rt),F("shaka.util.StringUtils.fromUTF16",it),F("shaka.util.StringUtils.fromBytesAutoDetect",at),F("shaka.util.StringUtils.toUTF8",ot),F("shaka.util.StringUtils.toUTF16",st);var lt=null,ct={vc:function(t,n){var r=ut(t);return n=void 0==n||n,r=e.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),n?r:r.replace(/=*$/,"")}};function dt(e){var t=this;this.B=e,this.v=new Set,this.l=this.h=null,this.R=!1,this.a=null,this.i=new He,this.b=new Map,this.s=[],this.m=new pe,this.f=null,this.g=function(n){t.m.reject(n),e.onError(n)},this.oa=new Map,this.T=new Map,this.L=new ce((function(){return function(e){var t=e.oa,n=e.T;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),(t=Array.from(n.values())).length&&t.every((function(e){return"expired"==e}))&&e.g(new he(2,6,6014)),e.B.mc(Xe(n))}(t)})),this.c=!1,this.$=new pe,this.D=!1,this.F=[],this.na=!1,this.W=new ce((function(){!function(e){e.b.forEach((function(t,n){var r=t.cd,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.B.onExpirationUpdated(n.sessionId,i),t.cd=i)}))}(t)})).Na(1),this.m.catch((function(){}))}function ft(e,t,n){return e.s=n,e.D=0<n.length,ht(e,t)}function ht(t,n){var r=function(t){if(0==(t=Ke(t.f.clearKeys)).size)return null;var n=[],r=[];t.forEach((function(e,t){var i=ct.Mc(t),a=ct.Mc(e);i={kty:"oct",kid:ct.vc(i,!1),k:ct.vc(a,!1)},n.push(i),r.push(i.kid)})),t=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:new Uint8Array(ot(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}(t);if(r)for(var i=d(n),a=i.next();!a.done;a=i.next())a.value.drmInfos=[r];for((r=n.some((function(e){return 0<e.drmInfos.length})))||function(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));for(var r=d(e),i=r.next();!i.done;i=r.next())i.value.drmInfos=n}(n,a=Ke(t.f.servers)),a=(i=d(n)).next();!a.done;a=i.next())for(var o=(a=d(a.value.drmInfos)).next();!o.done;o=a.next())Ot(o.value,Ke(t.f.servers),Ke(t.f.advanced||{}));return(a=function(e,t){for(var n=new Set,r=d(t),i=r.next();!i.done;i=r.next()){var a=d(i.value.drmInfos);for(i=a.next();!i.done;i=a.next())n.add(i.value)}for(r=d(n),i=r.next();!i.done;i=r.next())Ot(i.value,Ke(e.f.servers),Ke(e.f.advanced||{}));a=e.D?"required":"optional";var o=e.D?["persistent-license"]:["temporary"];for(r=new Map,n=d(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(n=d(t),i=n.next();!i.done;i=n.next()){i=i.value,a=i.audio,o=i.video;var s=a?Ye(a.mimeType,a.codecs):"",u=o?Ye(o.mimeType,o.codecs):"",l=d(i.drmInfos);for(i=l.next();!i.done;i=l.next()){i=i.value;var c=r.get(i.keySystem);c.drmInfos.push(i),i.distinctiveIdentifierRequired&&(c.distinctiveIdentifier="required"),i.persistentStateRequired&&(c.persistentState="required"),a&&c.audioCapabilities.push({robustness:i.audioRobustness||"",contentType:s}),o&&c.videoCapabilities.push({robustness:i.videoRobustness||"",contentType:u})}}return r}(t,n)).size?(a=_t(t,a),r?a:a.catch((function(){}))):(t.R=!0,Promise.resolve())}function pt(e){return h((function t(){var n;return M(t,(function(t){switch(t.j){case 1:if(!(e.h&&e.a&&e.a.serverCertificate&&e.a.serverCertificate.length)){t.A(0);break}return E(t,3),T(t,e.h.setServerCertificate(e.a.serverCertificate),5);case 5:x(t,0);break;case 3:return n=C(t),t.return(Promise.reject(new he(2,6,6004,n.message)))}}))}))}function mt(e){var t=e.a?e.a.initData:[];return t.forEach((function(t){return Tt(e,t.initDataType,t.initData)})),e.s.forEach((function(t){return wt(e,t)})),t.length||e.s.length||e.m.resolve(),e.m}function gt(e,t,n){for(var r=e.b.values(),i=(r=d(r)).next();!i.done;i=r.next())if(ct.ya(n,i.value.initData))return;Tt(e,t,n)}function vt(e){return e?e.keySystem:""}function yt(e,t){return!!et("Edge/")||e.v.has(t)}function bt(e){return e=function(e,t){for(var n=[],r=d(e),i=r.next();!i.done;i=r.next())n.push(t(i.value));return n}(e=e.b.keys(),(function(e){return e.sessionId})),Array.from(e)}function _t(e,t){if(1==t.size&&t.has(""))return Promise.reject(new he(2,6,6e3));for(var n=d(t.values()),r=n.next();!r.done;r=n.next())0==(r=r.value).audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;var i=n=new pe;return[!0,!1].forEach(function(e){var n=this;t.forEach((function(t,r){t.drmInfos.some((function(e){return!!e.licenseServerUri}))==e&&(i=i.catch(function(){if(!this.c)return navigator.requestMediaKeySystemAccess(r,[t])}.bind(n)))}))}.bind(e)),i=(i=i.catch((function(){return Promise.reject(new he(2,6,6001))}))).then(function(e){if(this.c)return Promise.reject();this.v.clear();var n=e.getConfiguration(),r=n.videoCapabilities||[],i=d(n.audioCapabilities||[]);for(n=i.next();!n.done;n=i.next())this.v.add(n.value.contentType);for(n=(r=d(r)).next();!n.done;n=r.next())this.v.add(n.value.contentType);r=e.keySystem,i=[];var a=[],o=[],s=[];return function(e,t,n,r,i){e.forEach((function(e){if(t.includes(e.licenseServerUri)||t.push(e.licenseServerUri),e.serverCertificate&&(n.some((function(t){return ct.ya(t,e.serverCertificate)}))||n.push(e.serverCertificate)),e.initData&&e.initData.forEach((function(e){r.some((function(t){return!(!t.keyId||t.keyId!=e.keyId)||t.initDataType==e.initDataType&&ct.ya(t.initData,e.initData)}))||r.push(e)})),e.keyIds)for(var a=0;a<e.keyIds.length;++a)i.includes(e.keyIds[a])||i.push(e.keyIds[a])}))}((n=t.get(e.keySystem)).drmInfos,i,a,o,s),this.a={keySystem:r,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:a[0],initData:o,keyIds:s},this.a.licenseServerUri?e.createMediaKeys():Promise.reject(new he(2,6,6012,this.a.keySystem))}.bind(e)).then(function(e){if(this.c)return Promise.reject();this.h=e,this.R=!0}.bind(e)).catch(function(e){if(!this.c)return this.a=null,this.v.clear(),e instanceof he?Promise.reject(e):Promise.reject(new he(2,6,6002,e.message))}.bind(e)),n.reject(),i}function wt(e,t){try{var n=e.h.createSession("persistent-license")}catch(a){var r=new he(2,6,6005,a.message);return e.g(r),Promise.reject(r)}e.i.w(n,"message",e.Ud.bind(e)),e.i.w(n,"keystatuseschange",e.Sd.bind(e));var i={initData:null,loaded:!1,cd:1/0,xa:null};return e.b.set(n,i),n.load(t).then(function(e){return this.c?Promise.reject():e?(i.loaded=!0,At(this)&&this.m.resolve(),n):(this.b.delete(n),void this.g(new he(2,6,6013)))}.bind(e),function(e){this.c||(this.b.delete(n),this.g(new he(2,6,6005,e.message)))}.bind(e))}function Tt(e,t,n){try{var r=e.D?e.h.createSession("persistent-license"):e.h.createSession()}catch(i){return void e.g(new he(2,6,6005,i.message))}e.i.w(r,"message",e.Ud.bind(e)),e.i.w(r,"keystatuseschange",e.Sd.bind(e)),e.b.set(r,{initData:n,loaded:!1,cd:1/0,xa:null});try{n=e.f.initDataTransform(n,e.a)}catch(i){return t=i,i instanceof he||(t=new he(2,6,6016,i)),void e.g(t)}r.generateRequest(t,n.buffer).catch((function(t){if(!e.c){if(e.b.delete(r),t.errorCode&&t.errorCode.systemCode){var n=t.errorCode.systemCode;0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)}e.g(new he(2,6,6006,t.message,t,n))}}))}function St(e,t){if(vt(t).startsWith("com.apple.fps")){var n=t.serverCertificate;e=We(e,ze(e),n)}return e}function Et(e,t){var n=t.target,r=e.b.get(n),i=e.a.licenseServerUri,a=e.f.advanced[e.a.keySystem];"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(i=Me([i],e.f.retryParameters)).body=t.message,i.method="POST",i.licenseRequestType=t.messageType,i.sessionId=n.sessionId,"com.microsoft.playready"!=e.a.keySystem&&"com.chromecast.playready"!=e.a.keySystem||function(e){var t=it(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){for(var n=(t=(new DOMParser).parseFromString(t,"application/xml")).getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)e.headers[n[r].querySelector("name").textContent]=n[r].querySelector("value").textContent;e.body=ct.Aa(t.querySelector("Challenge").textContent).buffer}else e.headers["Content-Type"]="text/xml; charset=utf-8"}(i),e.a.keySystem.startsWith("com.apple.fps")&&e.f.fairPlayTransform&&function(e){var t=new Uint8Array(e.body);t="spc="+ct.vc(t),e.headers["Content-Type"]="application/x-www-form-urlencoded",e.body=ot(t)}(i),e.B.tb.request(2,i).promise.then(function(e){return this.c?Promise.reject():(this.a.keySystem.startsWith("com.apple.fps")&&this.f.fairPlayTransform&&function(e){try{var t=rt(e.data)}catch(n){return}"<ckc>"===(t=t.trim()).substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6));try{t=JSON.parse(t).ckc}catch(n){}e.data=ct.Aa(t).buffer}(e),n.update(e.data).then(function(){var e=this;this.B.onEvent(new Te("drmsessionupdate")),r&&(r.xa&&r.xa.resolve(),new ce((function(){r.loaded=!0,At(e)&&e.m.resolve()})).P(Rt))}.bind(this)))}.bind(e),function(e){this.c||(e=new he(2,6,6007,e),this.g(e),r&&r.xa&&r.xa.reject(e))}.bind(e)).catch(function(e){this.c||(e=new he(2,6,6008,e.message),this.g(e),r&&r.xa&&r.xa.reject(e))}.bind(e))}function kt(){var e=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],t=[{videoCapabilities:e,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:e}],n=new Map;return e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").map((function(e){return function(e){return h((function r(){var i,a,o;return M(r,(function(r){switch(r.j){case 1:return E(r,2),T(r,navigator.requestMediaKeySystemAccess(e,t),4);case 4:return i=r.o,o=!!(a=i.getConfiguration().sessionTypes)&&a.includes("persistent-license"),et("Tizen 3")&&(o=!1),n.set(e,{persistentState:o}),T(r,i.createMediaKeys(),5);case 5:x(r,0);break;case 2:C(r),n.set(e,null),S(r)}}))}))}(e)})),Promise.all(e).then((function(){return Xe(n)}))}function xt(e,t){var n=t.audio,r=t.video;if(n&&n.encrypted&&!yt(e,Ye(n.mimeType,n.codecs))||r&&r.encrypted&&!yt(e,Ye(r.mimeType,r.codecs)))return!1;var i=vt(e.a);return 0==t.drmInfos.length||t.drmInfos.some((function(e){return e.keySystem==i}))}function Ct(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].keySystem==t[i].keySystem){var a=e[r];i=t[i];var o=[];o=(o=o.concat(a.initData||[])).concat(i.initData||[]);var s=[];s=(s=s.concat(a.keyIds)).concat(i.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||i.persistentStateRequired,videoRobustness:a.videoRobustness||i.videoRobustness,audioRobustness:a.audioRobustness||i.audioRobustness,serverCertificate:a.serverCertificate||i.serverCertificate,initData:o,keyIds:s});break}return n}function At(e){return qe(e=e.b.values(),(function(e){return e.loaded}))}function Ot(t,n,r){!t.keySystem||"org.w3.clearkey"==t.keySystem&&t.licenseServerUri||(n.size&&(n=n.get(t.keySystem)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=[]),(r=r.get(t.keySystem))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.videoRobustness||(t.videoRobustness=r.videoRobustness),t.audioRobustness||(t.audioRobustness=r.audioRobustness),t.serverCertificate||(t.serverCertificate=r.serverCertificate)),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==t.keySystem&&(t.keySystem="com.chromecast.playready"))}F("shaka.util.Uint8ArrayUtils.toBase64",ct.vc),ct.Aa=function(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n},F("shaka.util.Uint8ArrayUtils.fromBase64",ct.Aa),ct.Mc=function(t){for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=e.parseInt(t.substr(r,2),16);return n},F("shaka.util.Uint8ArrayUtils.fromHex",ct.Mc),ct.wc=function(e){for(var t="",n=0;n<e.length;++n){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t},F("shaka.util.Uint8ArrayUtils.toHex",ct.wc),ct.ya=function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0},F("shaka.util.Uint8ArrayUtils.equal",ct.ya),ct.concat=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];for(var r=n=0;r<t.length;++r)n+=t[r].length;n=new Uint8Array(n);for(var i=r=0;i<t.length;++i)n.set(t[i],r),r+=t[i].length;return n},F("shaka.util.Uint8ArrayUtils.concat",ct.concat),(n=dt.prototype).destroy=function(){var e=this;return h((function t(){return M(t,(function(t){switch(t.j){case 1:return e.c?T(t,e.$,0):(e.c=!0,T(t,function(e){return h((function t(){var n;return M(t,(function(t){switch(t.j){case 1:return e.i.release(),e.i=null,e.m.reject(),e.W.stop(),e.W=null,e.L.stop(),e.L=null,n=Array.from(e.b.keys()),e.b.clear(),T(t,Promise.all(n.map((function(e){return h((function t(){return M(t,(function(t){switch(t.j){case 1:return E(t,2),T(t,Promise.all([e.close(),e.closed]),4);case 4:x(t,0);break;case 2:C(t),S(t)}}))}))}))),2);case 2:if(!e.l){t.A(3);break}return E(t,4),T(t,e.l.setMediaKeys(null),6);case 6:x(t,5);break;case 4:C(t);case 5:e.l=null;case 3:e.a=null,e.v.clear(),e.h=null,e.s=[],e.f=null,e.g=null,e.B=null,S(t)}}))}))}(e),4));case 4:e.$.resolve(),t.A(0)}}))}))},n.configure=function(e){this.f=e},n.Fb=function(e){var t=this;if(!this.h)return this.i.da(e,"encrypted",(function(){t.g(new he(2,6,6010))})),Promise.resolve();this.l=e,this.i.da(this.l,"play",(function(){for(var e=0;e<t.F.length;e++)Et(t,t.F[e]);t.na=!0,t.F=[]})),e=(e=this.l.setMediaKeys(this.h)).catch((function(e){return Promise.reject(new he(2,6,6003,e.message))}));var n=pt(this);return Promise.all([e,n]).then((function(){if(t.c)return Promise.reject();mt(t),t.a.initData.length||t.s.length||t.i.w(t.l,"encrypted",(function(e){return gt(t,e.initDataType,new Uint8Array(e.initData))}))})).catch((function(e){if(!t.c)return Promise.reject(e)}))},n.Ib=function(){for(var e=1/0,t=this.b.keys(),n=(t=d(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},n.Ud=function(e){this.l&&this.f.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.na?this.F.push(e):Et(this,e)},n.Sd=function(e){e=e.target;var t=this.b.get(e),n=!1;e.keyStatuses.forEach(function(e,r){if("string"==typeof r){var i=r;r=e,e=i}if("com.microsoft.playready"==this.a.keySystem&&16==r.byteLength&&!et("Tizen")){var a=(i=new DataView(r)).getUint32(0,!0),o=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,a,!1),i.setUint16(4,o,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.a.keySystem&&"status-pending"==e&&(e="usable"),"status-pending"!=e&&(t.loaded=!0),"expired"==e&&(n=!0),i=ct.wc(new Uint8Array(r)),this.oa.set(i,e)}.bind(this));var r=e.expiration-Date.now();(0>r||n&&1e3>r)&&t&&!t.xa&&(this.b.delete(e),e.close().catch((function(){}))),At(this)&&(this.m.resolve(),this.L.P(Pt))};var Rt=5,Pt=.5;function It(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}}function Lt(){}function Mt(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function Dt(e,t,n){return n=void 0===n?0:n,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+n>=e.start(0)}function Nt(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,r=e.length-1;0<=r&&e.end(r)>t;--r)n+=e.end(r)-Math.max(e.start(r),t);return n}function jt(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}It.prototype.init=function(e){var t=muxjs.mp4.probe;e=new Uint8Array(e),this.g=t.videoTrackIds(e),this.f=t.timescale(e),this.a.init()},It.prototype.b=function(e,t){var n=new Uint8Array(e);(n=this.a.parse(n,this.g,this.f))&&n.captions&&t(n.captions),this.a.clearParsedCaptions()},It.prototype.c=function(){this.a.resetCaptionStream()},Lt.prototype.init=function(){},Lt.prototype.b=function(){},Lt.prototype.c=function(){};var Ut={Ae:function(e,t){return e.reduce(function(e,t,n){return t.catch(e.bind(null,n))}.bind(null,t),Promise.reject())},Cc:function(e,t){return e.concat(t)},kc:function(){},Ia:function(e){return null!=e}};function Bt(e,t){if(0==t.length)return e;var n=t.map((function(e){return new $(e)}));return e.map((function(e){return new $(e)})).map((function(e){return n.map(e.resolve.bind(e))})).reduce(Ut.Cc,[]).map((function(e){return e.toString()}))}function Ft(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[]}}var Ht={Pa:"video",Db:"audio",qa:"text",ng:"application"};function Gt(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.i.bind(this)),this.a.on("done",this.h.bind(this))}function Vt(t,n){return!(!e.muxjs||"mp2t"!=t.toLowerCase().split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(zt(n,t)):MediaSource.isTypeSupported(zt("audio",t))||MediaSource.isTypeSupported(zt("video",t)))}function zt(e,t){var n=t.replace(/mp2t/i,"mp4");"audio"==e&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",a=r[1],o=Number(r[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),n=n.replace(r[0],i)}return n}function Wt(e,t,n){this.startTime=e,this.direction=Jt,this.endTime=t,this.payload=n,this.region=new on,this.position=null,this.positionAlign=qt,this.size=100,this.textAlign=Kt,this.writingMode=Qt,this.lineInterpretation=Zt,this.line=null,this.lineHeight="",this.lineAlign=en,this.displayAlign=Yt,this.fontSize=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=nn,this.fontStyle=rn,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=!1}Gt.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Gt.prototype.i=function(e){this.c=e.captions;var t=new Uint8Array(e.data.byteLength+e.initSegment.byteLength);t.set(e.initSegment,0),t.set(e.data,e.initSegment.byteLength),this.g.push(t)},Gt.prototype.h=function(){var e={data:ct.concat.apply(null,this.g),captions:this.c};this.b.resolve(e),this.f=!1},F("shaka.text.Cue",Wt);var qt="auto";Wt.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:qt};var Kt="center",Xt={LEFT:"left",RIGHT:"right",CENTER:Kt,START:"start",END:"end"};Wt.textAlign=Xt;var Yt="after",$t={BEFORE:"before",CENTER:"center",AFTER:Yt};Wt.displayAlign=$t;var Jt="ltr";Wt.direction={HORIZONTAL_LEFT_TO_RIGHT:Jt,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Qt="horizontal-tb";Wt.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Qt,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Zt=0;Wt.lineInterpretation={LINE_NUMBER:Zt,PERCENTAGE:1};var en="start",tn={CENTER:"center",START:en,END:"end"};Wt.lineAlign=tn;var nn=400;Wt.fontWeight={NORMAL:nn,BOLD:700};var rn="normal",an={NORMAL:rn,ITALIC:"italic",OBLIQUE:"oblique"};function on(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=sn,this.scroll=un}Wt.fontStyle=an,Wt.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},F("shaka.text.CueRegion",on);var sn=1;on.units={PX:0,PERCENTAGE:sn,LINES:2};var un="";function ln(e){this.g=null,this.c=e,this.f=this.m=0,this.h=1/0,this.b=this.a=null,this.l="",this.i=new Map}on.scrollMode={NONE:un,UP:"up"};var cn={};function dn(t){return!!(cn[t]||e.muxjs&&"application/cea-608"==t)}function fn(e,t){"application/cea-608"!=t&&(e.g=new cn[t])}function hn(e,t,n,r,i){for(var a=n+" "+r,o=new Map,s=(t=d(t)).next();!s.done;s=t.next()){var u=s.value;s=u.stream,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),u.startTime+=i,u.endTime+=i,u.startTime>=e.f&&u.startTime<e.h&&(u=new Wt(u.startTime,u.endTime,u.text),o.get(s).get(a).push(u),s==e.l&&e.c.append([u]))}for(a=(i=d(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.i.has(a)||e.i.set(a,new Map),s=(t=d(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,u=o.get(a).get(s),e.i.get(a).set(s,u);e.a=null==e.a?Math.max(n,e.f):Math.min(e.a,Math.max(n,e.f)),e.b=Math.max(e.b,Math.min(r,e.h))}function pn(e,t,n){this.f=e,this.g=n,this.b={},this.a=null,this.c={},this.i=new He,this.v=!1,this.l={},this.m=t,e=this.s=new pe,t=new MediaSource,this.i.da(t,"sourceopen",e.resolve),this.f.src=mn(t),this.h=t}F("shaka.text.TextEngine.registerParser",(function(e,t){cn[e]=t})),F("shaka.text.TextEngine.unregisterParser",(function(e){delete cn[e]})),ln.prototype.destroy=function(){return this.c=this.g=null,this.i.clear(),Promise.resolve()},ln.prototype.Rc=function(e){try{return this.g.parseMedia(new Uint8Array(e),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(t){throw new he(2,2,2009,t)}},ln.prototype.remove=function(e,t){return Promise.resolve().then(function(){!this.c||!this.c.remove(e,t)||null==this.a||t<=this.a||e>=this.b||(e<=this.a&&t>=this.b?this.a=this.b=null:e<=this.a&&t<this.b?this.a=t:e>this.a&&t>=this.b&&(this.b=e))}.bind(this))},ln.prototype.se=function(e){this.c.append(e)},ln.prototype.appendCues=ln.prototype.se,ln.prototype.tc=function(e,t){this.l=e;var n=this.i.get(e);if(n)for(var r=d(n.keys()),i=r.next();!i.done;i=r.next())(i=n.get(i.value).filter((function(e){return e.endTime<=t})))&&this.c.append(i)},ln.prototype.setSelectedClosedCaptionId=ln.prototype.tc;var mn=e.URL.createObjectURL;function gn(e){var t=Ye(e.mimeType,e.codecs),n=function(e){var t=[e.mimeType];return Je.forEach((function(n,r){var i=e[r];i&&t.push(n+'="'+i+'"')})),t.join(";")}(e);return dn(t)||MediaSource.isTypeSupported(n)||Vt(t,e.type)}function vn(e,t){e.a||(e.a=new ln(e.g)),fn(e.a,t)}function yn(e){return!e.h||"ended"==e.h.readyState}function bn(e,t){if("text"==t)var n=e.a.a;else n=!(n=wn(e,t))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function _n(e,t){return"text"==t?e.a.b:Mt(wn(e,t))}function wn(e,t){try{return e.b[t].buffered}catch(n){return null}}function Tn(t,n,r,i,a,o){return"text"==n?function(e,t,n,r){return Promise.resolve().then(function(){if(this.g&&this.c)if(null==n||null==r)this.g.parseInit(new Uint8Array(t));else{var e={periodStart:this.m,segmentStart:n,segmentEnd:r};e=this.g.parseMedia(new Uint8Array(t),e).filter(function(e){return e.startTime>=this.f&&e.startTime<this.h}.bind(this)),this.c.append(e),null==this.a&&(this.a=Math.max(n,this.f)),this.b=Math.min(r,this.h)}}.bind(e))}(t.a,r,i,a):t.l[n]?function(e,t){e.f=!0,e.b=new pe,e.g=[],e.c=[];var n=new Uint8Array(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new he(2,3,3018)),e.b}(t.l[n],r).then(function(e){return this.a||vn(this,"text/vtt"),e.captions&&e.captions.length&&hn(this.a,e.captions,i,a,this.b.video.timestampOffset),En(this,n,this.ge.bind(this,n,e.data.buffer))}.bind(t)):(o&&e.muxjs&&(t.a||vn(t,"text/vtt"),null==i&&null==a?t.m.init(r):t.m.b(r,(function(e){e.length&&hn(t.a,e,i,a,t.b.video.timestampOffset)}))),En(t,n,t.ge.bind(t,n,r)))}function Sn(e,t){return"text"==t?e.a?(e.m.c(),e.a.remove(0,1/0)):Promise.resolve():En(e,t,e.he.bind(e,t,0,e.h.duration))}function En(e,t,n){if(e.v)return Promise.reject();if(n={start:n,p:new pe},e.c[t].push(n),1==e.c[t].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new he(2,3,3017,t)):n.p.reject(new he(2,3,3015,r)),xn(e,t)}return n.p}function kn(e,t){if(e.v)return Promise.reject();var n,r=[];for(n in e.b){var i=new pe,a={start:function(e){e.resolve()}.bind(null,i),p:i};e.c[n].push(a),r.push(i),1==e.c[n].length&&a.start()}return Promise.all(r).then(function(){try{t()}catch(r){var e=Promise.reject(new he(2,3,3015,r))}for(var n in this.b)xn(this,n);return e}.bind(e),function(e){throw e}.bind(e))}function xn(e,t){e.c[t].shift();var n=e.c[t][0];if(n)try{n.start()}catch(r){n.p.reject(new he(2,3,3015,r)),xn(e,t)}}function Cn(e,t){return e=On(e),t=On(t),e.split("-")[0]==t.split("-")[0]}function An(e,t){e=On(e),t=On(t);var n=e.split("-"),r=t.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function On(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=In.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function Rn(e){return e.language?On(e.language):e.audio&&e.audio.language?On(e.audio.language):e.video&&e.video.language?On(e.video.language):"und"}function Pn(e,t){for(var n=On(e),r=new Set,i=d(t),a=i.next();!a.done;a=i.next())r.add(On(a.value));for(a=(i=d(r)).next();!a.done;a=i.next())if((a=a.value)==n)return a;for(a=(i=d(r)).next();!a.done;a=i.next())if(An(a=a.value,n))return a;for(a=(i=d(r)).next();!a.done;a=i.next()){var o=a=a.value,s=n;if(o=On(o),s=On(s),o=o.split("-"),s=s.split("-"),2==o.length&&2==s.length&&o[0]==s[0])return a}for(a=(r=d(r)).next();!a.done;a=r.next())if(An(n,i=a.value))return i;return null}(n=pn.prototype).destroy=function(){var e=this;this.v=!0;var t,n=[];for(t in this.c){var r=this.c[t],i=r[0];for(this.c[t]=r.slice(0,1),i&&n.push(i.p.catch(Ut.kc)),i=1;i<r.length;++i)r[i].p.reject()}for(var a in this.a&&n.push(this.a.destroy()),this.g&&n.push(this.g.destroy()),this.l)n.push(this.l[a].destroy());return Promise.all(n).then((function(){e.i&&(e.i.release(),e.i=null),e.f&&(e.f.removeAttribute("src"),e.f.load(),e.f=null),e.h=null,e.a=null,e.g=null,e.b={},e.l={},e.m=null,e.c={}}))},n.init=function(e,t){var n=this;return h((function r(){var i;return M(r,(function(r){switch(r.j){case 1:return i=Ht,T(r,n.s,2);case 2:e.forEach((function(e,r){var a=Ye(e.mimeType,e.codecs);r==i.qa?vn(n,a):(!t&&MediaSource.isTypeSupported(a)||!Vt(a,r)||(n.l[r]=new Gt,a=zt(r,a)),a=n.h.addSourceBuffer(a),n.i.w(a,"error",n.Wf.bind(n,r)),n.i.w(a,"updateend",n.wb.bind(n,r)),n.b[r]=a,n.c[r]=[])})),S(r)}}))}))},n.Oc=function(e){if(e.total=jt(this.f.buffered),e.audio=jt(wn(this,"audio")),e.video=jt(wn(this,"video")),e.text=[],this.a){var t=this.a.a,n=this.a.b;null!=t&&null!=n&&e.text.push({start:t,end:n})}},n.tc=function(e){var t=_n(this,"video")||0;this.a.tc(e,t)},n.remove=function(e,t,n){return"text"==e?this.a.remove(t,n):En(this,e,this.he.bind(this,e,t,n))},n.flush=function(e){return"text"==e?Promise.resolve():En(this,e,this.Ee.bind(this,e))},n.endOfStream=function(e){return kn(this,function(){yn(this)||(e?this.h.endOfStream(e):this.h.endOfStream())}.bind(this))},n.wa=function(e){return kn(this,function(){this.h.duration=e}.bind(this))},n.Y=function(){return this.h.duration},n.ge=function(e,t){this.b[e].appendBuffer(t)},n.he=function(e,t,n){n<=t?this.wb(e):this.b[e].remove(t,n)},n.qe=function(e){var t=this.b[e].appendWindowStart,n=this.b[e].appendWindowEnd;this.b[e].abort(),this.b[e].appendWindowStart=t,this.b[e].appendWindowEnd=n,this.wb(e)},n.Ee=function(e){this.f.currentTime-=.001,this.wb(e)},n.Vf=function(e,t){0>t&&(t+=.001),this.b[e].timestampOffset=t,this.wb(e)},n.Sf=function(e,t,n){this.b[e].appendWindowStart=0,this.b[e].appendWindowEnd=n,this.b[e].appendWindowStart=t,this.wb(e)},n.Wf=function(e){this.c[e][0].p.reject(new he(2,3,3014,this.f.error?this.f.error.code:0))},n.wb=function(e){var t=this.c[e][0];t&&(t.p.resolve(),xn(this,e))};var In=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Ln(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;return!(i&&i.width&&i.height&&!(r(i.width,t.minWidth,Math.min(t.maxWidth,n.width))&&r(i.height,t.minHeight,Math.min(t.maxHeight,n.height))&&r(i.width*i.height,t.minPixels,t.maxPixels))||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function Mn(e,t,n){var r=!1;return e.forEach((function(e){var i=e.allowedByApplication;e.allowedByApplication=Ln(e,t,n),i!=e.allowedByApplication&&(r=!0)})),r}function Dn(e,t,n,r){r.variants=r.variants.filter((function(r){if(e&&e.R&&!xt(e,r))return!1;var i=r.audio;return r=r.video,!(i&&!gn(i)||r&&!gn(r)||i&&t&&!Nn(i,t)||r&&n&&!Nn(r,n))})),r.textStreams=r.textStreams.filter((function(e){return dn(Ye(e.mimeType,e.codecs))}))}function Nn(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function jn(e){var t=e.audio,n=e.video,r=t?t.codecs:null,i=n?n.codecs:null,a=[];i&&a.push(i),r&&a.push(r);var o=[];n&&o.push(n.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;return t&&t.roles.forEach((function(e){return u.add(e)})),n&&n.roles.forEach((function(e){return u.add(e)})),e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:o,codecs:a.join(", "),audioCodec:r,videoCodec:i,primary:e.primary,roles:Array.from(u),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e}function Un(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}}function Bn(e){return e.__shaka_id||(e.__shaka_id=Fn++),e.__shaka_id}var Fn=0;function Hn(e){return{id:Bn(e),active:!1,type:"",bandwidth:0,language:On(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function Gn(e){return e.allowedByApplication&&e.allowedByKeySystem}function Vn(e,t){for(var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),r=new Map,i=(n=d(n)).next();!i.done;i=n.next()){var a=(i=i.value).audio.channelsCount;r.has(a)||r.set(a,[]),r.get(a).push(i)}return 0==(n=Array.from(r.keys())).length?e:(i=n.filter((function(e){return e<=t}))).length?r.get(Math.max.apply(null,i)):r.get(Math.min.apply(null,n))}function zn(e,t,n){var r=e,i=e.filter((function(e){return e.primary}));i.length&&(r=i);var a=r.length?r[0].language:"";if(r=r.filter((function(e){return e.language==a})),t){var o=Pn(On(t),e.map((function(e){return e.language})));o&&(r=e.filter((function(e){return On(e.language)==o})))}if(n){if((e=Wn(r,n)).length)return e}else if((e=r.filter((function(e){return 0==e.roles.length}))).length)return e;return(e=r.map((function(e){return e.roles})).reduce(Ut.Cc,[])).length?Wn(r,e[0]):r}function Wn(e,t){return e.filter((function(e){return e.roles.includes(t)}))}function qn(e,t,n){for(var r=0;r<n.length;r++)if(n[r].audio==e&&n[r].video==t)return n[r];return null}function Kn(){this.h=null,this.f=!1,this.b=new W,this.c=[],this.i=!1,this.a=this.g=null}function Xn(e,t){return e&&(t=t.filter((function(t){return Ln(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}function Yn(e,t){this.a=e,this.b=t}function $n(e,t){var n=new Yn(2,6),r=Zn,i=r.a,a=n.b-i.b;(0<(n.a-i.a||a)?r.c:r.b)(r.a,n,e,t)}function Jn(e,t,n,r){K([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function Qn(e,t,n,r){q([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(""))}F("shaka.abr.SimpleAbrManager",Kn),Kn.prototype.stop=function(){this.h=null,this.f=!1,this.c=[],this.g=null},Kn.prototype.stop=Kn.prototype.stop,Kn.prototype.init=function(e){this.h=e},Kn.prototype.init=Kn.prototype.init,Kn.prototype.chooseVariant=function(){var e=Xn(this.a.restrictions,this.c),t=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!e.length&&(e=[(e=Xn(null,this.c))[0]]);for(var n=e[0]||null,r=0;r<e.length;++r){var i=e[r],a=(e[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;t>=i.bandwidth/this.a.bandwidthDowngradeTarget&&t<=a&&(n=i)}return this.g=Date.now(),n},Kn.prototype.chooseVariant=Kn.prototype.chooseVariant,Kn.prototype.enable=function(){this.f=!0},Kn.prototype.enable=Kn.prototype.enable,Kn.prototype.disable=function(){this.f=!1},Kn.prototype.disable=Kn.prototype.disable,Kn.prototype.segmentDownloaded=function(e,t){var n=this.b;if(!(16e3>t)){var r=8e3*t/e,i=e/1e3;n.a+=t,V(n.b,i,r),V(n.c,i,r)}if(null!=this.g&&this.f)e:{if(this.i){if(Date.now()-this.g<1e3*this.a.switchInterval)break e}else{if(!(128e3<=this.b.a))break e;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},Kn.prototype.segmentDownloaded=Kn.prototype.segmentDownloaded,Kn.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},Kn.prototype.getBandwidthEstimate=Kn.prototype.getBandwidthEstimate,Kn.prototype.setVariants=function(e){this.c=e},Kn.prototype.setVariants=Kn.prototype.setVariants,Kn.prototype.configure=function(e){this.a=e},Kn.prototype.configure=Kn.prototype.configure,Yn.prototype.toString=function(){return"v"+this.a+"."+this.b};var Zn=null,er="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),tr="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),nr=["loop","playbackRate"],rr=["pause","play"],ir="abrstatuschanged adaptation buffering emsg error loading streaming texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading variantchanged textchanged".split(" "),ar={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,usingEmbeddedTextTrack:2,getLoadMode:10},or={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},sr=[["getConfiguration","configure"]],ur=[["isTextTrackVisible","setTextTrackVisibility"]],lr="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),cr=["attach","detach","load","unload"];function dr(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof Te){var n,r={};for(n in t){var i=t[n];i&&"object"==typeof i?"detail"==n&&(r[n]=i):n in Event||(r[n]=i)}return r}if(t instanceof TimeRanges)for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=0;n<t.length;++n)r.start.push(t.start(n)),r.end.push(t.end(n));else r=t instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return r}}))}function fr(e){return JSON.parse(e,(function(e,t){return"NaN"==t?NaN:"-Infinity"==t?-1/0:"Infinity"==t?1/0:t&&"object"==typeof t&&"TimeRanges"==t.__type__?function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t):t&&"object"==typeof t&&"Uint8Array"==t.__type__?new Uint8Array(t.entries):t}))}function hr(e,t,n,r,i,a){this.T=e,this.f=new ce(t),this.R=n,this.l=!1,this.F=r,this.L=i,this.B=a,this.b=this.h=!1,this.D="",this.i=null,this.m=this.Qd.bind(this),this.s=this.nf.bind(this),this.a={video:{},player:{}},this.v=0,this.c={},this.g=null}var pr=!1,mr=null;function gr(e){var t=mr;t.removeUpdateListener(e.m),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.s)}function vr(e){for(var t in e.c){var n=e.c[t];delete e.c[t],n.reject(new he(1,7,7e3))}}function yr(e){e=dr(e),mr.sendMessage("urn:x-cast:com.google.shaka.v2",e,(function(){}),X)}function br(e,t,n){var r=this;Ee.call(this),this.c=e,this.b=t,this.i=this.g=this.f=this.l=this.h=null,(this.m=n)&&(this.a=new hr(n,(function(){return wr(r)}),(function(){return Tr(r)}),(function(e,t){return Er(r,e,t)}),(function(){return Sr(r)}),(function(){return _r(r)}))),function(e){for(var t in e.a&&e.a.init(),e.i=new He,er.forEach(function(e){this.i.w(this.c,e,this.lg.bind(this))}.bind(e)),ir.forEach(function(e){this.i.w(this.b,e,this.Bf.bind(this))}.bind(e)),e.h={},e.c)Object.defineProperty(e.h,t,{configurable:!1,enumerable:!0,get:e.kg.bind(e,t),set:e.mg.bind(e,t)});for(var n in e.l={},e.b)Object.defineProperty(e.l,n,{configurable:!1,enumerable:!0,get:e.Xd.bind(e,n)});e.f=new Ee,e.f.Yb=e.h,e.g=new Ee,e.g.Yb=e.l}(this)}function _r(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.b.ec(),startTime:null};return e.c.pause(),nr.forEach(function(e){t.video[e]=this.c[e]}.bind(e)),e.c.ended||(t.startTime=e.c.currentTime),sr.forEach(function(e){var n=e[1];e=this.b[e[0]](),t.player[n]=e}.bind(e)),ur.forEach(function(e){var n=e[1];e=this.b[e[0]](),t.playerAfterLoad[n]=e}.bind(e)),t}function wr(e){e.dispatchEvent(new Te("caststatuschanged"))}function Tr(e){e.f.dispatchEvent(new Te(e.h.paused?"pause":"play"))}function Sr(e){sr.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(e));var t=e.a.get("player","getAssetUri")(),n=e.a.get("video","ended"),r=Promise.resolve(),i=e.c.autoplay,a=null;n||(a=e.a.get("video","currentTime")),t&&(e.c.autoplay=!1,r=e.b.load(t,a));var o={};nr.forEach(function(e){o[e]=this.a.get("video",e)}.bind(e)),r.then((function(){e.c&&(nr.forEach(function(e){this.c[e]=o[e]}.bind(e)),ur.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(e)),e.c.autoplay=i,t&&e.c.play())}),(function(t){e.b.dispatchEvent(new Te("error",{detail:t}))}))}function Er(e,t,n){e.a.ga()&&("video"==t?e.f.dispatchEvent(n):"player"==t&&e.g.dispatchEvent(n))}function kr(e,t,n,r){var i=this;Ee.call(this),this.a=e,this.b=t,this.c=new He,this.D={video:e,player:t},this.s=n||function(){},this.F=r||function(e){return e},this.v=!1,this.h=!0,this.g=0,this.m=!1,this.l=!0,this.i=this.f=null,this.B=new ce((function(){Cr(i)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=e.Td.bind(e),t.onSenderDisconnected=e.Td.bind(e),t.onSystemVolumeChanged=e.De.bind(e),e.i=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.i.onMessage=e.hf.bind(e),e.f=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.f.onMessage=e.uf.bind(e),t.start(),er.forEach(function(e){this.c.w(this.a,e,this.Zd.bind(this,"video"))}.bind(e)),ir.forEach(function(e){this.c.w(this.b,e,this.Zd.bind(this,"player"))}.bind(e)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.b.qd(3840,2160):e.b.qd(1920,1080),e.c.w(e.a,"loadeddata",function(){this.m=!0}.bind(e)),e.c.w(e.b,"loading",function(){this.h=!1,xr(this)}.bind(e)),e.c.w(e.a,"playing",function(){this.h=!1,xr(this)}.bind(e)),e.c.w(e.a,"pause",function(){xr(this)}.bind(e)),e.c.w(e.b,"unloading",function(){this.h=!0,xr(this)}.bind(e)),e.c.w(e.a,"ended",function(){var e=this;new ce((function(){e.a&&e.a.ended&&(e.h=!0,xr(e))})).P(5)}.bind(e))}(this)}function xr(e){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new Te("caststatuschanged")),Ar(this)||Pr(this,0))}.bind(e))}function Cr(e){e.B.P(.5);var t={video:{},player:{}};if(tr.forEach(function(e){t.video[e]=this.a[e]}.bind(e)),e.b.V())for(var n in or)0==e.g%or[n]&&(t.player[n]=e.b[n]());for(var r in ar)0==e.g%ar[r]&&(t.player[r]=e.b[r]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),e.m&&(e.g+=1),Rr(e,{type:"update",update:t},e.f),Ar(e)}function Ar(e){return!(!e.l||!e.a.duration&&!e.b.V())&&(Or(e),e.l=!1,!0)}function Or(e){var t={contentId:e.b.ec(),streamType:e.b.V()?"LIVE":"BUFFERED",duration:e.a.duration,contentType:""};Pr(e,0,t)}function Rr(e,t,n,r){e.v&&(e=dr(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function Pr(e,t,n){var r=e.a.playbackRate,i=Ir;r={mediaSessionId:0,playbackRate:r,playerState:i=e.h?i.IDLE:e.b.Tc()?i.le:e.a.paused?i.ne:i.oe,currentTime:e.a.currentTime,supportedMediaCommands:15,volume:{level:e.a.volume,muted:e.a.muted}},n&&(r.media=n),Rr(e,{requestId:t,type:"MEDIA_STATUS",status:[r]},e.i)}(n=hr.prototype).destroy=function(){return vr(this),mr&&gr(this),this.f&&(this.f.stop(),this.f=null),this.L=this.F=null,this.b=this.h=!1,this.s=this.m=this.g=this.c=this.a=this.i=null,Promise.resolve()},n.ga=function(){return this.b},n.hd=function(){return this.D},n.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){delete e.__onGCastApiAvailable,this.h=!0,this.f.uc();var t=new chrome.cast.SessionRequest(this.T);t=new chrome.cast.ApiConfig(t,this.Rd.bind(this),this.sf.bind(this),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),pr&&this.f.P(.02),(t=mr)&&t.status!=chrome.cast.SessionStatus.STOPPED?this.Rd(t):mr=null}else e.__onGCastApiAvailable=function(e){e&&this.init()}.bind(this)},n.pd=function(e){this.i=e,this.b&&yr({type:"appData",appData:this.i})},n.cast=function(e){return this.h?pr?this.b?Promise.reject(new he(1,8,8002)):(this.g=new pe,chrome.cast.requestSession(this.ed.bind(this,e),this.Pd.bind(this)),this.g):Promise.reject(new he(1,8,8001)):Promise.reject(new he(1,8,8e3))},n.Hb=function(){this.b&&(vr(this),mr&&(gr(this),mr.stop((function(){}),(function(){})),mr=null))},n.get=function(e,t){if("video"==e){if(rr.includes(t))return this.ae.bind(this,e,t)}else if("player"==e){if(or[t]&&!this.get("player","isLive")())return function(){};if(lr.includes(t))return this.ae.bind(this,e,t);if(cr.includes(t))return this.Hf.bind(this,e,t);if(ar[t])return this.Yd.bind(this,e,t)}return this.Yd(e,t)},n.set=function(e,t,n){this.a[e][t]=n,yr({type:"set",targetName:e,property:t,value:n})},n.ed=function(e,t){mr=t,t.addUpdateListener(this.m),t.addMessageListener("urn:x-cast:com.google.shaka.v2",this.s),this.Qd(),yr({type:"init",initState:e,appData:this.i}),this.g.resolve()},n.Pd=function(e){var t=8003;switch(e.code){case"cancel":t=8004;break;case"timeout":t=8005;break;case"receiver_unavailable":t=8006}this.g.reject(new he(2,8,t,e))},n.Yd=function(e,t){return this.a[e][t]},n.ae=function(e,t,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];yr({type:"call",targetName:e,methodName:t,args:r})},n.Hf=function(e,t,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];i=new pe;var a=this.v.toString();return this.v++,this.c[a]=i,yr({type:"asyncCall",targetName:e,methodName:t,args:r,id:a}),i},n.Rd=function(e){var t=this.B();this.g=new pe,this.l=!0,this.ed(t,e)},n.sf=function(e){pr="available"==e,this.f.uc()},n.Qd=function(){var e=!!mr&&"connected"==mr.status;if(this.b&&!e){for(var t in this.L(),this.a)this.a[t]={};vr(this)}this.D=(this.b=e)?mr.receiver.friendlyName:"",this.f.uc()},n.nf=function(e,t){var n=fr(t);switch(n.type){case"event":var r=n.event;this.F(n.targetName,new Te(r.type,r));break;case"update":for(var i in r=n.update)for(var a in n=this.a[i]||{},r[i])n[a]=r[i][a];this.l&&(this.R(),this.l=!1);break;case"asyncComplete":if(i=n.id,n=n.error,a=this.c[i],delete this.c[i],a)if(n){for(r in i=new he(n.severity,n.category,n.code),n)i[r]=n[r];a.reject(i)}else a.resolve()}},H(br,Ee),F("shaka.cast.CastProxy",br),br.prototype.destroy=function(e){return e&&this.a&&this.a.Hb(),this.i&&(this.i.release(),this.i=null),e=[],this.b&&(e.push(this.b.destroy()),this.b=null),this.a&&(e.push(this.a.destroy()),this.a=null),this.l=this.h=this.c=null,Promise.all(e)},br.prototype.destroy=br.prototype.destroy,br.prototype.af=function(){return this.h},br.prototype.getVideo=br.prototype.af,br.prototype.Ue=function(){return this.l},br.prototype.getPlayer=br.prototype.Ue,br.prototype.ue=function(){return!!this.a&&(this.a.h&&pr)},br.prototype.canCast=br.prototype.ue,br.prototype.ga=function(){return!!this.a&&this.a.ga()},br.prototype.isCasting=br.prototype.ga,br.prototype.hd=function(){return this.a?this.a.hd():""},br.prototype.receiverName=br.prototype.hd,br.prototype.cast=function(){if(!this.a)throw new he(1,8,8007);var e=_r(this);return this.a.cast(e).then(function(){if(this.b)return this.b.xd()}.bind(this))},br.prototype.cast=br.prototype.cast,br.prototype.pd=function(e){this.a&&this.a.pd(e)},br.prototype.setAppData=br.prototype.pd,br.prototype.cg=function(){if(this.a){var e=this.a;if(e.b){var t=e.B();chrome.cast.requestSession(e.ed.bind(e,t),e.Pd.bind(e))}}},br.prototype.suggestDisconnect=br.prototype.cg,br.prototype.xe=function(e){var t=this;return h((function n(){return M(n,(function(n){switch(n.j){case 1:if(e==t.m)return n.return();if(t.m=e,!t.a){n.A(2);break}return t.a.Hb(),T(n,t.a.destroy(),3);case 3:t.a=null;case 2:t.a=new hr(e,(function(){return wr(t)}),(function(){return Tr(t)}),(function(e,n){return Er(t,e,n)}),(function(){return Sr(t)}),(function(){return _r(t)})),t.a.init(),S(n)}}))}))},br.prototype.changeReceiverId=br.prototype.xe,br.prototype.Hb=function(){this.a&&this.a.Hb()},br.prototype.forceDisconnect=br.prototype.Hb,(n=br.prototype).kg=function(e){if("addEventListener"==e)return this.f.addEventListener.bind(this.f);if("removeEventListener"==e)return this.f.removeEventListener.bind(this.f);if(this.a&&this.a.ga()&&0==Object.keys(this.a.a.video).length){var t=this.c[e];if("function"!=typeof t)return t}return this.a&&this.a.ga()?this.a.get("video",e):("function"==typeof(e=this.c[e])&&(e=e.bind(this.c)),e)},n.mg=function(e,t){this.a&&this.a.ga()?this.a.set("video",e,t):this.c[e]=t},n.lg=function(e){this.a&&this.a.ga()||this.f.dispatchEvent(new Te(e.type,e))},n.Xd=function(e){if("addEventListener"==e)return this.g.addEventListener.bind(this.g);if("removeEventListener"==e)return this.g.removeEventListener.bind(this.g);if("getMediaElement"==e)return function(){return this.h}.bind(this);if("getSharedConfiguration"==e)return this.a?this.a.get("player","getConfiguration"):this.b.getConfiguration();if("getNetworkingEngine"==e)return this.b.Jb.bind(this.b);if(this.a&&this.a.ga()){if("getManifest"==e||"drmInfo"==e)return function(){return K(e+"() does not work while casting!"),null};if("getManifestUri"==e)return $n("getManifestUri",'Please use "getAssetUri" instead.'),this.Xd("getAssetUri");if("attach"==e||"detach"==e)return function(){return K(e+"() does not work while casting!"),Promise.resolve()}}return this.a&&this.a.ga()&&0==Object.keys(this.a.a.video).length&&ar[e]||!this.a||!this.a.ga()?this.b[e].bind(this.b):this.a.get("player",e)},n.Bf=function(e){this.a&&this.a.ga()||this.g.dispatchEvent(e)},H(kr,Ee),F("shaka.cast.CastReceiver",kr),kr.prototype.isConnected=function(){return this.v},kr.prototype.isConnected=kr.prototype.isConnected,kr.prototype.ef=function(){return this.h},kr.prototype.isIdle=kr.prototype.ef,kr.prototype.destroy=function(){var e=this;return h((function t(){var n;return M(t,(function(t){switch(t.j){case 1:return e.c&&(e.c.release(),e.c=null),n=[],e.b&&(n.push(e.b.destroy()),e.b=null),e.B&&(e.B.stop(),e.B=null),e.a=null,e.D=null,e.s=null,e.v=!1,e.h=!0,e.f=null,e.i=null,T(t,Promise.all(n),2);case 2:cast.receiver.CastReceiverManager.getInstance().stop(),S(t)}}))}))},kr.prototype.destroy=kr.prototype.destroy,(n=kr.prototype).Td=function(){this.g=0,this.l=!0,this.v=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,xr(this)},n.Zd=function(e,t){this.b&&(Cr(this),Rr(this,{type:"event",targetName:e,event:t},this.f))},n.De=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();e&&Rr(this,{type:"update",update:{video:{volume:e.level,muted:e.muted}}},this.f),Rr(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)},n.uf=function(e){var t=fr(e.data);switch(t.type){case"init":this.g=0,this.m=!1,this.l=!0,function(e,t,n){for(var r in t.player)e.b[r](t.player[r]);e.s(n),n=Promise.resolve();var i=e.a.autoplay;t.manifest&&(e.a.autoplay=!1,n=e.b.load(t.manifest,t.startTime)),n.then((function(){if(e.b){for(var n in t.video)e.a[n]=t.video[n];for(var r in t.playerAfterLoad)e.b[r](t.playerAfterLoad[r]);e.a.autoplay=i,t.manifest&&(e.a.play(),Pr(e,0))}}),(function(t){e.b.dispatchEvent(new Te("error",{detail:t}))}))}(this,t.initState,t.appData),Cr(this);break;case"appData":this.s(t.appData);break;case"set":var n=t.targetName,r=t.property;if(t=t.value,"video"==n){var i=cast.receiver.CastReceiverManager.getInstance();if("volume"==r){i.setSystemVolumeLevel(t);break}if("muted"==r){i.setSystemVolumeMuted(t);break}}this.D[n][r]=t;break;case"call":(n=this.D[t.targetName])[t.methodName].apply(n,t.args);break;case"asyncCall":n=t.targetName,r=t.methodName,"player"==n&&"load"==r&&(this.g=0,this.m=!1),i=t.id,e=e.senderId;var a=this.D[n];t=a[r].apply(a,t.args),"player"==n&&"load"==r&&(t=t.then(function(){this.l=!0}.bind(this))),t.then(this.de.bind(this,e,i,null),this.de.bind(this,e,i))}},n.hf=function(e){var t=fr(e.data);switch(t.type){case"PLAY":this.a.play(),Pr(this,0);break;case"PAUSE":this.a.pause(),Pr(this,0);break;case"SEEK":e=t.currentTime;var n=t.resumeState;null!=e&&(this.a.currentTime=Number(e)),n&&"PLAYBACK_START"==n?(this.a.play(),Pr(this,0)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),Pr(this,0));break;case"STOP":this.b.xd().then(function(){this.b&&Pr(this,0)}.bind(this));break;case"GET_STATUS":Pr(this,Number(t.requestId));break;case"VOLUME":e=(n=t.volume).level,n=n.muted;var r=this.a.volume,i=this.a.muted;null!=e&&(this.a.volume=Number(e)),null!=n&&(this.a.muted=n),r==this.a.volume&&i==this.a.muted||Pr(this,0);break;case"LOAD":this.g=0,this.l=this.m=!1,e=t.media,n=t.currentTime,r=this.F(e.contentId),i=t.autoplay||!0,this.s(e.customData),i&&(this.a.autoplay=!0),this.b.load(r,n).then(function(){this.b&&Or(this)}.bind(this)).catch(function(e){var n="LOAD_FAILED";7==e.category&&7e3==e.code&&(n="LOAD_CANCELLED"),Rr(this,{requestId:Number(t.requestId),type:n},this.i)}.bind(this));break;default:Rr(this,{requestId:Number(t.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.i)}},n.de=function(e,t,n){this.b&&Rr(this,{type:"asyncComplete",id:t,error:n},this.f,e)};var Ir={IDLE:"IDLE",oe:"PLAYING",le:"BUFFERING",ne:"PAUSED"};function Lr(e,t){this.I=e,this.b=t==Mr,this.a=0}F("shaka.util.DataViewReader",Lr);var Mr=1;function Dr(){throw new he(2,3,3e3)}function Nr(){this.c=[],this.b=[],this.a=!1}function jr(e){for(var t=null!=e.flags?12:8;e.reader.sa()&&!e.parser.a;)e.parser.oc(e.start+t,e.reader,e.partialOkay)}function Ur(e){for(var t=null!=e.flags?12:8,n=e.reader.G();0<n&&!e.parser.a;--n)e.parser.oc(e.start+t,e.reader,e.partialOkay)}function Br(e){return function(t){e(t.reader.Za(t.reader.I.byteLength-t.reader.ba()))}}function Fr(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t}function Hr(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function Gr(e){var t=this;this.b=[],this.a=[],this.data=[],(new Nr).H("moov",jr).fa("pssh",(function(e){if(!(1<e.version)){var n=e.reader.I;if(n=new Uint8Array(n.buffer,n.byteOffset-12,e.size),t.data.push(n),t.b.push(ct.wc(e.reader.Za(16))),0<e.version){n=e.reader.G();for(var r=0;r<n;++r){var i=ct.wc(e.reader.Za(16));t.a.push(i)}}}})).parse(e)}Lr.Endianness={og:0,pg:Mr},Lr.prototype.sa=function(){return this.a<this.I.byteLength},Lr.prototype.hasMoreData=Lr.prototype.sa,Lr.prototype.ba=function(){return this.a},Lr.prototype.getPosition=Lr.prototype.ba,Lr.prototype.Ke=function(){return this.I.byteLength},Lr.prototype.getLength=Lr.prototype.Ke,Lr.prototype.la=function(){try{var e=this.I.getUint8(this.a);return this.a+=1,e}catch(t){Dr()}},Lr.prototype.readUint8=Lr.prototype.la,Lr.prototype.Qb=function(){try{var e=this.I.getUint16(this.a,this.b);return this.a+=2,e}catch(t){Dr()}},Lr.prototype.readUint16=Lr.prototype.Qb,Lr.prototype.G=function(){try{var e=this.I.getUint32(this.a,this.b);return this.a+=4,e}catch(t){Dr()}},Lr.prototype.readUint32=Lr.prototype.G,Lr.prototype.$d=function(){try{var e=this.I.getInt32(this.a,this.b);return this.a+=4,e}catch(t){Dr()}},Lr.prototype.readInt32=Lr.prototype.$d,Lr.prototype.Ab=function(){try{if(this.b)var e=this.I.getUint32(this.a,!0),t=this.I.getUint32(this.a+4,!0);else t=this.I.getUint32(this.a,!1),e=this.I.getUint32(this.a+4,!1)}catch(n){Dr()}if(2097151<t)throw new he(2,3,3001);return this.a+=8,t*Math.pow(2,32)+e},Lr.prototype.readUint64=Lr.prototype.Ab,Lr.prototype.Za=function(e){this.a+e>this.I.byteLength&&Dr();var t=new Uint8Array(this.I.buffer,this.I.byteOffset+this.a,e);return this.a+=e,t},Lr.prototype.readBytes=Lr.prototype.Za,Lr.prototype.M=function(e){this.a+e>this.I.byteLength&&Dr(),this.a+=e},Lr.prototype.skip=Lr.prototype.M,Lr.prototype.be=function(e){this.a<e&&Dr(),this.a-=e},Lr.prototype.rewind=Lr.prototype.be,Lr.prototype.seek=function(e){(0>e||e>this.I.byteLength)&&Dr(),this.a=e},Lr.prototype.seek=Lr.prototype.seek,Lr.prototype.gd=function(){for(var e=this.a;this.sa()&&0!=this.I.getUint8(this.a);)this.a+=1;return e=new Uint8Array(this.I.buffer,this.I.byteOffset+e,this.a-e),this.a+=1,rt(e)},Lr.prototype.readTerminatedString=Lr.prototype.gd,F("shaka.util.Mp4Parser",Nr),Nr.prototype.H=function(e,t){var n=Fr(e);return this.c[n]=0,this.b[n]=t,this},Nr.prototype.box=Nr.prototype.H,Nr.prototype.fa=function(e,t){var n=Fr(e);return this.c[n]=1,this.b[n]=t,this},Nr.prototype.fullBox=Nr.prototype.fa,Nr.prototype.stop=function(){this.a=!0},Nr.prototype.stop=Nr.prototype.stop,Nr.prototype.parse=function(e,t){var n=new Uint8Array(e);for(n=new Lr(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.sa()&&!this.a;)this.oc(0,n,t)},Nr.prototype.parse=Nr.prototype.parse,Nr.prototype.oc=function(e,t,n){var r=t.ba(),i=t.G(),a=t.G();switch(i){case 0:i=t.I.byteLength-r;break;case 1:i=t.Ab()}var o=this.b[a];if(o){var s=null,u=null;1==this.c[a]&&(s=(u=t.G())>>>24,u&=16777215),a=r+i,n&&a>t.I.byteLength&&(a=t.I.byteLength),a-=t.ba(),t=0<a?t.Za(a):new Uint8Array(0),o({parser:this,partialOkay:n||!1,version:s,flags:u,reader:t=new Lr(new DataView(t.buffer,t.byteOffset,t.byteLength),0),size:i,start:r+e})}else t.M(Math.min(r+i-t.ba(),t.I.byteLength-t.ba()))},Nr.prototype.parseNext=Nr.prototype.oc,Nr.children=jr,Nr.sampleDescription=Ur,Nr.allData=Br,Nr.typeToString=Hr,(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");var Vr={dc:function(e,t){var n=Vr.O(e,t);return 1!=n.length?null:n[0]},Kc:function(e,t,n){return 1!=(e=Vr.Dd(e,t,n)).length?null:e[0]},O:function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.tagName==t}))},Dd:function(e,t,n){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t}))},getAttributeNS:function(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null},fc:function(e){return Array.prototype.every.call(e.childNodes,(function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null},K:function(e,t,n,r){r=void 0===r?null:r;var i=null;return null!=(e=e.getAttribute(t))&&(i=n(e)),null==i?r:i},yf:function(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null},Da:function(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null},qc:function(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null},parseInt:function(e){return 0===(e=Number(e))%1?e:null},pc:function(e){return 0===(e=Number(e))%1&&0<e?e:null},xb:function(e){return 0===(e=Number(e))%1&&0<=e?e:null},parseFloat:function(e){return e=Number(e),isNaN(e)?null:e},Ce:function(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e},Wd:function(e,t){var n=new DOMParser;try{var r=n.parseFromString(e,"text/xml")}catch(a){}if(r&&r.documentElement.tagName==t)var i=r.documentElement;return i&&0<i.getElementsByTagName("parsererror").length?null:i},Vd:function(e,t){try{var n=rt(e);return Vr.Wd(n,t)}catch(r){}}},zr=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime");function Wr(e,t,n){var r=function(e){for(var t=[],n=(e=d(e)).next();!n.done;n=e.next())(n=Xr(n.value))&&t.push(n);return t}(e),i=null;e=[];var a=[],o=new Set(r.map((function(e){return e.keyId})));if(o.delete(null),1<o.size)throw new he(2,4,4010);if(n||(a=r.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.ce||(i=e.init||i,!1)}))).length&&(0==(e=function(e,t,n){for(var r=[],i=(n=d(n)).next();!i.done;i=n.next()){i=i.value;var a=zr.get(i.ce);if(a){var o;if(o=Vr.Kc(i.node,"urn:microsoft:playready","pro")){o=ct.Aa(o.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),u=o.length,l=s.length+16+u,c=new ArrayBuffer(l),f=new Uint8Array(c);c=new DataView(c);var h=0;c.setUint32(h,l),h+=4,c.setUint32(h,1886614376),h+=4,c.setUint32(h,0),h+=4,f.set(s,h),h+=s.length,c.setUint32(h,u),h+=4,f.set(o,h),o=[{initData:f,initDataType:"cenc",keyId:i.keyId}]}else o=null;o=Ft(a,i.init||e||o),(a=Kr.get(a))&&(o.licenseServerUri=a(i)),r.push(o)}else for(i=d(i=t(i.node)||[]),a=i.next();!a.done;a=i.next())r.push(a.value)}return r}(i,t,a)).length&&(e=[Ft("",i)])),r.length&&(n||!a.length))for(e=[],n=(t=d(zr.values())).next();!n.done;n=t.next())"org.w3.clearkey"!=(n=n.value)&&e.push(Ft(n,i));if(o=Array.from(o)[0]||null)for(n=(t=d(e)).next();!n.done;n=t.next())for(r=(n=d(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=o;return{Bd:o,rg:i,drmInfos:e,Ed:!0}}var qr,Kr=(new Map).set("com.widevine.alpha",(function(e){return(e=Vr.Kc(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",(function(e){return(e=Vr.Kc(e.node,"urn:microsoft:playready","pro"))&&(e=function(e){var t=0,n=new DataView(e).getUint32(t,!0);if(n!==e.byteLength)return[];t+=6,n=[];for(var r=new DataView(e);t<e.byteLength-1;){var i=r.getUint16(t,!0);t+=2;var a=r.getUint16(t,!0);t+=2;var o=new Uint8Array(e,t,a);n.push({type:i,value:o}),t+=a}return n}((e=ct.Aa(e.textContent)).buffer).filter((function(e){return 1===e.type}))[0])?(e=it(e.value,!0),(e=Vr.Wd(e,"WRMHEADER"))?function(e){return(e=e.querySelector("DATA > LA_URL"))?e.textContent:""}(e):""):""}));function Xr(e){var t=e.getAttribute("schemeIdUri"),n=Vr.getAttributeNS(e,"urn:mpeg:cenc:2013","default_KID"),r=Vr.Dd(e,"urn:mpeg:cenc:2013","pssh").map(Vr.fc);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new he(2,4,4009);var i=[];try{i=r.map((function(e){return{initDataType:"cenc",initData:ct.Aa(e),keyId:null}}))}catch(a){throw new he(2,4,4007)}return{node:e,ce:t,keyId:n,init:0<i.length?i:null}}function Yr(t,n,r,i,a){var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,r,i){if("$$"==t)return"$";var a=o[n];if(null==a)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t}))}function $r(e,t){var n=Jr(e,t,"timescale"),r=1;n&&(r=Vr.pc(n)||1),n=Jr(e,t,"duration"),(n=Vr.pc(n||""))&&(n/=r);var i=Jr(e,t,"startNumber"),a=Number(Jr(e,t,"presentationTimeOffset"))||0,o=Vr.xb(i||"");null!=i&&null!=o||(o=1);var s=Qr(e,t,"SegmentTimeline");if(i=null,s){i=r;var u=e.S.duration||1/0;s=Vr.O(s,"S");for(var l=[],c=0,d=0;d<s.length;++d){var f=s[d],h=Vr.K(f,"t",Vr.xb),p=Vr.K(f,"d",Vr.xb);if(f=Vr.K(f,"r",Vr.parseInt),null!=h&&(h-=a),!p)break;if(h=null!=h?h:c,0>(f=f||0))if(d+1<s.length){if(null==(f=Vr.K(s[d+1],"t",Vr.xb)))break;if(h>=f)break;f=Math.ceil((f-h)/p)-1}else{if(1/0==u)break;if(h/i>=u)break;f=Math.ceil((u*i-h)/p)-1}0<l.length&&h!=c&&(l[l.length-1].end=h/i);for(var m=0;m<=f;++m)c=h+p,l.push({start:h/i,end:c/i,hg:h}),h=c}i=l}return{timescale:r,Z:n,ab:o,ma:a/r||0,yd:a,N:i}}function Jr(e,t,n){return[t(e.C),t(e.ca),t(e.ka)].filter(Ut.Ia).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))}function Qr(e,t,n){return[t(e.C),t(e.ca),t(e.ka)].filter(Ut.Ia).map((function(e){return Vr.dc(e,n)})).reduce((function(e,t){return e||t}))}function Zr(e,t,n,r,i,a){if(a=void 0===a?0:a,Vr.getAttributeNS(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,r,i,a){for(var o=Vr.getAttributeNS(e,"http://www.w3.org/1999/xlink","href"),s=Vr.getAttributeNS(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=0;u<e.attributes.length;u++){var l=e.attributes[u];"http://www.w3.org/1999/xlink"==l.namespaceURI&&(e.removeAttributeNS(l.namespaceURI,l.localName),--u)}if(5<=a)return ge(new he(2,4,4028));if("onLoad"!=s)return ge(new he(2,4,4027));var c=Bt([r],[o]);return i.request(0,Me(c,t)).U((function(r){if(!(r=Vr.Vd(r.data,e.tagName)))return ge(new he(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),e.appendChild(s)}for(s=0;s<r.attributes.length;s++){var u=r.attributes[s].nodeName,l=r.getAttribute(u);e.setAttribute(u,l)}return Zr(e,t,n,c[0],i,a+1)}))}(e,t,n,r,i,a);return n&&(o=o.U(void 0,(function(){return Zr(e,t,n,r,i,a)}))),o}o=[];for(var s=0;s<e.childNodes.length;s++){var u=e.childNodes[s];u instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==Vr.getAttributeNS(u,"http://www.w3.org/1999/xlink","href")?(e.removeChild(u),--s):"SegmentTimeline"!=u.tagName&&o.push(Zr(u,t,n,r,i,a)))}return _e(o).U((function(){return e}))}function ei(e,t,n){this.c=e,this.b=t,this.a=n}function ti(e,t,n,r,i,a){this.position=e,this.startTime=t,this.endTime=n,this.c=r,this.b=i,this.a=a}function ni(e,t,n,r){var i,a=(new Nr).fa("sidx",(function(e){i=function(e,t,n,r){var i=[];r.reader.M(4);var a=r.reader.G();if(0==a)throw new he(2,3,3005);if(0==r.version)var o=r.reader.G(),s=r.reader.G();else o=r.reader.Ab(),s=r.reader.Ab();r.reader.M(2);var u=r.reader.Qb();for(e=e+r.size+s,s=0;s<u;s++){var l=r.reader.G(),c=(2147483648&l)>>>31;l&=2147483647;var d=r.reader.G();if(r.reader.M(4),1==c)throw new he(2,3,3006);i.push(new ti(i.length,o/a-t,(o+d)/a-t,(function(){return n}),e,e+l-1)),o+=d,e+=l}return r.parser.stop(),i}(t,r,n,e)}));if(e&&a.parse(e),i)return i;throw new he(2,3,3004)}function ri(e){this.a=e}function ii(e,t){for(;e.a.length&&e.a[e.a.length-1].startTime>=t;)e.a.pop();for(;e.a.length&&0>=e.a[0].endTime;)e.a.shift();if(0!=e.a.length){var n=e.a[e.a.length-1];e.a[e.a.length-1]=new ti(n.position,n.startTime,t,n.c,n.b,n.a)}}function ai(e){this.b=e,this.a=new Lr(e,0),qr||(qr=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function oi(e){var t=si(e);if(7<t.length)throw new he(2,3,3002);for(var n=0,r=0;r<t.length;r++)n=256*n+t[r];t=n,n=si(e);e:{r=ct.ya;for(var i=0;i<qr.length;i++)if(r(n,qr[i])){r=!0;break e}r=!1}if(r)n=e.b.byteLength-e.a.ba();else{if(8==n.length&&224&n[1])throw new he(2,3,3001);for(r=n[0]&(1<<8-n.length)-1,i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=e.a.ba()+n<=e.b.byteLength?n:e.b.byteLength-e.a.ba(),r=new DataView(e.b.buffer,e.b.byteOffset+e.a.ba(),n),e.a.M(n),new ui(t,r)}function si(e){var t,n=e.a.la();for(t=1;8>=t&&!(n&1<<8-t);t++);if(8<t)throw new he(2,3,3002);var r=new Uint8Array(t);for(r[0]=n,n=1;n<t;n++)r[n]=e.a.la();return r}function ui(e,t){this.id=e,this.a=t}function li(e){if(8<e.a.byteLength)throw new he(2,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new he(2,3,3001);for(var t=0,n=0;n<e.a.byteLength;n++){t=256*t+e.a.getUint8(n)}return t}function ci(){}function di(e){var t=new ai(e.a);if(179!=(e=oi(t)).id)throw new he(2,3,3013);if(e=li(e),183!=(t=oi(t)).id)throw new he(2,3,3012);t=new ai(t.a);for(var n=0;t.sa();){var r=oi(t);if(241==r.id){n=li(r);break}}return{ig:e,Gf:n}}function fi(e,t){var n=Qr(e,t,"Initialization");if(!n)return null;var r=e.C.pa,i=n.getAttribute("sourceURL");i&&(r=Bt(e.C.pa,[i])),i=0;var a=null;return(n=Vr.K(n,"range",Vr.qc))&&(i=n.start,a=n.end),new ei((function(){return r}),i,a)}function hi(e,t,n,r,i,a,o,s){var u=e.presentationTimeline,l=!e.mb||!e.S.Vc,c=e.S.start,d=e.S.duration,f=t,h=null;return{createSegmentIndex:function(){var e=[f(r,i,a),"webm"==o?f(n.c(),n.b,n.a):null];return f=null,Promise.all(e).then((function(e){var t=e[0];e=e[1]||null,t="mp4"==o?ni(t,i,r,s):(new ci).parse(t,e,r,s),u.ub(t,c),h=new ri(t),l&&ii(h,d)}))},findSegmentPosition:function(e){return h.find(e)},getSegmentReference:function(e){return h.get(e)}}}function pi(e){return e.Rb}function mi(e,t){var n=fi(e,gi),r=function(e){return[e.C.La,e.ca.La,e.ka.La].filter(Ut.Ia).map((function(e){return Vr.O(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.Id&&(e.Id=!0),{ff:t.getAttribute("media"),start:(t=Vr.K(t,"mediaRange",Vr.qc,{start:0,end:null})).start,end:t.end}}))}(e),i=$r(e,gi),a=i.ab;0==a&&(a=1);var o=0;if(i.Z?o=i.Z*(a-1):i.N&&0<i.N.length&&(o=i.N[0].start),!(r={Z:i.Z,startTime:o,ab:a,ma:i.ma,N:i.N,sb:r}).Z&&!r.N&&1<r.sb.length)throw new he(2,4,4002);if(!r.Z&&!e.S.duration&&!r.N&&1==r.sb.length)throw new he(2,4,4002);if(r.N&&0==r.N.length)throw new he(2,4,4002);return a=i=null,e.ka.id&&e.C.id&&(i=t[a=e.ka.id+","+e.C.id]),o=function(e,t,n,r){var i=r.sb.length;r.N&&r.N.length!=r.sb.length&&(i=Math.min(r.N.length,r.sb.length));for(var a=[],o=r.startTime,s=0;s<i;s++){var u,l=r.sb[s],c=Bt(n,[l.ff]);u=null!=r.Z?o+r.Z:r.N?r.N[s].end:o+e,a.push(new ti(s+t,o,u,function(e){return e}.bind(null,c),l.start,l.end)),o=u}return a}(e.S.duration,r.ab,e.C.pa,r),i?(i.Yc(o),a=e.presentationTimeline.Lb(),i.Hc(a-e.S.start)):(e.presentationTimeline.ub(o,e.S.start),i=new ri(o),a&&e.mb&&(t[a]=i)),e.mb&&e.S.Vc||ii(i,e.S.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:n,ma:r.ma}}function gi(e){return e.La}function vi(e,t,n,r){var i=function(e){var t=Jr(e,yi,"initialization");if(!t)return null;var n=e.C.id,r=e.bandwidth||null,i=e.C.pa;return new ei((function(){var e=Yr(t,n,null,r,null);return Bt(i,[e])}),0,null)}(e),a=$r(e,yi),o=Jr(e,yi,"media"),s=Jr(e,yi,"index");if(o=(a={Z:a.Z,timescale:a.timescale,ab:a.ab,ma:a.ma,yd:a.yd,N:a.N,Xc:o,Nb:s}).Nb?1:0,o+=a.N?1:0,0==(o+=a.Z?1:0))throw new he(2,4,4002);if(1!=o&&(a.Nb&&(a.N=null),a.Z=null),!a.Nb&&!a.Xc)throw new he(2,4,4002);if(a.Nb){if("mp4"!=(n=e.C.mimeType.split("/")[1])&&"webm"!=n)throw new he(2,4,4006);if("webm"==n&&!i)throw new he(2,4,4005);r=Yr(a.Nb,e.C.id,null,e.bandwidth||null,null),e=hi(e,t,i,r=Bt(e.C.pa,[r]),0,null,n,a.ma)}else a.Z?(r||(e.presentationTimeline.$c(a.Z),e.presentationTimeline.ad(e.S.start)),e=function(e,t){var n=e.S.duration,r=t.Z,i=t.ab,a=t.timescale,o=t.Xc,s=e.bandwidth||null,u=e.C.id,l=e.C.pa;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0>e||n&&e>=n?null:Math.floor(e/r)},getSegmentReference:function(e){var t=e*r,c=t+r;return n&&(c=Math.min(c,n)),0>c||n&&t>=n?null:new ti(e,t,c,(function(){var n=Yr(o,u,e+i,s,t*a);return Bt(l,[n])}),0,null)}}}(e,a)):(o=t=null,e.ka.id&&e.C.id&&(t=n[o=e.ka.id+","+e.C.id]),s=function(e,t){for(var n=[],r=0;r<t.N.length;r++){var i=r+t.ab;n.push(new ti(i,t.N[r].start,t.N[r].end,function(e,t,n,r,i,a){return Bt(r,[e=Yr(e,t,i,n,a)]).map((function(e){return e.toString()}))}.bind(null,t.Xc,e.C.id,e.bandwidth||null,e.C.pa,i,t.N[r].hg+t.yd),0,null))}return n}(e,a),r=!e.mb||!e.S.Vc,t?(r&&ii(new ri(s),e.S.duration),t.Yc(s),n=e.presentationTimeline.Lb(),t.Hc(n-e.S.start)):(e.presentationTimeline.ub(s,e.S.start),t=new ri(s),o&&e.mb&&(n[o]=t)),r&&ii(t,e.S.duration),e={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t)});return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,initSegmentReference:i,ma:a.ma}}function yi(e){return e.Tb}F("shaka.media.InitSegmentReference",ei),ei.prototype.Ec=function(){return this.c()},ei.prototype.createUris=ei.prototype.Ec,ei.prototype.Qc=function(){return this.b},ei.prototype.getStartByte=ei.prototype.Qc,ei.prototype.Pc=function(){return this.a},ei.prototype.getEndByte=ei.prototype.Pc,F("shaka.media.SegmentReference",ti),ti.prototype.ba=function(){return this.position},ti.prototype.getPosition=ti.prototype.ba,ti.prototype.Rc=function(){return this.startTime},ti.prototype.getStartTime=ti.prototype.Rc,ti.prototype.Ie=function(){return this.endTime},ti.prototype.getEndTime=ti.prototype.Ie,ti.prototype.Ec=function(){return this.c()},ti.prototype.createUris=ti.prototype.Ec,ti.prototype.Qc=function(){return this.b},ti.prototype.getStartByte=ti.prototype.Qc,ti.prototype.Pc=function(){return this.a},ti.prototype.getEndByte=ti.prototype.Pc,F("shaka.media.SegmentIndex",ri),ri.prototype.destroy=function(){return this.a=null,Promise.resolve()},ri.prototype.destroy=ri.prototype.destroy,ri.prototype.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return this.a.length&&e<this.a[0].startTime?this.a[0].position:null},ri.prototype.find=ri.prototype.find,ri.prototype.get=function(e){return 0==this.a.length||0>(e-=this.a[0].position)||e>=this.a.length?null:this.a[e]},ri.prototype.get=ri.prototype.get,ri.prototype.offset=function(e){for(var t=0;t<this.a.length;++t)this.a[t].startTime+=e,this.a[t].endTime+=e},ri.prototype.offset=ri.prototype.offset,ri.prototype.Yc=function(e){for(var t=[],n=0,r=0;n<this.a.length&&r<e.length;){var i=this.a[n],a=e[r];i.startTime<a.startTime?(t.push(i),n++):(i.startTime>a.startTime?0==n&&t.push(a):(.1<Math.abs(i.endTime-a.endTime)?t.push(new ti(i.position,a.startTime,a.endTime,a.c,a.b,a.a)):t.push(i),n++),r++)}for(;n<this.a.length;)t.push(this.a[n++]);if(t.length)for(n=t[t.length-1].position+1;r<e.length;)i=new ti(n++,(i=e[r++]).startTime,i.endTime,i.c,i.b,i.a),t.push(i);else t=e;this.a=t},ri.prototype.merge=ri.prototype.Yc,ri.prototype.Hc=function(e){for(var t=0;t<this.a.length;++t)if(this.a[t].endTime>e)return void this.a.splice(0,t);this.a=[]},ri.prototype.evict=ri.prototype.Hc,ai.prototype.sa=function(){return this.a.sa()},ci.prototype.parse=function(e,t,n,r){var i;if(440786851!=oi(t=new ai(new DataView(t))).id)throw new he(2,3,3008);var a=oi(t);if(408125543!=a.id)throw new he(2,3,3009);for(t=a.a.byteOffset,a=new ai(a.a),i=null;a.sa();){var o=oi(a);if(357149030==o.id){i=o;break}}if(!i)throw new he(2,3,3010);for(a=new ai(i.a),i=1e6,o=null;a.sa();){var s=oi(a);if(2807729==s.id)i=li(s);else if(17545==s.id)if(4==(o=s).a.byteLength)o=o.a.getFloat32(0);else{if(8!=o.a.byteLength)throw new he(2,3,3003);o=o.a.getFloat64(0)}}if(null==o)throw new he(2,3,3011);if(i=o*(a=i/1e9),475249515!=(e=oi(new ai(new DataView(e)))).id)throw new he(2,3,3007);return function(e,t,n,r,i,a){function o(){return i}var s=[];e=new ai(e.a);for(var u=null,l=null;e.sa();){var c=oi(e);if(187==c.id){var d=di(c);d&&(c=n*d.ig,d=t+d.Gf,null!=u&&s.push(new ti(s.length,u-a,c-a,o,l,d-1)),u=c,l=d)}}return null!=u&&s.push(new ti(s.length,u-a,r-a,o,l,null)),s}(e,t,a,i,n,r)};var bi={yb:{},Pb:{},kd:function(e,t){bi.Pb[e]=t}};function _i(e,t,n){this.f=e,this.rc=t,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.l=0,this.m=!0,this.i=0,this.s=void 0===n||n}function wi(e,t,n,r){return e=Me(e,r),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Ti(){var e=this;this.b=this.a=null,this.f=[],this.c=null,this.l=[],this.h=1,this.m={},this.s=0,this.v=new G(5),this.i=new ce((function(){!function(e){h((function t(){var n,r;return M(t,(function(t){switch(t.j){case 1:return n=0,E(t,2),T(t,Si(e),4);case 4:n=t.o,x(t,3);break;case 2:r=C(t),e.b&&(r.severity=1,e.b.onError(r));case 3:if(!e.b)return t.return();Ci(e,n),S(t)}}))}))}(e)})),this.g=new Oe}function Si(e){var t=Date.now(),n=e.b.networkingEngine.request(0,Me(e.f,e.a.retryParameters));return Re(e.g,n),n.promise.then((function(t){if(e.b)return t.uri&&!e.f.includes(t.uri)&&e.f.unshift(t.uri),function(e,t,n){if(!(t=Vr.Vd(t,"MPD")))throw new he(2,4,4001,n);return t=Zr(t,e.a.retryParameters,e.a.dash.xlinkFailGracefully,n,e.b.networkingEngine),Re(e.g,t),t.promise.then((function(t){return function(e,t,n){return h((function r(){var i,a,o,s,u,l,c,d,f,h,p,m,g,v,y,b,_,w,E,k,x,C,A;return M(r,(function(r){switch(r.j){case 1:s=Ut,l=[n],0<(c=(u=Vr).O(t,"Location").map(u.fc).filter(s.Ia)).length&&(d=Bt(l,c),l=e.f=d),f=u.O(t,"BaseURL").map(u.fc),h=Bt(l,f),p=e.a.dash.ignoreMinBufferTime,m=0,p||(m=u.K(t,"minBufferTime",u.Da)),e.s=u.K(t,"minimumUpdatePeriod",u.Da,-1),g=u.K(t,"availabilityStartTime",u.yf),v=u.K(t,"timeShiftBufferDepth",u.Da),y=u.K(t,"suggestedPresentationDelay",u.Da),b=u.K(t,"maxSegmentDuration",u.Da),_=t.getAttribute("type")||"static",e.c?w=e.c.presentationTimeline:(E=Math.max(e.a.dash.defaultPresentationDelay,1.5*m),w=new _i(g,null!=y?y:E,e.a.dash.autoCorrectDrift));for(var O={mb:"static"!=_,presentationTimeline:w,ka:null,S:null,ca:null,C:null,bandwidth:0,Id:!1},R=h,P=Vr.K(t,"mediaPresentationDuration",Vr.Da),I=[],L=0,M=Vr.O(t,"Period"),D=0;D<M.length;D++){var N=M[D];L=Vr.K(N,"start",Vr.Da,L);var j=Vr.K(N,"duration",Vr.Da),U=null;if(D!=M.length-1){var B=Vr.K(M[D+1],"start",Vr.Da);null!=B&&(U=B-L)}else null!=P&&(U=P-L);if(null==U&&(U=j),N=Ei(e,O,R,{start:L,duration:U,node:N,Vc:null==U||D==M.length-1}),I.push(N),j=O.ka.id,e.l.includes(j)||(e.l.push(j),e.c&&(e.b.filterNewPeriod(N),e.c.periods.push(N))),null==U){L=null;break}L+=U}if(null==e.c&&e.b.filterAllPeriods(I),null!=P?(i=I,a=P,o=!1):(i=I,a=L,o=!0),k=a,x=i,w.Ub("static"==_),"static"!=_&&o||w.wa(k||1/0),w.V()&&!isNaN(e.a.availabilityWindowOverride)&&(v=e.a.availabilityWindowOverride),null==v&&(v=1/0),w.sd(v),w.$c(b||1),e.c){r.A(0);break}if(e.c={presentationTimeline:w,periods:x,offlineSessionIds:[],minBufferTime:m||0},!w.je()){r.A(0);break}return C=u.O(t,"UTCTiming"),T(r,function(e,t,n){n=n.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}}));var r=e.a.dash.clockSyncUri;return!n.length&&r&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),Ut.Ae(n,function(e){var n=e.scheme;switch(e=e.value,n){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Oi(this,t,e,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Oi(this,t,e,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return n=Date.parse(e),isNaN(n)?0:n-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return K("NTP UTCTiming scheme is not supported"),Promise.reject();default:return K("Unrecognized scheme in UTCTiming element",n),Promise.reject()}}.bind(e)).catch((function(){return K("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),0}))}(e,h,C),4);case 4:if(A=r.o,!e.b)return r.return();w.ee(A),S(r)}}))}))}(e,t,n)}))}(e,t.data,t.uri)})).then((function(){var n=(Date.now()-t)/1e3;return V(e.v,1,n),n}))}function Ei(e,t,n,r){if(t.ka=Ai(r.node,null,n),t.S=r,t.ka.id||(t.ka.id="__shaka_period_"+r.start),Vr.O(r.node,"EventStream").forEach(e.zf.bind(e,r.start,r.duration)),n=Vr.O(r.node,"AdaptationSet").map(e.xf.bind(e,t)).filter(Ut.Ia),t.mb){t=[];for(var i=d(n),a=i.next();!a.done;a=i.next())for(var o=(a=d(a.value.Jf)).next();!o.done;o=a.next())t.push(o.value);if(t.length!=new Set(t).size)throw new he(2,4,4018)}var s=n.filter((function(e){return!e.wd}));if(n.filter((function(e){return e.wd})).forEach((function(e){var t=e.streams[0],n=e.wd;s.forEach((function(e){e.id==n&&e.streams.forEach((function(e){e.trickModeVideo=t}))}))})),t=ki(s,"video"),i=ki(s,"audio"),!t.length&&!i.length)throw new he(2,4,4004);for(n=e.a.disableAudio,i.length&&!n||(i=[null]),t.length||(t=[null]),n=[],a=0;a<i.length;a++)for(o=0;o<t.length;o++)xi(e,i[a],t[o],n);for(e=ki(s,"text"),t=[],i=0;i<e.length;i++)t.push.apply(t,e[i].streams);return{startTime:r.start,textStreams:t,variants:n}}function ki(e,t){return e.filter((function(e){return e.contentType==t}))}function xi(e,t,n,r){if(t||n)if(t&&n){var i=t.drmInfos,a=n.drmInfos;if(!i.length||!a.length||0<Ct(i,a).length){a=Ct(t.drmInfos,n.drmInfos);for(var o=0;o<t.streams.length;o++)for(var s=0;s<n.streams.length;s++)i=(n.streams[s].bandwidth||0)+(t.streams[o].bandwidth||0),i={id:e.h++,language:t.language,primary:t.Wc||n.Wc,audio:t.streams[o],video:n.streams[s],bandwidth:i,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}}else for(a=t||n,o=0;o<a.streams.length;o++)i=a.streams[o].bandwidth||0,i={id:e.h++,language:a.language||"und",primary:a.Wc,audio:t?a.streams[o]:null,video:n?a.streams[o]:null,bandwidth:i,drmInfos:a.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}function Ci(e,t){0>e.s||e.i.P(Math.max(3,e.s-t,z(e.v)))}function Ai(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,bd:null},n=n||t.pa;var r=Vr.xb,i=Vr.Ce,a=Vr.O(e,"BaseURL").map(Vr.fc),o=e.getAttribute("contentType")||t.contentType,s=e.getAttribute("mimeType")||t.mimeType,u=e.getAttribute("codecs")||t.codecs;i=Vr.K(e,"frameRate",i)||t.frameRate;for(var l=Vr.O(e,"InbandEventStream"),c=t.emsgSchemeIdUris.slice(),f=(l=d(l)).next();!f.done;f=l.next())f=f.value.getAttribute("schemeIdUri"),c.includes(f)||c.push(f);return l=function(e){for(var t=0;t<e.length;++t){var n=e[t],r=n.getAttribute("schemeIdUri");if(r&&(n=n.getAttribute("value")))switch(r){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(r=parseInt(n,10)))continue;return r;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(r=parseInt(n,16)){for(e=0;r;)1&r&&++e,r>>=1;return e}}}return null}(l=Vr.O(e,"AudioChannelConfiguration"))||t.bd,o||(o=Ri(s,u)),{pa:Bt(n,a),Rb:Vr.dc(e,"SegmentBase")||t.Rb,La:Vr.dc(e,"SegmentList")||t.La,Tb:Vr.dc(e,"SegmentTemplate")||t.Tb,width:Vr.K(e,"width",r)||t.width,height:Vr.K(e,"height",r)||t.height,contentType:o,mimeType:s,codecs:u,frameRate:i,emsgSchemeIdUris:c,id:e.getAttribute("id"),bd:l}}function Oi(e,t,n,r){return(t=Me(t=Bt(t,[n]),e.a.retryParameters)).method=r,t=e.b.networkingEngine.request(4,t),Re(e.g,t),t.promise.then((function(e){if("HEAD"==r){if(!e.headers||!e.headers.date)return 0;e=e.headers.date}else e=rt(e.data);return e=Date.parse(e),isNaN(e)?0:e-Date.now()}))}function Ri(e,t){return dn(Ye(e,t))?"text":e.split("/")[0]}function Pi(e,t,n,r){this.b=e,this.type=t,this.a=n,this.segments=r||null}function Ii(e,t,n,r){this.id=e,this.name=t,this.a=n,this.value=void 0===r?null:r}function Li(e,t){this.name=e,this.value=t}function Mi(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function Di(e,t){this.b=t,this.a=e}F("shaka.media.ManifestParser.registerParserByExtension",bi.kd),bi.Bb=function(e,t){bi.yb[e]=t},F("shaka.media.ManifestParser.registerParserByMime",bi.Bb),bi.Df=function(){var e={};if(Qe()){for(var t in bi.yb)e[t]=!0;for(var n in bi.Pb)e[n]=!0}t={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var r=(n=d(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!r.done;r=n.next())e[r=r.value]=Qe()?!!bi.yb[r]:Ze(r);for(var i in t)e[i]=Qe()?!!bi.Pb[i]:Ze(t[i]);return e},bi.create=function(e,t,n,r){return h((function i(){var a,o;return M(i,(function(i){switch(i.j){case 1:return E(i,2),T(i,bi.Je(e,t,n,r),4);case 4:return a=i.o,i.return(new a);case 2:throw(o=C(i)).severity=2,o}}))}))},bi.Je=function(e,t,n,r){return h((function i(){var a,o,s,u,l;return M(i,(function(i){switch(i.j){case 1:if(a=bi,r&&(o=a.yb[r.toLowerCase()]))return i.return(o);if((s=a.getExtension(e))&&(u=a.Pb[s]))return i.return(u);if(r){i.A(2);break}return T(i,a.Re(e,t,n),3);case 3:if((r=i.o)&&(l=bi.yb[r]))return i.return(l);case 2:throw new he(2,4,4e3,e)}}))}))},bi.Re=function(e,t,n){return h((function r(){var i,a,o;return M(r,(function(r){switch(r.j){case 1:return(i=Me([e],n)).method="HEAD",T(r,t.request(0,i).promise,2);case 2:return a=r.o,o=a.headers["content-type"],r.return(o?o.toLowerCase().split(";").shift():"")}}))}))},bi.getExtension=function(e){return 1==(e=new $(e).ja.split("/").pop().split(".")).length?"":e.pop().toLowerCase()},bi.isSupported=function(e,t){return!!Qe()&&(t in bi.yb||bi.getExtension(e)in bi.Pb)},F("shaka.media.PresentationTimeline",_i),_i.prototype.Y=function(){return this.g},_i.prototype.getDuration=_i.prototype.Y,_i.prototype.Pe=function(){return this.a},_i.prototype.getMaxSegmentDuration=_i.prototype.Pe,_i.prototype.wa=function(e){this.g=e},_i.prototype.setDuration=_i.prototype.wa,_i.prototype.We=function(){return this.f},_i.prototype.getPresentationStartTime=_i.prototype.We,_i.prototype.ee=function(e){this.l=e},_i.prototype.setClockOffset=_i.prototype.ee,_i.prototype.Ub=function(e){this.m=e},_i.prototype.setStatic=_i.prototype.Ub,_i.prototype.sd=function(e){this.h=e},_i.prototype.setSegmentAvailabilityDuration=_i.prototype.sd,_i.prototype.Tf=function(e){this.rc=e},_i.prototype.setDelay=_i.prototype.Tf,_i.prototype.He=function(){return this.rc},_i.prototype.getDelay=_i.prototype.He,_i.prototype.ub=function(e,t){if(0!=e.length){var n=e[e.length-1].endTime+t;this.ad(e[0].startTime+t),this.a=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.a),this.b=Math.max(this.b,n),null!=this.f&&this.s&&(this.f=(Date.now()+this.l)/1e3-this.b-this.a)}},_i.prototype.notifySegments=_i.prototype.ub,_i.prototype.ad=function(e){this.c=null==this.c?e:Math.min(this.c,e)},_i.prototype.notifyMinSegmentStartTime=_i.prototype.ad,_i.prototype.$c=function(e){this.a=Math.max(this.a,e)},_i.prototype.notifyMaxSegmentDuration=_i.prototype.$c,_i.prototype.offset=function(e){null!=this.c&&(this.c+=e),null!=this.b&&(this.b+=e)},_i.prototype.offset=_i.prototype.offset,_i.prototype.V=function(){return 1/0==this.g&&!this.m},_i.prototype.isLive=_i.prototype.V,_i.prototype.Xa=function(){return 1/0!=this.g&&!this.m},_i.prototype.isInProgress=_i.prototype.Xa,_i.prototype.Lb=function(){if(1/0==this.h)return this.i;var e=this.pb()-this.h;return Math.max(this.i,e)},_i.prototype.getSegmentAvailabilityStart=_i.prototype.Lb,_i.prototype.fe=function(e){this.i=e},_i.prototype.setUserSeekStart=_i.prototype.fe,_i.prototype.pb=function(){return this.V()||this.Xa()?Math.min(Math.max(0,(Date.now()+this.l)/1e3-this.a-this.f),this.g):this.g},_i.prototype.getSegmentAvailabilityEnd=_i.prototype.pb,_i.prototype.Kb=function(e){var t=Math.max(this.c,this.i);if(1/0==this.h)return t;var n=this.pb()-this.h;return e=Math.min(n+e,this.Ba()),Math.max(t,e)},_i.prototype.getSafeSeekRangeStart=_i.prototype.Kb,_i.prototype.ob=function(){return this.Kb(0)},_i.prototype.getSeekRangeStart=_i.prototype.ob,_i.prototype.Ba=function(){var e=this.V()||this.Xa()?this.rc:0;return Math.max(0,this.pb()-e)},_i.prototype.getSeekRangeEnd=_i.prototype.Ba,_i.prototype.je=function(){return null!=this.f&&null==this.b},_i.prototype.usingPresentationStartTime=_i.prototype.je,F("shaka.dash.DashParser",Ti),(n=Ti.prototype).configure=function(e){this.a=e},n.start=function(e,t){var n=this;return h((function r(){var i;return M(r,(function(r){switch(r.j){case 1:return n.f=[e],n.b=t,T(r,Si(n),2);case 2:if(i=r.o,n.b&&Ci(n,i),!n.b)throw new he(2,7,7001);return r.return(n.c)}}))}))},n.stop=function(){return this.a=this.b=null,this.f=[],this.c=null,this.l=[],this.m={},null!=this.i&&(this.i.stop(),this.i=null),this.g.destroy()},n.update=function(){Si(this).catch(function(e){this.b&&this.b.onError(e)}.bind(this))},n.onExpirationUpdated=function(){},n.xf=function(e,t){e.ca=Ai(t,e.ka,null);var n=!1,r=Vr.O(t,"Role"),i=r.map((function(e){return e.getAttribute("value")})).filter(Ut.Ia),a=void 0,o="text"==e.ca.contentType;o&&(a="subtitle");for(var s=0;s<r.length;s++){var u=r[s].getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(u=r[s].getAttribute("value"),u){case"main":n=!0;break;case"caption":case"subtitle":a=u}}var l=null,c=!1;Vr.O(t,"EssentialProperty").forEach((function(e){"http://dashif.org/guidelines/trickmode"==e.getAttribute("schemeIdUri")?l=e.getAttribute("value"):c=!0})),s=Vr.O(t,"Accessibility");var f=new Map;for(r={},u=(s=d(s)).next();!u.done;r={Gb:r.Gb},u=s.next()){var h=u.value;u=h.getAttribute("schemeIdUri"),h=h.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==u||"urn:scte:dash:cc:cea-708:2015"==u?(r.Gb=1,null!=h?h.split(";").forEach(function(e){return function(t){if(t.includes("=")){var n=(t=t.split("="))[0].startsWith("CC")?t[0]:"CC"+t[0];t=t[1].split(",")[0].split(":").pop()}else n="CC"+e.Gb,e.Gb+=2;f.set(n,On(t))}}(r)):f.set("CC1","und")):"urn:mpeg:dash:role:2011"==u&&null!=h&&(i.push(h),"captions"==h&&(a="caption"))}if(c)return null;var p=Wr(r=Vr.O(t,"ContentProtection"),this.a.dash.customScheme,this.a.dash.ignoreDrmInfo);if(r=On(t.getAttribute("lang")||"und"),s=t.getAttribute("label"),(u=Vr.O(t,"Label"))&&u.length&&((u=u[0]).textContent&&(s=u.textContent)),0==(i=(u=Vr.O(t,"Representation")).map(this.Af.bind(this,e,p,a,r,s,n,i,f)).filter((function(e){return!!e}))).length){if(o)return null;throw new he(2,4,4003)}return e.ca.contentType&&"application"!=e.ca.contentType||(e.ca.contentType=Ri(i[0].mimeType,i[0].codecs),i.forEach((function(t){t.type=e.ca.contentType}))),i.forEach((function(e){p.drmInfos.forEach((function(t){e.keyId&&t.keyIds.push(e.keyId)}))})),o=u.map((function(e){return e.getAttribute("id")})).filter(Ut.Ia),{id:e.ca.id||"__fake__"+this.h++,contentType:e.ca.contentType,language:r,Wc:n,streams:i,drmInfos:p.drmInfos,wd:l,Jf:o}},n.Af=function(e,t,n,r,i,a,o,s,u){if(e.C=Ai(u,e.ca,null),!function(e){var t=e.Rb?1:0;return t+=e.La?1:0,0==(t+=e.Tb?1:0)?"text"==e.contentType||"application"==e.contentType:(1!=t&&(e.Rb&&(e.La=null),e.Tb=null),!0)}(e.C))return null;e.bandwidth=Vr.K(u,"bandwidth",Vr.pc)||0;var l=e.C.contentType;l="text"==l||"application"==l;try{var c=this.Kf.bind(this);if(e.C.Rb)var d=function(e,t){var n=Number(Jr(e,pi,"presentationTimeOffset"))||0,r=Jr(e,pi,"timescale"),i=1;r&&(i=Vr.pc(r)||1),n=n/i||0,r=fi(e,pi);var a=e.C.contentType;if(i=e.C.mimeType.split("/")[1],"text"!=a&&"mp4"!=i&&"webm"!=i)throw new he(2,4,4006);if("webm"==i&&!r)throw new he(2,4,4005);a=Qr(e,pi,"RepresentationIndex");var o=Jr(e,pi,"indexRange"),s=e.C.pa;if(o=Vr.qc(o||""),a){var u=a.getAttribute("sourceURL");u&&(s=Bt(e.C.pa,[u])),o=Vr.K(a,"range",Vr.qc,o)}if(!o)throw new he(2,4,4002);return{createSegmentIndex:(i=hi(e,t,r,s,o.start,o.end,i,n)).createSegmentIndex,findSegmentPosition:i.findSegmentPosition,getSegmentReference:i.getSegmentReference,initSegmentReference:r,ma:n}}(e,c);else if(e.C.La)d=mi(e,this.m);else if(e.C.Tb)d=vi(e,c,this.m,!!this.c);else{var f=e.C.pa,h=e.S.duration||0;d={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0<=e&&e<h?1:null},getSegmentReference:function(e){return 1!=e?null:new ti(1,0,h,(function(){return f}),0,null)},initSegmentReference:null,ma:0}}}catch(p){if(l&&4002==p.code)return null;throw p}return u=function(e,t,n,r){var i=Wr(e,t,r);if(n.Ed)e=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,t=0==i.drmInfos.length,(0==n.drmInfos.length||e&&!t)&&(n.drmInfos=i.drmInfos),n.Ed=!1;else if(0<i.drmInfos.length&&(n.drmInfos=n.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==n.drmInfos.length))throw new he(2,4,4008);return i.Bd||n.Bd}(u=Vr.O(u,"ContentProtection"),this.a.dash.customScheme,t,this.a.dash.ignoreDrmInfo),{id:this.h++,originalId:e.C.id,createSegmentIndex:d.createSegmentIndex,findSegmentPosition:d.findSegmentPosition,getSegmentReference:d.getSegmentReference,initSegmentReference:d.initSegmentReference,presentationTimeOffset:d.ma,mimeType:e.C.mimeType,codecs:e.C.codecs,frameRate:e.C.frameRate,bandwidth:e.bandwidth,width:e.C.width,height:e.C.height,kind:n,encrypted:0<t.drmInfos.length,keyId:u,language:r,label:i,type:e.ca.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:e.C.emsgSchemeIdUris,roles:o,channelsCount:e.C.bd,closedCaptions:s}},n.zf=function(e,t,n){var r=Vr.xb,i=n.getAttribute("schemeIdUri")||"",a=n.getAttribute("value")||"",o=Vr.K(n,"timescale",r)||1;Vr.O(n,"Event").forEach(function(n){var s=Vr.K(n,"presentationTime",r)||0,u=Vr.K(n,"duration",r)||0;u=(s=s/o+e)+u/o,null!=t&&(s=Math.min(s,e+t),u=Math.min(u,e+t)),n={schemeIdUri:i,value:a,startTime:s,endTime:u,id:n.getAttribute("id")||"",eventElement:n},this.b.onTimelineRegionAdded(n)}.bind(this))},n.Kf=function(e,t,n){return e=wi(e,t,n,this.a.retryParameters),e=this.b.networkingEngine.request(1,e),Re(this.g,e),e.promise.then((function(e){return e.data}))},bi.kd("mpd",Ti),bi.Bb("application/dash+xml",Ti),bi.Bb("video/vnd.mpeg.dash.mpd",Ti),Ii.prototype.toString=function(){var e="#"+this.name,t=this.a?this.a.map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&t.unshift(this.value),0<t.length&&(e+=":"+t.join(",")),e},Ii.prototype.getAttribute=function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null};var Ni={nb:function(e,t){return e.filter((function(e){return e.name==t}))},Ta:function(e,t){var n=Ni.nb(e,t);return n.length?n[0]:null},Lc:function(e,t,n){return e.filter((function(e){var r=e.getAttribute("TYPE");return e=e.getAttribute("GROUP-ID"),r.value==t&&e.value==n}))},Dc:function(e,t){return Bt([e],[t])[0]},Uc:function(e){return/^#(?!EXT)/m.test(e)}};function ji(e){this.b=e,this.a=0}function Ui(e){Bi(e,/[ \t]+/gm)}function Bi(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,Mf:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.Mf)}function Fi(e){return e.a==e.b.length?null:(e=Bi(e,/[^ \t\n]*/gm))?e[0]:null}function Hi(){this.a=0}function Gi(e,t,n){var r=(t=(t=rt(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new he(2,4,4015);t=0;for(var i=1;i<r.length;i++)if(!Ni.Uc(r[i])){var a=zi(e,r[i]);if(--e.a,Wi.includes(a.name)){t=1;break}"EXT-X-STREAM-INF"==a.name&&(i+=1)}for(i=[],a=1;a<r.length;)if(Ni.Uc(r[a]))a+=1;else{var o=zi(e,r[a]);if(qi.includes(o.name)){if(1!=t)throw new he(2,4,4017);return new Pi(n,t,i,e=Vi(e,n,r=r.splice(a,r.length-a),i))}i.push(o),a+=1,"EXT-X-STREAM-INF"==o.name&&(o.a.push(new Li("URI",r[a])),a+=1)}return new Pi(n,t,i)}function Vi(e,t,n,r){var i=[],a=[];return n.forEach((function(n){if(/^(#EXT)/.test(n))n=zi(e,n),Wi.includes(n.name)?r.push(n):a.push(n);else{if(Ni.Uc(n))return[];n=Ni.Dc(t,n.trim()),i.push(new Di(n,a)),a=[]}})),i}function zi(e,t){var n=e.a++,r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new he(2,4,4016,t);var i,a=r[1],o=r[2];if(r=[],o){var s;(s=Bi(o=new ji(o),/^([^,=]+)(?:,|$)/g))&&(i=s[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;s=Bi(o,u);)r.push(new Li(s[1],s[2]||s[3]))}return new Ii(n,a,r,i)}var Wi="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),qi="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function Ki(e){try{var t=Ki.parse(e);return ye({uri:e,fd:e,data:t.data,headers:{"content-type":t.contentType}})}catch(n){return ge(n)}}function Xi(){var e=this;this.c=this.g=null,this.$=1,this.D=new Map,this.T=new Set,this.a=new Map,this.b=null,this.v="",this.s=new Hi,this.R=0,this.h=new ce((function(){!function(e){h((function t(){var n,r;return M(t,(function(t){switch(t.j){case 1:return e.g?(E(t,2),T(t,e.update(),4)):t.return();case 4:n=e.R,e.h.P(n),x(t,0);break;case 2:(r=C(t)).severity=1,e.g.onError(r),e.h.P(.1),S(t)}}))}))}(e)})),this.f=ha,this.m=null,this.B=0,this.F=1/0,this.i=new Oe,this.L=[],this.l=new Map,this.W=!1}function Yi(e,t){return h((function n(){var r,i,a,o,s,u,l,c,d,f;return M(n,(function(n){switch(n.j){case 1:return r=Ni,i=pa,a=t.re,T(n,da(e,Me([a],e.c.retryParameters),0),2);case 2:if(o=n.o,1!=(s=Gi(e.s,o.data,o.uri)).type)throw new he(2,4,4017);return l=(u=r.Ta(s.a,"EXT-X-MEDIA-SEQUENCE"))?Number(u.value):0,c=t.stream,T(n,ra(e,t.xc,s,l,c.mimeType,c.codecs),3);case 3:d=n.o,t.Sb.a=d,f=d[d.length-1],r.Ta(s.a,"EXT-X-ENDLIST")&&(ca(e,i.Qa),e.b.wa(f.endTime)),S(n)}}))}))}function $i(e){e.forEach((function(e){var t=e.stream.codecs.split(",");t=t.filter((function(e){return"mp4a.40.34"!=e})),e.stream.codecs=t.join(",")}))}function Ji(e,t,n,r,i){return{id:e.$++,language:t?t.language:"und",primary:!!t&&t.primary||!!n&&n.primary,audio:t,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}}function Qi(e,t,n){return h((function r(){var i,a,o,s,u,l,c,d,f;return M(r,(function(r){switch(r.j){case 1:if(i=oa(t,"URI"),e.a.has(i))return r.return(e.a.get(i));if(a=oa(t,"TYPE").toLowerCase(),o=Ht,"subtitles"==a&&(a=o.qa),s=On(Mi(t,"LANGUAGE","und")),u=Mi(t,"NAME"),l=t.getAttribute("DEFAULT"),c=t.getAttribute("AUTOSELECT"),d=Mi(t,"CHANNELS"),"audio"==a)if(d){var h=d.split("/")[0];h=parseInt(h,10)}else h=null;else h=null;return T(r,Zi(e,i,n,a,s,!!l||!!c,u,h,null),2);case 2:return null==(f=r.o)?r.return(null):e.a.has(i)?r.return(e.a.get(i)):(e.D.set(t.id,f),e.a.set(i,f),r.return(f))}}))}))}function Zi(e,t,n,r,i,a,o,s,u){return h((function l(){var c,f,p,m,g,v,y,b,_,w,S,E,k,x,C,A,O,R,P,I,L,D,N,j,U;return M(l,(function(l){switch(l.j){case 1:return f=(c=Ni).Dc(e.v,t),m="",T(l,da(e,Me([f],e.c.retryParameters),0),2);case 2:if(v=l.o,f=v.uri,1!=(p=Gi(e.s,v.data,f)).type)throw new he(2,4,4017);y=[],p.segments.forEach((function(e){e=c.nb(e.b,"EXT-X-KEY"),y.push.apply(y,e)})),b=!1,_=[],w=null;for(var B=d(y),F=B.next();!F.done;F=B.next())if(S=F.value,"NONE"!=(E=oa(S,"METHOD"))){if(b=!0,"AES-128"==E)return e.W=!0,l.return(null);k=oa(S,"KEYFORMAT"),(C=(x=fa[k])?x(S):null)&&(C.keyIds.length&&(w=C.keyIds[0]),_.push(C))}if(b&&!_.length)throw new he(2,4,4026);return function(e,t){var n=pa,r=Ni.Ta(t.a,"EXT-X-PLAYLIST-TYPE"),i=Ni.Ta(t.a,"EXT-X-ENDLIST");i=r&&"VOD"==r.value||i,r=r&&"EVENT"==r.value&&!i,r=!i&&!r,i?ca(e,n.Qa):(ca(e,r?n.zd:n.me),n=sa(t.a,"EXT-X-TARGETDURATION"),n=Number(n.value),e.B=Math.max(n,e.B),e.F=Math.min(n,e.F))}(e,p),m=function(e,t){if(1==t.length)return t[0];var n=aa(e,t);if(null!=n)return n;throw new he(2,4,4025,t)}(r,n),T(l,function(e,t,n,r){return h((function i(){var a,o,s,u,l,c,d,f,h;return M(i,(function(i){switch(i.j){case 1:return a=Ht,o=r.segments[0].a,s=new $(o),u=s.ja.split(".").pop(),l=la[t],(c=l[u])?i.return(c):t==a.qa?n&&"vtt"!=n?i.return("application/mp4"):i.return("text/vtt"):((d=Me([o],e.c.retryParameters)).method="HEAD",T(i,da(e,d,1),2));case 2:if(f=i.o,!(h=f.headers["content-type"]))throw new he(2,4,4021,u);return i.return(h.split(";")[0])}}))}))}(e,r,m,p),3);case 3:return g=l.o,O=(A=c.Ta(p.a,"EXT-X-MEDIA-SEQUENCE"))?Number(A.value):0,T(l,ra(e,t,p,O,g,m),4);case 4:return R=l.o,P=R[0].startTime,I=R[R.length-1].endTime,L=I-P,D=new ri(R),N=ea(p),j=void 0,"text"==r&&(j="subtitle"),U={id:e.$++,originalId:o,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:D.find.bind(D),getSegmentReference:D.get.bind(D),initSegmentReference:N,presentationTimeOffset:0,mimeType:g,codecs:m,kind:j,encrypted:b,keyId:w,language:i,label:o,type:r,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s,closedCaptions:u},l.return({stream:U,Sb:D,drmInfos:_,xc:t,re:f,Zc:P,sg:I,duration:L})}}))}))}function ea(e){var t=Ni.nb(e.a,"EXT-X-MAP");if(!t.length)return null;if(1<t.length)throw new he(2,4,4020);var n=oa(t=t[0],"URI"),r=Ni.Dc(e.b,n);return e=0,n=null,(t=Mi(t,"BYTERANGE"))&&(e=t.split("@"),t=Number(e[0]),n=(e=Number(e[1]))+t-1),new ei((function(){return[r]}),e,n)}function ta(e,t,n,r){var i=t.b,a=t.a;t=sa(i,"EXTINF").value.split(","),t=r+Number(t[0]);var o=0,s=null;return(i=Ni.Ta(i,"EXT-X-BYTERANGE"))&&(o=i.value.split("@"),i=Number(o[0]),s=(o=o[1]?Number(o[1]):e.a+1)+i-1),new ti(n,r,t,(function(){return[a]}),o,s)}function na(e){e.b&&(e.L.forEach((function(t){e.b.ub(t,0)})),e.L=[])}function ra(e,t,n,r,i,a){return h((function o(){var s,u,l,c,d,f,p,m,g,v;return M(o,(function(o){switch(o.j){case 1:return s=n.segments,u=[],l=s[0].a,c=ta(null,s[0],r,0),d=ea(n),T(o,function(e,t,n,r,i,a){return h((function o(){var s,u,l,c,d,f,h,p,m;return M(o,(function(o){switch(o.j){case 1:if(e.m&&(s=e.a.get(t),u=s.Sb,l=u.get(r.position)))return o.return(l.startTime);if("audio/mpeg"==i)return o.return(0);if("video/mp4"!=i&&"audio/mp4"!=i){o.A(2);break}return c=[ia(e,r)],n&&c.push(ia(e,n)),T(o,Promise.all(c),3);case 3:return d=o.o,f=d[0],h=d[1]||d[0],o.return(function(e,t){var n=0;if((new Nr).H("moov",jr).H("trak",jr).H("mdia",jr).fa("mdhd",(function(e){e.reader.M(0==e.version?8:16),n=e.reader.G(),e.parser.stop()})).parse(t,!0),!n)throw new he(2,4,4030);var r=0,i=!1;if((new Nr).H("moof",jr).H("traf",jr).fa("tfdt",(function(e){r=(0==e.version?e.reader.G():e.reader.Ab())/n,i=!0,e.parser.stop()})).parse(e,!0),!i)throw new he(2,4,4030);return r}(f.data,h.data));case 2:if("video/mp2t"!=i){o.A(4);break}return T(o,ia(e,r),5);case 5:return p=o.o,o.return(function(e){function t(){throw new he(2,4,4030)}e=new Lr(new DataView(e),0);for(var n=0,r=0;;){if(n=e.ba(),71!=(r=e.la())&&t(),16384&e.Qb()||t(),0!=(r=(48&e.la())>>4)&&2!=r||t(),3==r&&(r=e.la(),e.M(r)),1==e.G()>>8)return e.M(3),0!=(n=e.la()>>6)&&1!=n||t(),0==e.la()&&t(),n=e.la(),r=e.Qb(),e=e.Qb(),(1073741824*((14&n)>>1)+((65534&r)<<14|(65534&e)>>1))/9e4;e.seek(n+188),71!=(r=e.la())&&(e.seek(n+192),r=e.la()),71!=r&&(e.seek(n+204),r=e.la()),71!=r&&t(),e.be(1)}}(p.data));case 4:if("application/mp4"!=i&&!i.startsWith("text/")){o.A(6);break}return T(o,ia(e,r),7);case 7:return m=o.o,o.return(function(e,t,n){return dn(e=Ye(e,t))?(fn(t=new ln(null),e),t.Rc(n)):0}(i,a,m.data));case 6:if("video/webm"==i)return o.return(null);throw new he(2,4,4030)}}))}))}(e,t,d,c,i,a),2);case 2:f=o.o,l.split("/").pop();for(var y=0;y<s.length;++y)p=s[y],m=u[u.length-1],g=0==y?f:m.endTime,v=ta(m,p,r+y,g),u.push(v);return e.L.push(u),na(e),o.return(u)}}))}))}function ia(e,t){return h((function n(){var r,i,a,o,s,u;return M(n,(function(n){switch(n.j){case 1:return r=1,i=wi(t.c(),t.b,t.b+2048-1,e.c.retryParameters),a=wi(t.c(),t.b,t.a,e.c.retryParameters),E(n,2),T(n,da(e,i,r),4);case 4:return o=n.o,n.return(o);case 2:if(7001==(s=C(n)).code)throw s;return K("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),T(n,da(e,a,r),5);case 5:return u=n.o,n.return(u)}}))}))}function aa(e,t){for(var n=ua[e],r=0;r<n.length;r++)for(var i=0;i<t.length;i++)if(n[r].test(t[i].trim()))return t[i].trim();return"text"==e?"":null}function oa(e,t){var n=e.getAttribute(t);if(!n)throw new he(2,4,4023,t);return n.value}function sa(e,t){var n=Ni.Ta(e,t);if(!n)throw new he(2,4,4024,t);return n}F("shaka.net.DataUriPlugin",Ki),Ki.parse=function(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new he(2,1,1004,t);if(2>(n=n.slice(1).join(":").split(",")).length)throw new he(2,1,1004,t);var r=n[0];n=e.decodeURIComponent(n.slice(1).join(","));var i=null;if(1<(r=r.split(";")).length&&(i=r[1]),"base64"==i)t=ct.Aa(n).buffer;else{if(i)throw new he(2,1,1005,t);t=ot(n)}return{data:t,contentType:r[0]}},Le("data",Ki),F("shaka.hls.HlsParser",Xi),(n=Xi.prototype).configure=function(e){this.c=e},n.start=function(e,t){var n=this;return h((function r(){var i,a;return M(r,(function(r){switch(r.j){case 1:return n.g=t,T(r,da(n,Me([e],n.c.retryParameters),0),2);case 2:return i=r.o,n.v=i.uri,T(r,function(e,t){return h((function n(){var r,i,a,o,s,u,l,c,f,p,m;return M(n,(function(n){switch(n.j){case 1:if(0!=(r=Gi(e.s,t,e.v)).type)throw new he(2,4,4022);return T(n,function(e,t){return h((function n(){var r,i,a,o,s,u,l,c,f,p,m,g;return M(n,(function(n){switch(n.j){case 1:return r=Ni,i=Ut,a=t.a,o=r.nb(t.a,"EXT-X-MEDIA"),s=o.filter(function(e){return"SUBTITLES"==oa(e,"TYPE")}.bind(e)),u=s.map(function(e){var t=this;return h((function n(){var r;return M(n,(function(n){switch(n.j){case 1:return E(n,2),T(n,function(e,t){return h((function n(){var r;return M(n,(function(n){switch(n.j){case 1:return oa(t,"TYPE"),T(n,Qi(e,t,[]),2);case 2:return r=n.o,n.return(r.stream)}}))}))}(t,e),4);case 4:return n.return(n.o);case 2:if(r=C(n),t.c.hls.ignoreTextStreamFailures)return n.return(null);throw r}}))}))}.bind(e)),l=o.filter((function(e){return"CLOSED-CAPTIONS"==oa(e,"TYPE")})),function(e,t){for(var n=d(t),r=n.next();!r.done;r=n.next()){oa(r=r.value,"TYPE");var i=Mi(r,"LANGUAGE")||"und";i=On(i);var a=oa(r,"GROUP-ID");r=oa(r,"INSTREAM-ID"),e.l.get(a)||e.l.set(a,new Map),e.l.get(a).set(r,i)}}(e,l),T(n,Promise.all(u),2);case 2:return c=n.o,f=r.nb(a,"EXT-X-STREAM-INF"),p=f.map(function(e){return function(e,t,n){return h((function r(){var i,a,o,s,u,l,c,f,p,m,g,v,y,b,_,w,S,E,k,x,C,A,O,R,P,I,L;return M(r,(function(r){switch(r.j){case 1:return i=Ht,a=Ni,o=Mi(t,"CODECS","avc1.42E01E,mp4a.40.2"),s=function(e){for(var t=new Set,n=[],r=(e=d(e)).next();!r.done;r=e.next()){var i=$e(r=r.value)[0];t.has(i)||(n.push(r),t.add(i))}return n}(o.split(/\s*,\s*/)),u=t.getAttribute("RESOLUTION"),c=l=null,f=Mi(t,"FRAME-RATE"),p=Number(oa(t,"BANDWIDTH")),u&&(m=u.value.split("x"),l=m[0],c=m[1]),g=(g=(g=a.nb(n.a,"EXT-X-MEDIA")).filter((function(e){return"CLOSED-CAPTIONS"!=oa(e,"TYPE")}))).filter((function(e){var t=Mi(e,"URI")||"";return"SUBTITLES"==(Mi(e,"TYPE")||"")||""!=t})),v=Mi(t,"AUDIO"),y=Mi(t,"VIDEO"),v?g=a.Lc(g,"AUDIO",v):y&&(g=a.Lc(g,"VIDEO",y)),(b=aa(i.qa,s))&&((_=Mi(t,"SUBTITLES"))&&((w=a.Lc(g,"SUBTITLES",_)).length&&(S=e.D.get(w[0].id))&&(S.stream.codecs=b)),Ce(s,b)),E=g.map(function(e){return Qi(this,e,s)}.bind(e)),k=[],x=[],T(r,Promise.all(E),2);case 2:if(A=(A=r.o).filter((function(e){return null!=e})),v?k=A:y&&(x=A),R=!1,k.length||x.length?k.length?(I=oa(t,"URI"),L=k[0].xc,I==L?(O=i.Db,R=!0):O=i.Pa):O=i.Db:1==s.length?(P=aa(i.Pa,s),O=u||f||P?i.Pa:i.Db):(O=i.Pa,s=[s.join(",")]),R){r.A(3);break}return T(r,function(e,t,n,r){return h((function i(){var a,o,s,u,l;return M(i,(function(i){switch(i.j){case 1:return a=Ht,o=oa(t,"URI"),e.a.has(o)?i.return(e.a.get(o)):(s=Mi(t,"CLOSED-CAPTIONS"),u=null,r==a.Pa&&s&&"NONE"!=s&&(u=e.l.get(s)),T(i,Zi(e,o,n,r,"und",!1,null,null,u),2));case 2:return null==(l=i.o)?i.return(null):e.a.has(o)?i.return(e.a.get(o)):(e.a.set(o,l),i.return(l))}}))}))}(e,t,s,O),4);case 4:C=r.o;case 3:if(C)C.stream.type==i.Db?k=[C]:x=[C];else if(null===C)return r.return([]);return x&&$i(x),k&&$i(k),r.return(function(e,t,n,r,i,a,o){n.forEach(function(e){(e=e.stream)&&(e.width=Number(i)||void 0,e.height=Number(a)||void 0,e.frameRate=Number(o)||void 0)}.bind(e));var s=!!e.c&&e.c.disableAudio;t.length&&!s||(t=[null]);n.length||(n=[null]),s=[];for(var u=(t=d(t)).next();!u.done;u=t.next()){u=u.value;for(var l=d(n),c=l.next();!c.done;c=l.next()){var f=c.value;c=u?u.stream:null;var h=f?f.stream:null,p=u?u.drmInfos:null,m=f?f.drmInfos:null;f=(f?f.xc:"")+" - "+(u?u.xc:"");var g=void 0;if(c&&h){if(p.length&&m.length&&!(0<Ct(p,m).length))continue;g=Ct(p,m)}else c?g=p:h&&(g=m);e.T.has(f)||(c=Ji(e,c,h,r,g),s.push(c),e.T.add(f))}}return s}(e,k,x,p,l,c,f))}}))}))}(this,e,t)}.bind(e)),T(n,Promise.all(p),3);case 3:return m=n.o,g=(g=m.reduce(i.Cc,[])).filter((function(e){return null!=e})),n.return({startTime:0,variants:g,textStreams:c.filter((function(e){return null!=e}))})}}))}))}(e,r),2);case 2:if(i=n.o,!e.g)throw new he(2,7,7001);if(e.W&&0==i.variants.length)throw new he(2,4,4034);e.g.filterAllPeriods([i]),a=1/0,o=0,s=1/0;for(var g=d(e.a.values()),v=g.next();!v.done;v=g.next())u=v.value,a=Math.min(a,u.Zc),o=Math.max(o,u.Zc),"text"!=u.stream.type&&(s=Math.min(s,u.duration));if(e.f!=pa.Qa?(e.b=new _i(0,3*e.B),e.b.Ub(!1)):(e.b=new _i(null,0),e.b.Ub(!0)),na(e),e.f!=pa.Qa){for(e.R=e.F,l=pa,e.f==l.zd&&(c=e.b.rc,isNaN(e.c.availabilityWindowOverride)||(c=e.c.availabilityWindowOverride),e.b.sd(c)),f=0;95443.7176888889<=o;)f+=95443.7176888889,o-=95443.7176888889;if(f)for(v=(g=d(e.a.values())).next();!v.done;v=g.next())95443.7176888889>(p=v.value).Zc&&(p.stream.presentationTimeOffset=-f,p.Sb.offset(f))}else for(e.b.wa(s),e.b.offset(-a),v=(g=d(e.a.values())).next();!v.done;v=g.next())(m=v.value).stream.presentationTimeOffset=a,m.Sb.offset(-a),ii(m.Sb,s);e.m={presentationTimeline:e.b,periods:[i],offlineSessionIds:[],minBufferTime:0},S(n)}}))}))}(n,i.data),3);case 3:return 0<(a=n.R)&&n.h.P(a),r.return(n.m)}}))}))},n.stop=function(){this.h&&(this.h.stop(),this.h=null);var e=[];return this.i&&(e.push(this.i.destroy()),this.i=null),this.c=this.g=null,this.D.clear(),this.T.clear(),this.a.clear(),this.m=null,Promise.all(e)},n.update=function(){if(this.f!=pa.Qa){for(var e=[],t=d(this.a.values()),n=t.next();!n.done;n=t.next())e.push(Yi(this,n.value));return Promise.all(e)}},n.onExpirationUpdated=function(){};var ua={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},la={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function ca(e,t){e.f=t,e.b&&e.b.Ub(e.f==pa.Qa),e.f!=pa.Qa||e.h.stop()}function da(e,t,n){if(!e.i)throw new he(2,7,7001);return t=e.g.networkingEngine.request(n,t),Re(e.i,t),t.promise}var fa={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=oa(e,"METHOD");return $n("HLS SAMPLE-AES-CENC","SAMPLE-AES-CENC will no longer be supported, see Issue #1227"),["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].includes(t)?(t=oa(e,"URI"),t=Ki.parse(t),t=Ft("com.widevine.alpha",[{initDataType:"cenc",initData:t=new Uint8Array(t.data)}]),(e=Mi(e,"KEYID"))&&(t.keyIds=[e.substr(2).toLowerCase()]),t):null}},ha="VOD",pa={Qa:ha,me:"EVENT",zd:"LIVE"};function ma(){this.a=new Map}function ga(e,t,n){va(e,t).text=n}function va(e,t){return e.a.has(t)||e.a.set(t,new ya),e.a.get(t)}function ya(){this.text=this.variant=null}function ba(e,t){this.a=e,this.b=new Set([e]);for(var n=d(t=t||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function _a(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var r=t.audio;n=!(n.channelsCount==r.channelsCount&&wa(n,r)&&Ta(n.roles,r.roles))}return!n&&(n=e.video&&t.video)&&(n=!(wa(n=e.video,r=t.video)&&Ta(n.roles,r.roles))),!n}function wa(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map((function(e){return $e(e)[0]})),r=t.codecs.split(",").map((function(e){return $e(e)[0]}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0}function Ta(e,t){var n=new Set(e),r=new Set(t);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=d(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function Sa(e){this.a=e,this.b=new Ea(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0)}function Ea(e,t,n){this.c=e,this.b=t,this.a=n}function ka(){this.a=Aa,this.b=(new Map).set(Aa,2).set(Ca,1)}function xa(e,t,n){e.b.set(Aa,n).set(Ca,t)}bi.kd("m3u8",Xi),bi.Bb("application/x-mpegurl",Xi),bi.Bb("application/vnd.apple.mpegurl",Xi),ba.prototype.add=function(e){return!!_a(this.a,e)&&(this.b.add(e),!0)},ba.prototype.values=function(){return this.b.values()},Sa.prototype.create=function(e){var t=this,n=e.filter((function(e){return _a(t.a,e)}));return n.length?new ba(n[0],n):this.b.create(e)},Ea.prototype.create=function(e){var t=[];t=function(e,t){var n=Pn(On(t),e.map((function(e){return Rn(e)})));return n?e.filter((function(e){return n==Rn(e)})):[]}(e,this.c);var n=e.filter((function(e){return e.primary}));for(t=t.length?t:n.length?n:e,this.b&&((e=function(e,t){return e.filter((function(e){var n=e.audio;return e=e.video,n&&0<=n.roles.indexOf(t)||e&&0<=e.roles.indexOf(t)}))}(t,this.b)).length&&(t=e)),this.a&&((e=Vn(t,this.a)).length&&(t=e)),e=new ba(t[0]),n=(t=d(t)).next();!n.done;n=t.next())n=n.value,_a(e.a,n)&&e.add(n);return e};var Ca=0,Aa=1;function Oa(e,t){this.g=e,this.h=Pa(e),this.a=e.a.currentTime,this.f=Date.now()/1e3,this.b=!1,this.i=t,this.c=function(){}}function Ra(e){this.a=e}function Pa(e){if(e.a.paused||0==e.a.playbackRate||null==e.a.buffered)var t=!1;else e:{t=e.a.buffered,e=e.a.currentTime;for(var n=0;n<t.length;n++){var r=t.start(n),i=t.end(n);if(!(e<r||e>i-.5)){t=!0;break e}}t=!1}return t}function Ia(e,t,n,r,i){var a=this;this.a=e,this.v=t,this.s=n,this.l=i,this.f=new He,this.i=!1,this.m=e.readyState,this.c=!1,this.b=r,this.h=!1,this.f.w(e,"waiting",(function(){return La(a)})),this.g=new ce((function(){La(a)})).Na(.25)}function La(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.i)return}else e.i=!1;if(!e.a.paused){e.a.readyState!=e.m&&(e.c=!1,e.m=e.a.readyState);var t=e.s.smallGapLimit,n=e.a.currentTime,r=e.a.buffered;e:{if(r&&r.length&&!(1==r.length&&1e-6>r.end(0)-r.start(0)))for(var i=et("Edge/")||et("Trident/")||et("Tizen")||et("CrKey")?.5:.1,a=0;a<r.length;a++)if(r.start(a)>n&&(0==a||r.end(a-1)-n<=i)){i=a;break e}i=null}if(null==i)e.b&&(n=Pa(r=(e=e.b).g),i=r.a.currentTime,a=Date.now()/1e3,e.a==i&&e.h==n||(e.f=a,e.a=i,e.h=n,e.b=!1),(i=a-e.f)>=e.i&&n&&!e.b&&(e.c(e.a,i),e.b=!0,e.a=r.a.currentTime));else if(0!=i||e.h){a=r.start(i);var o=e.v.Ba();if(!(a>=o)){t=(o=a-n)<=t;var s=!1;.001>o||(t||e.c||(e.c=!0,(n=new Te("largegap",{currentTime:n,gapSize:o})).cancelable=!0,e.l(n),e.s.jumpLargeGaps&&!n.defaultPrevented&&(s=!0)),!t&&!s)||(0!=i&&r.end(i-1),e.a.currentTime=a)}}}}}function Ma(e){var t=this;this.c=e,this.a=new Set,this.b=new ce((function(){Da(t,!1)})).Na(.25)}function Da(e,t){for(var n=d(e.a),r=n.next();!r.done;r=n.next())r.value.g(e.c.currentTime,t)}function Na(e){for(var t=[],n=(e=d(e)).next();!n.done;n=e.next())for(var r=(n=d(n.value.variants)).next();!r.done;r=n.next())t.push(r.value);return t}function ja(e,t){for(var n=null,r=d(e),i=r.next();!i.done;i=r.next())t>=(i=i.value).startTime&&(n=i);return n}function Ua(e){this.c=e,this.a=null,this.b=function(){}}function Ba(e){var t=this;this.a=e,this.f=!1,this.c=this.a.gc(),this.b=new ce((function(){t.a.Ld(.25*t.c)}))}function Fa(e){e.b.stop();var t=e.f?0:e.c;if(0<=t)try{return void(e.a.gc()!=t&&e.a.rd(t))}catch(n){}e.b.Na(.25),0!=e.a.gc()&&e.a.rd(0)}function Ha(e,t,n){this.a=e,this.f=t,this.g=n,this.h=!1,this.b=new He,this.c=new qa(e),0<e.readyState?za(this,n):Va(this,n)}function Ga(e){return e.h?e.a.currentTime:e.g}function Va(e,t){e.g=t,e.b.ea(e.a,"loadedmetadata"),e.b.da(e.a,"loadedmetadata",(function(){za(e,t)}))}function za(e,t){.001>Math.abs(e.a.currentTime-t)?Wa(e):(e.b.da(e.a,"seeking",(function(){Wa(e)})),Ka(e.c,0==e.a.currentTime?t:e.a.currentTime))}function Wa(e){e.h=!0,e.b.w(e.a,"seeking",(function(){return e.f()}))}function qa(e){var t=this;this.b=e,this.h=10,this.g=this.f=this.c=0,this.a=new ce((function(){0>=t.c||t.b.currentTime!=t.f?t.a.stop():(t.b.currentTime=t.g,t.c--)}))}function Ka(e,t){e.f=e.b.currentTime,e.g=t,e.c=e.h,e.b.currentTime=t,e.a.Na(.1)}function Xa(e){function t(){null==n.c?n.f=!0:(n.b.da(n.a,"seeking",(function(){n.f=!0})),n.a.currentTime=n.c)}var n=this;this.a=e,this.f=!1,this.c=null,this.b=new He,0==this.a.readyState?this.b.da(this.a,"loadedmetadata",t):t()}function Ya(e,t,n,r,i,a){var o=this;this.b=e,this.a=t.presentationTimeline,this.B=t.minBufferTime||0,this.g=n,this.v=i,this.l=null,this.f=new Ia(e,t.presentationTimeline,n,function(e,t){if(!t.stallEnabled)return null;var n=t.stallSkip,r=new Oa(new Ra(e),t.stallThreshold);return function(e,t){e.c=t}(r,(function(){e.currentTime+=n})),r}(e,n),a),this.c=new Ha(e,(function(){var e=o.f;e.i=!0,e.h=!1,e.c=!1;var t=Ga(o.c);return e=Ja(o,t),.001<Math.abs(e-t)&&(t=(new Date).getTime()/1e3,!o.l||o.l<t-1)?(o.l=t,0<(t=o.c).a.readyState?Ka(t.c,e):Va(t,e),e=void 0):(o.v(),e=void 0),e}),function(e,t){return null==t?t=1/0>e.a.Y()?e.a.ob():e.a.Ba():0>t&&(t=e.a.Ba()+t),$a(e,Qa(e,t))}(this,r)),this.i=new ce((function(){if(0!=o.b.readyState&&!o.b.paused){var e=o.b.currentTime,t=o.a.ob(),n=o.a.Ba();3>n-t&&(t=n-3),e<t&&(e=Ja(o,e),o.b.currentTime=e)}})).Na(.25)}function $a(e,t){var n=e.a.Y();return t>=n?n-e.g.durationBackoff:t}function Ja(e,t){var n=Dt.bind(null,e.b.buffered),r=Math.max(e.B,e.g.rebufferingGoal),i=e.g.safeSeekOffset,a=e.a.ob(),o=e.a.Ba(),s=e.a.Y();3>o-a&&(a=o-3);var u=e.a.Kb(r),l=e.a.Kb(i);return r=e.a.Kb(r+i),t>=s?$a(e,t):t>o?o:t<a?n(l)?l:r:t>=u||n(t)?t:r}function Qa(e,t){var n=e.a.ob();return t<n||t>(n=e.a.Ba())?n:t}function Za(){this.b=function(){},this.a=new Set}function eo(e){var t=this;this.h=e,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.i=[{eb:null,cb:no,Wa:function(e,n){return t.a(e,n)}},{eb:to,cb:no,Wa:function(e,n){return t.a(e,n)}},{eb:ro,cb:no,Wa:function(e,n){return t.a(e,n)}},{eb:no,cb:to,Wa:function(e,n){return t.b(e,n)}},{eb:no,cb:ro,Wa:function(e,n){return t.b(e,n)}},{eb:to,cb:ro,Wa:function(e,n){return t.c(e,n)}},{eb:ro,cb:to,Wa:function(e,n){return t.c(e,n)}}]}Oa.prototype.release=function(){this.g=null,this.c=function(){}},Ia.prototype.release=function(){this.f&&(this.f.release(),this.f=null),null!=this.g&&(this.g.stop(),this.g=null),this.b&&(this.b.release(),this.b=null),this.a=this.v=this.l=null},Ia.prototype.dd=function(){this.h=!0,La(this)},Ma.prototype.release=function(){this.b.stop();for(var e=d(this.a),t=e.next();!t.done;t=e.next())t.value.release();this.a.clear()},Ua.prototype.release=function(){this.a=this.c=null,this.b=function(){}},Ua.prototype.g=function(e){var t=this.a,n=this.c.periods;t!=(e=ja(n,e)||n[0])&&this.b(e),this.a=e},Ba.prototype.release=function(){this.b&&(this.b.stop(),this.b=null),this.a=null},Ba.prototype.set=function(e){this.c=e,Fa(this)},Ha.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.f=function(){},this.a=null},qa.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},Xa.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.a=null},Xa.prototype.m=function(e){this.c=this.f?this.c:e},Xa.prototype.h=function(){return(this.f?this.a.currentTime:this.c)||0},Xa.prototype.s=function(){},Ya.prototype.release=function(){this.c&&(this.c.release(),this.c=null),this.f&&(this.f.release(),this.f=null),this.i&&(this.i.stop(),this.i=null),this.b=this.c=this.a=this.g=null,this.v=function(){}},Ya.prototype.m=function(e){var t=this.c;0<t.a.readyState?Ka(t.c,e):Va(t,e)},Ya.prototype.h=function(){var e=Ga(this.c);return 0<this.b.readyState&&!this.b.paused?Qa(this,e):e},Ya.prototype.s=function(){this.f.dd()},Za.prototype.release=function(){this.b=function(){},this.a.clear()},eo.prototype.release=function(){this.h=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}},eo.prototype.g=function(e,t){for(var n=d(this.h.a),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.f.get(r),a=e<r.startTime?to:e>r.endTime?ro:no;this.f.set(r,a);for(var o=d(this.i),s=o.next();!s.done;s=o.next())(s=s.value).eb==i&&s.cb==a&&s.Wa(r,t)}};var to=1,no=2,ro=3;function io(e,t){this.a=t,this.c=e,this.g=null,this.l=1,this.v=Promise.resolve(),this.h=[],this.i=new Map,this.b=new Map,this.s=!1,this.F=null,this.D=this.f=this.m=!1,this.B=0}function ao(e){return so(e,"audio")}function oo(e){return so(e,"video")}function so(e,t){var n=e.b.get(t);return n?n.Ka||n.stream:null}function uo(e,t){return h((function n(){var r,i,a,o,s,u,l,c,d;return M(n,(function(n){switch(n.j){case 1:return r=Ht,T(n,Sn(e.a.J,r.qa),2);case 2:return e.B++,e.D=!1,i=e.B,a=e.a.J,o=new Map,s=new Set,o.set(r.qa,t),s.add(t),T(n,a.init(o,!1),3);case 3:return e.f?n.return():T(n,vo(e,s),4);case 4:if(e.f)return n.return();u=e.a.J.g.isTextVisible()||e.g.alwaysStreamText,e.B!=i||e.b.has(r.qa)||e.D||!u||(l=e.a.Ua(),c=Eo(e,l),d=mo(t,c,0),e.b.set(r.qa,d),Ao(e,d,0)),S(n)}}))}))}function lo(e,t){var n=e.b.get("video");if(n){var r=n.stream;if(r)if(t){var i=r.trickModeVideo;i&&!n.Ka&&(fo(e,i,!1,0,!1),n.Ka=r)}else(r=n.Ka)&&(n.Ka=null,fo(e,r,!0,0,!1))}}function co(e,t,n,r){t.video&&fo(e,t.video,n,r,!1),t.audio&&fo(e,t.audio,n,r,!1)}function fo(e,t,n,r,i){var a=e.b.get(t.type);if(!a&&"text"==t.type&&e.g.ignoreTextStreamFailures)uo(e,t);else if(a){var o=ko(e,t),s=Array.from(e.b.values()).every((function(e){return e.ia==a.ia}));n&&o!=a.ia&&s?e.b.forEach((function(t){ho(e,t)})):(a.Ka&&(t.trickModeVideo?(a.Ka=t,t=t.trickModeVideo):a.Ka=null),(s=e.h[o])&&s.Cb&&(s=e.i.get(t.id))&&s.Cb&&(a.stream!=t||i)&&("text"==t.type&&vn(e.a.J,Ye(t.mimeType,t.codecs)),a.stream=t,a.jc=!0,function(e,t,n){if(!t.Ob)return!1;var r=e.a.Ua(),i=_n(e.a.J,t.type);if(null==(n=(n=_o(e,t,r,i,n))&&n.a?n.a-n.b:null))return!1;var a=t.stream.initSegmentReference;return a&&(n+=(a.a?a.a-a.b:null)||0),a=e.a.getBandwidthEstimate(),8*n/a<i-r-Math.max(e.c.minBufferTime||0,e.g.rebufferingGoal)||t.Ob.b.a>n}(e,a,o)&&a.Ob.abort(),n&&(a.Ra?a.yc=!0:a.Ja?(a.Oa=!0,a.bc=r,a.yc=!0):(Oo(a),Co(e,a,!0,r).catch((function(t){e.a&&e.a.onError(t)}))))))}}function ho(e,t){t.Ra||t.Oa||(t.Ja?(t.Oa=!0,t.bc=0):null==bn(e.a.J,t.type)?null==t.Fa&&Ao(e,t,0):(Oo(t),Co(e,t,!1,0).catch((function(t){e.a&&e.a.onError(t)}))))}function po(e,t,n,r,i){return h((function a(){var o,s,u,l,c,d,f;return M(a,(function(a){switch(a.j){case 1:return o=e.a.Ua(),s=Eo(e,o),u=Ht,l=new Map,c=new Set,t&&(l.set(u.Db,t),c.add(t)),n&&(l.set(u.Pa,n),c.add(n)),r&&(l.set(u.qa,r),c.add(r)),d=e.a.J,f=e.g.forceTransmuxTS,T(a,d.init(l,f),2);case 2:return e.f?a.return():(function(e){var t=e.c.presentationTimeline.Y();1/0>t?e.a.J.wa(t):e.a.J.wa(Math.pow(2,32))}(e),T(a,vo(e,c),3));case 3:if(e.f)return a.return();l.forEach((function(t,n){if(!e.b.has(n)){var r=mo(t,s,i);e.b.set(n,r),Ao(e,r,0)}})),S(a)}}))}))}function mo(e,t,n){return{stream:e,type:e.type,rb:null,Ca:null,Ka:null,jc:!0,ia:t,endOfStream:!1,Ja:!1,Fa:null,Oa:!1,bc:0,yc:!1,Ra:!1,jd:!1,Mb:!1,md:n||0,Ob:null}}function go(e,t){var n=e.h[t];if(n)return n.promise;n={promise:new pe,Cb:!1},e.h[t]=n;for(var r=new Set,i=d(e.c.periods[t].variants),a=i.next();!a.done;a=i.next())(a=a.value).video&&r.add(a.video),a.video&&a.video.trickModeVideo&&r.add(a.video.trickModeVideo),a.audio&&r.add(a.audio);for(a=(i=d(e.c.periods[t].textStreams)).next();!a.done;a=i.next())r.add(a.value);return e.v=e.v.then(function(){if(!this.f)return vo(this,r)}.bind(e)).then(function(){this.f||(this.h[t].promise.resolve(),this.h[t].Cb=!0)}.bind(e)).catch(function(e){this.f||(this.h[t].promise.catch((function(){})),this.h[t].promise.reject(),delete this.h[t],this.a.onError(e))}.bind(e)),n.promise}function vo(e,t){return h((function n(){var r,i,a,o,s,u,l;return M(n,(function(n){switch(n.j){case 1:r=[];for(var c=d(t),f=c.next();!f.done;f=c.next())i=f.value,(a=e.i.get(i.id))?r.push(a.promise):(e.i.set(i.id,{promise:new pe,Cb:!1}),r.push(i.createSegmentIndex()));return E(n,2),T(n,Promise.all(r),4);case 4:if(e.f)return n.return();x(n,3);break;case 2:if(o=C(n),e.f)return n.return();for(f=(n=d(t)).next();!f.done;f=n.next())s=f.value,e.i.get(s.id).promise.catch((function(){})),e.i.get(s.id).promise.reject(),e.i.delete(s.id);throw o;case 3:for(f=(c=d(t)).next();!f.done;f=c.next())u=f.value,(l=e.i.get(u.id)).Cb||(l.promise.resolve(),l.Cb=!0);S(n)}}))}))}function yo(e,t){if(!e.f&&!t.Ja&&null!=t.Fa&&!t.Ra)if(t.Fa=null,t.Oa)Co(e,t,t.yc,t.bc);else{try{var n=function(e,t){if(To(t))return e.a.J.tc(t.stream.originalId||""),null;var n=e.a.Ua(),r=bo(e,t,n),i=ko(e,t.stream),a=Eo(e,r),o=function(e,t,n){return"text"==t?null==(e=e.a).b||e.b<n?0:e.b-Math.max(n,e.a):Nt(e=wn(e,t),n)}(e.a.J,t.type,n),s=Math.max(e.c.minBufferTime||0,e.g.rebufferingGoal,e.g.bufferingGoal)*e.l;if(r>=e.c.presentationTimeline.Y())return t.endOfStream=!0,"video"==t.type&&(r=e.b.get("text"))&&"application/cea-608"==r.stream.mimeType&&(r.endOfStream=!0),null;if(t.endOfStream=!1,t.ia=a,a!=i)return null;if(o>=s)return.5;if(a=_n(e.a.J,t.type),!(a=_o(e,t,n,a,i)))return 1;var u=1/0;return Array.from(e.b.values()).forEach((function(t){To(t)||(t=bo(e,t,n),u=Math.min(u,t))})),r>=u+e.c.presentationTimeline.a?1:(t.md=0,function(e,t,n,r,i){var a=e.c.periods[r],o=t.stream,s=e.c.presentationTimeline.Y(),u=e.c.periods[r+1];r=function(e,t,n,r,i){return t.jc?(n=function(e,t,n,r,i){return"text"==t?(e.a.m=n,(e=e.a).f=r,e.h=i,Promise.resolve()):Promise.all([En(e,t,e.qe.bind(e,t)),En(e,t,e.Vf.bind(e,t,n)),En(e,t,e.Sf.bind(e,t,r,i))])}(e.a.J,t.type,e.c.periods[n].startTime-t.stream.presentationTimeOffset,r,i),t.stream.initSegmentReference?(e=xo(e,t,t.stream.initSegmentReference).then(function(e){if(!this.f)return Tn(this.a.J,t.type,e,null,null,t.stream.closedCaptions&&0<t.stream.closedCaptions.size)}.bind(e)).catch((function(e){return t.jc=!0,Promise.reject(e)})),Promise.all([n,e])):n):Promise.resolve()}(e,t,r,Math.max(0,a.startTime-.1),u?u.startTime+.01:s),t.Ja=!0,t.jc=!1,s=xo(e,t,i),Promise.all([r,s]).then(function(e){if(!this.f&&!this.m)return function(e,t,n,r,i,a,o){var s=i.closedCaptions&&0<i.closedCaptions.size;return null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new Nr).fa("emsg",e.L.bind(e,r,a,i.emsgSchemeIdUris)).parse(o),function(e,t,n){var r=Math.max(e.g.bufferBehind,e.c.presentationTimeline.a),i=bn(e.a.J,t.type);return null==i||0>=(n=n-i-r)?Promise.resolve():e.a.J.remove(t.type,i,i+n).then(function(){}.bind(e))}(e,t,n).then(function(){if(!this.f)return Tn(this.a.J,t.type,o,a.startTime+r.startTime,a.endTime+r.startTime,s)}.bind(e)).then(function(){if(!this.f)return t.rb=i,t.Ca=a,Promise.resolve()}.bind(e))}(this,t,n,a,o,i,e[1])}.bind(e)).then(function(){this.f||this.m||(t.Ja=!1,t.jd=!1,t.Oa||this.a.dd(),Ao(this,t,0),function(e,t){if(!e.s){var n=Array.from(e.b.values());if(1==n.length&&"text"==n[0].type||(e.s=n.every((function(e){return"text"==e.type||!e.Oa&&!e.Ra&&e.Ca}))),e.s){for(n=ko(e,t),e.h[n]||go(e,n).then(function(){this.f||this.a.Nd()}.bind(e)).catch(Ut.kc),n=0;n<e.c.periods.length;++n)go(e,n).catch(Ut.kc);e.a.vf&&e.a.vf()}}}(this,o))}.bind(e)).catch(function(e){this.f||this.m||(t.Ja=!1,"text"==t.type&&this.g.ignoreTextStreamFailures?this.b.delete("text"):7001==e.code?(t.Ja=!1,t.Fa=null,Ao(this,t,0)):3017==e.code?function(e,t,n){if(!Array.from(e.b.values()).some((function(e){return e!=t&&e.jd}))){var r=Math.round(100*e.l);if(20<r)e.l-=.2;else{if(!(4<r))return t.Mb=!0,e.m=!0,void e.a.onError(n);e.l-=.04}t.jd=!0}Ao(e,t,4)}(this,t,e):(t.Mb=!0,e.severity=2,Ro(this,e)))}.bind(e))}(e,t,n,i,a),null)}(e,t);null!=n&&(Ao(e,t,n),t.Mb=!1)}catch(r){return void Ro(e,r)}n=Array.from(e.b.values()),function(e,t){var n=ko(e,t.stream);if(t.ia!=n){var r=t.ia,i=Array.from(e.b.values());i.every((function(e){return e.ia==r||To(e)}))&&i.every(So)&&go(e,r).then(function(){if(!this.f&&i.every(function(e){var t=So(e),n=ko(this,e.stream);return!!To(e)||t&&e.ia==r&&n!=r}.bind(this))){var e=this.c.periods[r],t=this.a.Od(e),n=new Map;t.variant&&t.variant.video&&n.set("video",t.variant.video),t.variant&&t.variant.audio&&n.set("audio",t.variant.audio),t.text&&n.set("text",t.text);for(var a=(t=d(this.b.keys())).next();!a.done;a=t.next())if(a=a.value,!n.has(a)&&"text"!=a)return void this.a.onError(new he(2,5,5005));for(a=(t=d(Array.from(n.keys()))).next();!a.done;a=t.next())if(a=a.value,!this.b.has(a)){if("text"!=a)return void this.a.onError(new he(2,5,5005));po(this,null,null,n.get("text"),e.startTime),n.delete(a)}for(a=(t=d(Array.from(this.b.keys()))).next();!a.done;a=t.next()){a=a.value;var o=this.b.get(a),s=n.get(a);if(s){var u=To(o);u&&(o.ia=r,o.md=e.startTime),fo(this,s,!1,0,!1),u&&To(o)||Ao(this,this.b.get(a),0)}else this.b.delete(a)}this.a.Nd()}}.bind(e)).catch(Ut.kc)}}(e,t),e.s&&n.every((function(e){return e.endOfStream}))&&e.a.J.endOfStream().then(function(){if(!this.f){var e=this.a.J.Y();0!=e&&e<this.c.presentationTimeline.Y()&&this.c.presentationTimeline.wa(e)}}.bind(e))}}function bo(e,t,n){return t.rb&&t.Ca?(n=ko(e,t.rb),e.c.periods[n].startTime+t.Ca.endTime):Math.max(n,t.md)}function _o(e,t,n,r,i){if(t.Ca&&t.stream==t.rb)return wo(e,t,i,t.Ca.position+1);if(t.Ca?(n=ko(e,t.rb),n=t.stream.findSegmentPosition(Math.max(0,e.c.periods[n].startTime+t.Ca.endTime-e.c.periods[i].startTime))):n=t.stream.findSegmentPosition(Math.max(0,(r||n)-e.c.periods[i].startTime)),null==n)return null;var a=null;return null==r&&(a=wo(e,t,i,Math.max(0,n-1))),a||wo(e,t,i,n)}function wo(e,t,n,r){return n=e.c.periods[n],(t=t.stream.getSegmentReference(r))?(e=(r=e.c.presentationTimeline).Lb(),r=r.pb(),n.startTime+t.endTime<e||n.startTime+t.startTime>r?null:t):null}function To(e){return e&&"text"==e.type&&"application/cea-608"==e.stream.mimeType}function So(e){return!e.Ja&&null==e.Fa&&!e.Oa&&!e.Ra}function Eo(e,t){var n=ja(e.c.periods,t+1/15);return n?e.c.periods.indexOf(n):0}function ko(e,t){for(var n=e.c.periods,r=0;r<n.length;r++){for(var i=n[r],a=new Set,o=d(i.variants),s=o.next();!s.done;s=o.next())(s=s.value).audio&&a.add(s.audio),s.video&&a.add(s.video),s.video&&s.video.trickModeVideo&&a.add(s.video.trickModeVideo);for(o=(i=d(i.textStreams)).next();!o.done;o=i.next())a.add(o.value);if(a.has(t))return r}return-1}function xo(e,t,n){return n=wi(n.c(),n.b,n.a,e.g.retryParameters),e=e.a.tb.request(1,n),t.Ob=e,e.promise.then((function(e){return t.Ob=null,e.data}))}function Co(e,t,n,r){return h((function i(){var a,o,s;return M(i,(function(i){switch(i.j){case 1:return t.Oa=!1,t.yc=!1,t.bc=0,t.Ra=!0,r?(o=e.a.Ua(),s=e.a.J.Y(),a=e.a.J.remove(t.type,o+r,s)):a=Sn(e.a.J,t.type).then(function(){if(!this.f&&n)return this.a.J.flush(t.type)}.bind(e)),T(i,a,2);case 2:if(e.f)return i.return();t.rb=null,t.Ca=null,t.Ra=!1,t.endOfStream=!1,Ao(e,t,0),S(i)}}))}))}function Ao(e,t,n){t.Fa=new le((function(){return h((function n(){var r;return M(n,(function(n){switch(n.j){case 1:return E(n,2),T(n,yo(e,t),4);case 4:x(n,0);break;case 2:r=C(n),e.a&&e.a.onError(r),S(n)}}))}))})).P(n)}function Oo(e){null!=e.Fa&&(e.Fa.stop(),e.Fa=null)}function Ro(e,t){fe(e.F).then(function(){this.f||(this.a.onError(t),t.handled||this.g.failureCallback(t))}.bind(e))}function Po(e,t,n,r,i,a){if(200<=n&&299>=n&&202!=n)return{uri:i||r,fd:r,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=at(t)}catch(o){}throw new he(401==n||403==n?2:1,1,1001,r,n,i,e,a)}function Io(e,t,n,r){var i=new Io.b;Ke(t.headers).forEach((function(e,t){i.append(t,e)}));var a=new Io.a,o={Ad:!1,ie:!1};if(e=new me(e=Io.l(e,n,{body:t.body||void 0,headers:i,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},o,r),(function(){return o.Ad=!0,a.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var s=new ce((function(){o.ie=!0,a.abort()}));s.P(t/1e3),e.finally((function(){s.stop()}))}return e}function Lo(e,t,n,r){var i=new Lo.f,a=Date.now(),o=0;return new me(new Promise((function(s,u){for(var l in i.open(t.method,e,!0),i.responseType="arraybuffer",i.timeout=t.retryParameters.timeout,i.withCredentials=t.allowCrossSiteCredentials,i.onabort=function(){u(new he(1,1,7001,e,n))},i.onload=function(t){for(var r=(t=t.target).getAllResponseHeaders().trim().split("\r\n"),i={},a=(r=d(r)).next();!a.done;a=r.next())i[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=Po(i,t.response,t.status,e,t.responseURL,n);s(o)}catch(l){u(l)}},i.onerror=function(t){u(new he(1,1,1002,e,t,n))},i.ontimeout=function(){u(new he(1,1,1003,e,n))},i.onprogress=function(e){var t=Date.now();(100<t-a||e.lengthComputable&&e.loaded==e.total)&&(r(t-a,e.loaded-o,e.total-e.loaded),o=e.loaded,a=t)},t.headers)i.setRequestHeader(l.toLowerCase(),t.headers[l]);i.send(t.body)})),(function(){return i.abort(),Promise.resolve()}))}function Mo(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function Do(e,t,n){this.h=e,this.b=new Map,this.c=!1,this.g=t,this.f=n,this.a=new Mo}function No(e,t,n,r,i,a){var o=function(e,t){e.b+=t;var n=e.g;return e.g++,e.c.set(n,t),n}(e.a,r);r=e.b.get(t)||Promise.resolve(),e.b.set(t,r.then((function(){return h((function t(){var r,s,u;return M(t,(function(t){switch(t.j){case 1:return T(t,function(e,t){return h((function n(){var r;return M(n,(function(n){switch(n.j){case 1:return T(n,e.h.request(1,t).promise,2);case 2:return r=n.o,n.return(r.data)}}))}))}(e,n),2);case 2:if(r=t.o,e.c)throw new he(2,9,7001);if(i){s=new Uint8Array(r);for(var l=d(new Gr(s).data),c=l.next();!c.done;c=l.next())u=c.value,e.f(u)}return e.a.close(o,r.byteLength),l=e.a,e.g(0==l.b?0:l.f/l.b,e.a.a),t.return(a(r))}}))}))})))}function jo(e,t){var n=this;this.c=e,this.b=e.objectStore(t),this.a=new pe,e.onabort=function(e){e.preventDefault(),n.a.reject()},e.onerror=function(e){e.preventDefault(),n.a.reject()},e.oncomplete=function(){n.a.resolve()}}function Uo(e,t){return new Promise((function(n,r){var i=e.b.openCursor();i.onerror=r,i.onsuccess=function(e){if(!(e=e.target.result))return n();t(e.key,e.value,e),e.continue()}}))}function Bo(e){this.b=e,this.a=[]}function Fo(e,t){return Go(e,t,"readonly")}function Ho(e,t){return Go(e,t,"readwrite")}function Go(e,t,n){var r=new jo(n=e.b.transaction([t],n),t);return e.a.push(r),r.promise().then((function(){Ce(e.a,r)}),(function(){Ce(e.a,r)})),r}function Vo(e){this.a=new Bo(e)}function zo(){this.a=new Map}function Wo(e,t,n){if(!(e=e.a.get(t)))throw new he(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new he(2,9,9013,"Could not find cell with name "+n);return t}function qo(e,t){Ko.set(e,t)}io.prototype.destroy=function(){for(var e=d(this.b.values()),t=e.next();!t.done;t=e.next())Oo(t.value);return this.b.clear(),this.i.clear(),this.g=this.h=this.v=this.c=this.a=null,this.f=!0,Promise.resolve()},io.prototype.configure=function(e){this.g=e,this.F=new de({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},io.prototype.start=function(){var e=this;return h((function t(){var n,r,i;return M(t,(function(t){switch(t.j){case 1:return n=e.a.Ua(),r=Eo(e,n),(i=e.a.Od(e.c.periods[r])).variant||i.text?T(t,po(e,i.variant?i.variant.audio:null,i.variant?i.variant.video:null,i.text,n),2):t.return(new he(2,5,5005));case 2:if(e.f)return t.return();e.a&&e.a.kf&&e.a.kf(),S(t)}}))}))},io.prototype.L=function(e,t,n,r){var i=r.reader.gd(),a=r.reader.gd(),o=r.reader.G(),s=r.reader.G(),u=r.reader.G(),l=r.reader.G();r=r.reader.Za(r.reader.I.byteLength-r.reader.ba()),e=e.startTime+t.startTime+s/o,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.a.lf():this.a.onEvent(new Te("emsg",{detail:{startTime:e,endTime:e+u/o,schemeIdUri:i,value:a,timescale:o,presentationTimeDelta:s,eventDuration:u,id:l,messageData:r}})))},F("shaka.net.HttpFetchPlugin",Io),Io.l=function(e,t,n,r,i){return h((function a(){var o,s,u,l,c,d,f,p,m,g,v,y;return M(a,(function(a){switch(a.j){case 1:return o=Io.g,s=Io.c,d=c=0,f=Date.now(),E(a,2),T(a,o(e,n),4);case 4:return u=a.o,p=u.clone().body.getReader(),g=(m=u.headers.get("Content-Length"))?parseInt(m,10):0,new s({start:function(e){!function t(){return h((function n(){var r,a;return M(n,(function(n){switch(n.j){case 1:return E(n,2),T(n,p.read(),4);case 4:r=n.o,x(n,3);break;case 2:return C(n),n.return();case 3:r.done||(c+=r.value.byteLength),(100<(a=Date.now())-f||r.done)&&(i(a-f,c-d,g-c),d=c,f=a),r.done?e.close():(e.enqueue(r.value),t()),S(n)}}))}))}()}}),T(a,u.arrayBuffer(),5);case 5:l=a.o,x(a,3);break;case 2:if(v=C(a),r.Ad)throw new he(1,1,7001,e,t);if(r.ie)throw new he(1,1,1003,e,t);throw new he(1,1,1002,e,v,t);case 3:return y={},u.headers.forEach((function(e,t){y[t.trim()]=e})),a.return(Po(y,l,u.status,e,u.url,t))}}))}))},Io.isSupported=function(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(dc){return!1}return!(!e.fetch||!e.AbortController)},Io.isSupported=Io.isSupported,Io.g=e.fetch,Io.a=e.AbortController,Io.c=e.ReadableStream,Io.b=e.Headers,Io.isSupported()&&(Le("http",Io,2),Le("https",Io,2)),F("shaka.net.HttpXHRPlugin",Lo),Lo.f=e.XMLHttpRequest,Le("http",Lo,1),Le("https",Lo,1),Mo.prototype.close=function(e,t){if(this.c.has(e)){var n=this.c.get(e);this.c.delete(e),this.f+=n,this.a+=t}},Do.prototype.destroy=function(){return this.c=!0,Promise.all(this.b.values()).then((function(){}),(function(){}))},jo.prototype.abort=function(){try{this.c.abort()}catch(dc){}return this.a.catch((function(){}))},jo.prototype.store=function(){return this.b},jo.prototype.promise=function(){return this.a},Bo.prototype.destroy=function(){return Promise.all(this.a.map((function(e){return e.abort()})))},Vo.prototype.destroy=function(){return this.a.destroy()},Vo.prototype.getAll=function(){var e=this;return h((function t(){var n,r;return M(t,(function(t){switch(t.j){case 1:return n=Fo(e.a,"session-ids"),r=[],T(t,Uo(n,(function(e,t){r.push(t)})),2);case 2:return T(t,n.promise(),3);case 3:return t.return(r)}}))}))},Vo.prototype.add=function(e){for(var t=Ho(this.a,"session-ids"),n=t.store(),r=(e=d(e)).next();!r.done;r=e.next())n.add(r.value);return t.promise()},Vo.prototype.remove=function(e){var t=this;return h((function n(){var r;return M(n,(function(n){switch(n.j){case 1:return T(n,Uo(r=Ho(t.a,"session-ids"),(function(t,n,r){0<=e.indexOf(n.sessionId)&&r.delete()})),2);case 2:return T(n,r.promise(),0)}}))}))},zo.prototype.destroy=function(){for(var e=[],t=d(this.a.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.a.clear(),Promise.all(e)},zo.prototype.init=function(){var e=this;Ko.forEach((function(t,n){var r=t();r&&e.a.set(n,r)}));for(var t=[],n=d(this.a.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)},zo.prototype.erase=function(){var e=this;return h((function t(){var n,r;return M(t,(function(t){switch(t.j){case 1:return n=Array.from(e.a.values()),(r=0<n.length)||Ko.forEach((function(e){(e=e())&&n.push(e)})),T(t,Promise.all(n.map((function(e){return e.erase()}))),2);case 2:if(!r)return T(t,Promise.all(n.map((function(e){return e.destroy()}))),0);t.A(0)}}))}))},F("shaka.offline.StorageMuxer.register",qo),F("shaka.offline.StorageMuxer.unregister",(function(e){Ko.delete(e)}));var Ko=new Map;function Xo(e){this.a=new Bo(e)}function Yo(e){return Promise.reject(new he(2,9,9011,"Cannot add new value to "+e))}function $o(e,t,n,r){var i=(e=Ho(e.a,t)).store();return n.forEach((function(e){i.delete(e).onsuccess=function(){return r(e)}})),e.promise()}function Jo(e,t,n){var r=(e=Fo(e.a,t)).store(),i={},a=[];return n.forEach((function(e){r.get(e).onsuccess=function(t){void 0==(t=t.target.result)&&a.push(e),i[e]=t}})),e.promise().then((function(){return a.length?Promise.reject(new he(2,9,9012,"Could not find values for "+a)):n.map((function(e){return i[e]}))}))}function Qo(e){return{originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,periods:e.periods.map(Zo),sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata}}function Zo(e){return function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType})),n=e.streams.filter((function(e){return"video"==e.contentType}));if(!t.every((function(e){return e.variantIds}))||!n.every((function(e){return e.variantIds}))){t.forEach((function(e){e.variantIds=[]})),n.forEach((function(e){e.variantIds=[]}));var r=0;if(n.length&&!t.length){var i=r++;n.forEach((function(e){e.variantIds.push(i)}))}if(!n.length&&t.length){var a=r++;t.forEach((function(e){e.variantIds.push(a)}))}n.length&&t.length&&t.forEach((function(e){n.forEach((function(t){var n=r++;e.variantIds.push(n),t.variantIds.push(n)}))}))}}(e),e.streams.forEach((function(){})),{startTime:e.startTime,streams:e.streams.map(es)}}function es(e){var t=e.cf?rs(e.cf):null;return{id:e.id,originalId:null,primary:e.primary,presentationTimeOffset:e.presentationTimeOffset,contentType:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:t,encrypted:e.encrypted,keyId:e.keyId,segments:e.segments.map(ts),variantIds:e.variantIds}}function ts(e){var t=rs(e.uri);return{startTime:e.startTime,endTime:e.endTime,dataKey:t}}function ns(e){return{data:e.data}}function rs(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new he(2,9,9004,"Could not parse uri "+e)}function is(e,t,n,r){this.a=new Bo(e),this.c=t,this.b=n,this.f=r}function as(e,t,n){if(e.f)return Promise.reject(new he(1,9,9011,"Cannot add new value to "+t));var r=(e=Ho(e.a,t)).store(),i=[];return n.forEach((function(e){r.add(e).onsuccess=function(e){i.push(e.target.result)}})),e.promise().then((function(){return i}))}function os(e,t,n,r){var i=(e=Ho(e.a,t)).store();return n.forEach((function(e){i.delete(e).onsuccess=function(){return r(e)}})),e.promise()}function ss(e,t,n){var r=(e=Fo(e.a,t)).store(),i={},a=[];return n.forEach((function(e){var t=r.get(e);t.onsuccess=function(){void 0==t.result&&a.push(e),i[e]=t.result}})),e.promise().then((function(){return a.length?Promise.reject(new he(1,9,9012,"Could not find values for "+a)):n.map((function(e){return i[e]}))}))}function us(){this.g=this.c=this.b=this.a=this.f=null}function ls(e,t,n,r){this.a=e,this.g=t,this.f=n,this.c=r,this.b=["offline:",e,"/",t,"/",n,"/",r].join("")}function cs(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var r=e[3];return r&&null!=t?new ls(t,n,r,Number(e[4])):null}function ds(e,t){this.b=e,this.a=t}function fs(e,t,n){var r=t.streams.filter((function(e){return"audio"==e.contentType})),i=t.streams.filter((function(e){return"video"==e.contentType}));return r=function(e,t,n){for(var r=new Set,i=d(t),a=i.next();!a.done;a=i.next()){var o=d(a.value.variantIds);for(a=o.next();!a.done;a=o.next())r.add(a.value)}for(i=d(n),a=i.next();!a.done;a=i.next())for(o=d(a.value.variantIds),a=o.next();!a.done;a=o.next())r.add(a.value);for(i=new Map,r=d(r),a=r.next();!a.done;a=r.next())a=a.value,i.set(a,{id:a,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0});for(t=d(t),r=t.next();!r.done;r=t.next())for(r=r.value,a=hs(e,r),o=d(r.variantIds),r=o.next();!r.done;r=o.next())(r=i.get(r.value)).language=a.language,r.primary=r.primary||a.primary,r.audio=a;for(n=d(n),t=n.next();!t.done;t=n.next())for(r=t.value,t=hs(e,r),a=d(r.variantIds),r=a.next();!r.done;r=a.next())(r=i.get(r.value)).primary=r.primary||t.primary,r.video=t;return i}(e,r,i),i=t.streams.filter((function(e){return"text"==e.contentType})).map((function(t){return hs(e,t)})),t.streams.forEach((function(r){r=r.segments.map((function(t,n){return ps(e,n,t)})),n.ub(r,t.startTime)})),{startTime:t.startTime,variants:Array.from(r.values()),textStreams:i}}function hs(e,t){var n=t.segments.map((function(t,n){return ps(e,n,t)})),r=new ri(n);return n={id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(e){return r.find(e)},getSegmentReference:function(e){return r.get(e)},initSegmentReference:null,presentationTimeOffset:t.presentationTimeOffset,mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate||void 0,kind:t.kind,encrypted:t.encrypted,keyId:t.keyId,language:t.language,label:t.label||null,type:t.contentType,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},null!=t.initSegmentKey&&(n.initSegmentReference=function(e,t){var n=new ls("segment",e.b,e.a,t);return new ei((function(){return[n.toString()]}),0,null)}(e,t.initSegmentKey)),n}function ps(e,t,n){var r=new ls("segment",e.b,e.a,n.dataKey);return new ti(t,n.startTime,n.endTime,(function(){return[r.toString()]}),0,null)}function ms(){this.a=null}function gs(e){var t=cs(e);return t&&"manifest"==t.a?gs.h(e):t&&"segment"==t.a?gs.i(t.key(),t):ge(new he(2,1,9004,e))}function vs(e,t,n){return h((function r(){var i,a,o,s,u,l;return M(r,(function(r){switch(r.j){case 1:i=[];for(var c=[],f=d(n),p=f.next();!p.done;p=f.next()){p=p.value;for(var m=!1,g=d(c),v=g.next();!v.done;v=g.next())if(ys((v=v.value).info,p)){v.sessionIds.push(p.sessionId),m=!0;break}m||c.push({info:p,sessionIds:[p.sessionId]})}a=d(c),o=a.next();case 2:if(o.done){r.A(4);break}return s=o.value,u=function(e,t,n){return h((function r(){var i,a;return M(r,(function(r){switch(r.j){case 1:return i=new dt({tb:t,onError:function(){},mc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),E(r,2),i.configure(e),T(r,function(e,t,n,r,i,a){var o=new Map;return o.set(t,{audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t,drmInfos:[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,initData:null,keyIds:null}]}),_t(e,o)}(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:x(r,3);break;case 2:return C(r),T(r,i.destroy(),5);case 5:return r.return([]);case 3:return E(r,6),T(r,pt(i),8);case 8:x(r,7);break;case 6:return C(r),T(r,i.destroy(),9);case 9:return r.return([]);case 7:return a=[],T(r,Promise.all(n.sessionIds.map((function(e){return h((function t(){return M(t,(function(t){switch(t.j){case 1:return E(t,2),T(t,function(e,t){return h((function n(){var r,i,a;return M(n,(function(n){switch(n.j){case 1:return T(n,wt(e,t),2);case 2:return(r=n.o)?(i=[],(a=e.b.get(r))&&(a.xa=new pe,i.push(a.xa)),i.push(r.remove()),T(n,Promise.all(i),0)):n.return()}}))}))}(i,e),4);case 4:a.push(e),x(t,0);break;case 2:C(t),S(t)}}))}))}))),10);case 10:return T(r,i.destroy(),11);case 11:return r.return(a)}}))}))}(e,t,s),T(r,u,5);case 5:l=r.o,i=i.concat(l),o=a.next(),r.A(2);break;case 4:return r.return(i)}}))}))}function ys(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&Ae(e.audioCapabilities,t.audioCapabilities,n)&&Ae(e.videoCapabilities,t.videoCapabilities,n)}function bs(e,t){var n={za:null,u:null,mimeType:null,startTime:null,ud:null,uri:null},r=this;this.g=t,this.c=e,this.i=n,this.h=null,this.f=[],this.b=this.a=null,this.l=!0,this.m=Promise.resolve().then((function(){return function(e){return h((function t(){return M(t,(function(t){switch(t.j){case 1:if(e.l){if(0==e.f.length||e.a&&!e.a.Va)var n=!1;else{e.a&&(e.a.ta.Ya(),e.a=null);var r=(n=e.f.shift()).create(e.i);r?(n.ta.vb(),e.a={node:r.node,payload:r.payload,Va:r.Va,ta:n.ta}):n.ta.nc(),n=!0}return n?n=Promise.resolve():e.a?n=function(e){return h((function t(){var n,r;return M(t,(function(t){switch(t.j){case 1:return e.c=e.g.Se(e.c,e.i,e.a.node,e.a.payload),E(t,2),e.b=e.g.Be(e.c,e.i,e.a.payload),T(t,e.b.promise,4);case 4:e.b=null,e.c==e.a.node&&(e.a.ta.lc(),e.a=null),x(t,0);break;case 2:return 7001==(n=C(t)).code?e.a.ta.Ya():e.a.ta.onError(n),e.a=null,e.b=null,r=e,T(t,e.g.handleError(e.i,n),5);case 5:r.c=t.o,S(t)}}))}))}(e):(e.g.jf(e.c),e.h=new pe,n=e.h),T(t,n,1)}t.A(0)}}))}))}(r)}))}function _s(e,t){var n={vb:function(){},lc:function(){},Ya:function(){},onError:function(){},nc:function(){},ug:function(){}};return e.f.push({create:t,ta:n}),e.b&&e.b.abort(),ws(e),n}function ws(e){e.h&&(e.h.resolve(),e.h=null)}function Ts(e){this.a=null;for(var t=0;t<e.textTracks.length;++t){var n=e.textTracks[t];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function Ss(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,t.size=e.size;try{t.align=e.textAlign}catch(n){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t}function Es(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=e.cues,i=r.length-1;0<=i;i--){var a=r[i];a&&t(a)&&e.removeCue(a)}e.mode=n}function ks(e,t,n,r,i){var a,o=i in r,s=!0;for(a in t){var u=i+"."+a,l=o?r[i]:n[a];o||a in n?void 0===t[a]?void 0===l||o?delete e[a]:e[a]=ke(l):l.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=ke(l)),u=ks(e[a],t[a],l,r,u),s=s&&u):typeof t[a]!=typeof l||null==t[a]||t[a].constructor!=l.constructor?s=!1:e[a]=t[a]:s=!1}return s}function xs(e,t){for(var n={},r=n,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(r[a=e.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[e.substring(a).replace(/\\\./g,".")]=t,n}function Cs(){}function As(){var e=5e5,t=1/0;navigator.connection&&(e=1e6*navigator.connection.downlink,navigator.connection.saveData&&(t=360));var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:St,fairPlayTransform:!0},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,disableAudio:!1,dash:{customScheme:function(e){if(e)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10,ignoreMinBufferTime:!1,autoCorrectDrift:!0},hls:{ignoreTextStreamFailures:!1}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(){},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0};et("Web0S")&&(i.stallEnabled=!1);var a={trackSelectionCallback:function(e){return e},progressCallback:function(){},usePersistentLicense:!0},o={drm:n,manifest:r,streaming:i,offline:a,abrFactory:Kn,abr:{enabled:!0,defaultBandwidthEstimate:e,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return a.trackSelectionCallback=function(e){return function(e,t){var n=e.filter((function(e){return"variant"==e.type})),r=[],i=Pn(t,n.map((function(e){return e.language})));i&&(r=n.filter((function(e){return On(e.language)==i}))),0==r.length&&(r=n.filter((function(e){return e.primary}))),0==r.length&&(n.map((function(e){return e.language})),r=n);var a=r.filter((function(e){return e.height&&480>=e.height}));if(a.length&&(a.sort((function(e,t){return t.height-e.height})),r=a.filter((function(e){return e.height==a[0].height}))),n=[],r.length){var o=Math.floor(r.length/2);r.sort((function(e,t){return e.bandwidth-t.bandwidth})),n.push(r[o])}for(r=d(e),o=r.next();!o.done;o=r.next())"text"==(o=o.value).type&&n.push(o);return n}(e,o.preferredAudioLanguage)},o}function Os(e,t,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return ks(e,t,n||As(),r,"")}function Rs(){this.a=null,this.b=[]}function Ps(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:n,state:t,duration:0})}}function Is(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);for(var r=d(e.b),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==t?i.duration:0;return n}function Ls(){this.b=this.c=null,this.a=[]}function Ms(){this.f=this.l=this.b=this.h=this.i=this.g=this.m=NaN,this.a=new Rs,this.c=new Ls}function Ds(t,n){var r=this;Ee.call(this),this.h=bu,this.a=null,this.gb=!1,this.g=new He,this.zc=this.l=this.Eb=this.b=this.m=this.f=this.Vb=this.B=this.Wb=this.W=this.ib=this.s=this.F=this.i=this.L=null,this.Kd=1e9,this.Zb=new Set,this.kb=!0,this.Ga=null,this.Hd=!1,this.Fd=0,this.oa=null,this.$=new ma,this.c=Ws(this),this.$b={width:1/0,height:1/0},this.v=null,this.Xb=new Ea(this.c.preferredAudioLanguage,this.c.preferredVariantRole,this.c.preferredAudioChannelCount),this.na=this.c.preferredTextLanguage,this.fb=this.c.preferredTextRole,n&&n(this),this.L=function(e){return new Pe((function(t,n){e.l&&e.l.segmentDownloaded(t,n)}))}(this),this.g.w(e,"online",(function(){r.nd()})),this.D={name:"detach"},this.R={name:"attach"},this.Ha={name:"unload"},this.Ic={name:"manifest-parser"},this.Gc={name:"manifest"},this.hb={name:"media-source"},this.Ac={name:"drm-engine"},this.T={name:"load"},this.Nc={name:"src-equals-drm-engine"},this.jb={name:"src-equals"};var i=new Map;i.set(this.R,(function(e,t){return be(function(e,t,n){return null==t.u&&(t.u=n.u,e.g.w(t.u,"error",(function(){var t=ou(e);t&&e.Ma(t)}))),e.a=t.u,Promise.resolve()}(r,e,t))})),i.set(this.D,(function(e){return e.u&&(r.g.ea(e.u,"error"),e.u=null),r.a=null,be(e=Promise.resolve())})),i.set(this.Ha,(function(e){return be(Bs(r,e))})),i.set(this.hb,(function(t){return be(t=function(t,n){return h((function r(){var i,a,o,s;return M(r,(function(r){switch(r.j){case 1:return i=e.muxjs?new It:new Lt,a=t.c.textDisplayFactory,o=new a,t.Bc=a,T(r,(s=new pn(n.u,i,o)).s,2);case 2:t.F=s,S(r)}}))}))}(r,t))})),i.set(this.Ic,(function(e,t){return be(function(e,t,n){return h((function r(){var i,a,o;return M(r,(function(r){switch(r.j){case 1:if(t.za=n.za,t.mimeType=n.mimeType,t.uri=n.uri,i=t.uri,a=e.L,e.Eb=i,t.za){e.m=t.za(),r.A(2);break}return o=e,T(r,bi.create(i,a,e.c.manifest.retryParameters,t.mimeType),3);case 3:o.m=r.o;case 2:e.m.configure(e.c.manifest),S(r)}}))}))}(r,e,t))})),i.set(this.Gc,(function(e){return function(e,t){var n=t.uri,r=e.L;e.Vb=new Za,function(e,t){e.b=t}(e.Vb,(function(t){au(e,"timelineregionadded",t)}));var i={networkingEngine:r,filterNewPeriod:function(t){return e.Jc(t)},filterAllPeriods:function(t){return qs(e,t)},onTimelineRegionAdded:function(t){var n=e.Vb;e:{for(var r=d(n.a),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==t.schemeIdUri&&i.id==t.id&&i.startTime==t.startTime&&i.endTime==t.endTime){r=i;break e}r=null}null==r&&(n.a.add(t),n.b(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return e.Ma(t)}};return new me(Promise.resolve().then((function(){return h((function t(){var r;return M(t,(function(t){switch(t.j){case 1:return r=e,T(t,e.m.start(n,i),2);case 2:if(r.b=t.o,e.dispatchEvent(new Te("manifestparsed")),0==e.b.periods.length)throw new he(2,4,4014);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.some((function(e){return e.variants.some(t)}))&&e.forEach((function(e){e.variants=e.variants.filter(t)}))}(e.b.periods),S(t)}}))}))})),(function(){return e.m.stop()}))}(r,e)})),i.set(this.Ac,(function(){return be(function(e){return h((function t(){return M(t,(function(t){switch(t.j){case 1:return e.i=new dt({tb:e.L,onError:function(t){e.Ma(t)},mc:function(t){su(e,t)},onExpirationUpdated:function(t,n){uu(e,t,n)},onEvent:function(t){e.dispatchEvent(t)}}),e.i.configure(e.c.drm),T(t,ft(e.i,Na(e.b.periods),e.b.offlineSessionIds),2);case 2:qs(e,e.b.periods),S(t)}}))}))}(r))})),i.set(this.T,(function(e,t){return be(function(e,t,n){return h((function r(){var i,a,o,s,u,l,c,f,h;return M(r,(function(r){switch(r.j){case 1:return t.startTime=n.startTime,i=t.u,a=t.uri,e.Eb=a,e.v=new Ms,o=function(){return $s(e)},s=function(){var t=e.a.playbackRate;0!=t&&e.W.set(t)},e.g.w(i,"playing",o),e.g.w(i,"pause",o),e.g.w(i,"ended",o),e.g.w(i,"ratechange",s),u=e.c.abrFactory,e.l&&e.zc==u||(e.zc=u,e.l=new u,e.l.configure(e.c.abr)),function(e,t){for(var n=0;n<t.length;n++){for(var r=t[n],i=new Map,a=d(r.variants),o=a.next();!o.done;o=a.next())if((o=o.value).video&&o.video.closedCaptions)for(var s=d((o=o.video).closedCaptions.keys()),u=s.next();!u.done;u=s.next())if(u=u.value,!i.has(u)){var l={id:e.Kd++,originalId:u,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,keyId:null,language:o.closedCaptions.get(u),label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:o.roles,channelsCount:null,closedCaptions:null};i.set(u,l)}for(i=d(i.values()),a=i.next();!a.done;a=i.next())r.textStreams.push(a.value)}}(e,e.b.periods),e.Xb=new Ea(e.c.preferredAudioLanguage,e.c.preferredVariantRole,e.c.preferredAudioChannelCount),e.na=e.c.preferredTextLanguage,function(e,t,n){0<t&&(e.V()||e.fe(t)),n<e.Y()&&(e.V()||e.wa(n))}(e.b.presentationTimeline,e.c.playRangeStart,e.c.playRangeEnd),T(r,e.i.Fb(i),2);case 2:return e.l.init((function(t,n,r){n=void 0!==n&&n,r=void 0===r?0:r;e:{for(var i=d(e.b.periods),a=i.next();!a.done;a=i.next())if((a=a.value).variants.includes(t)){i=a;break e}i=null}Vs(e,i,t,!0),e.f&&(co(e.f,t,n,r),Zs(e))})),e.s=function(e,t){return new Ya(e.a,e.b,e.c.streaming,t,(function(){e.ib&&Da(e.ib,!0),e.f&&function(e){function t(t){var i=e.a.J;return"text"==t?t=null!=(t=i.a).a&&null!=t.b&&(n>=t.a&&n<t.b):t=Dt(t=wn(i,t),n,r),t}var n=e.a.Ua(),r=e.g.smallGapLimit,i=Eo(e,n);if(qe(e.b.values(),(function(e){return e.ia==i})))for(var a=d(e.b.keys()),o=a.next();!o.done;o=a.next())t(o=o.value)||ho(e,e.b.get(o));else qe(e.b.keys(),t)||e.b.forEach((function(t){ho(e,t)}))}(e.f),e.B&&Hs(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t.startTime),e.ib=function(e){var t=new Ua(e.b);!function(e,t){e.b=t}(t,(function(){eu(e)}));var n=new eo(e.Vb);!function(e,t,n,r){e.a=t,e.b=n,e.c=r}(n,(function(t){au(e,"timelineregionenter",t)}),(function(t){au(e,"timelineregionexit",t)}),(function(t,n){n||(au(e,"timelineregionenter",t),au(e,"timelineregionexit",t))}));var r=new Ma(e.a);return r.a.add(t),r.a.add(n),r}(e),e.W=new Ba({gc:function(){return t.u.playbackRate},rd:function(e){t.u.playbackRate=e},Ld:function(e){t.u.currentTime+=e}}),l=Math.max(e.b.minBufferTime,e.c.streaming.rebufferingGoal),Fs(e,l),e.f=function(e){return new io(e.b,{Ua:function(){return e.s.h()},getBandwidthEstimate:function(){return e.l.getBandwidthEstimate()},J:e.F,tb:e.L,Od:e.gf.bind(e),Nd:e.ve.bind(e),onError:e.Ma.bind(e),onEvent:function(t){return e.dispatchEvent(t)},lf:e.mf.bind(e),dd:e.tf.bind(e)})}(e),e.f.configure(e.c.streaming),function(e){function t(e){var t="";e.video&&(t=$e(e.video.codecs)[0]);var n="";return e.audio&&(n=$e(e.audio.codecs)[0]),t+"-"+n}var n=e.b.periods.reduce((function(e,t){return e.concat(t.variants)}),[]);n=Vn(n,e.c.preferredAudioChannelCount);var r=new Se;n.forEach((function(e){var n=t(e);r.push(n,e)}));var i=null,a=1/0;r.forEach((function(e,t){var n=0,r=0;t.forEach((function(e){n+=e.bandwidth||0,++r}));var o=n/r;o<a&&(i=e,a=o)})),e.b.periods.forEach((function(e){e.variants=e.variants.filter((function(e){return t(e)==i}))}))}(e),e.h=_u,e.dispatchEvent(new Te("streaming")),T(r,e.f.start(),3);case 3:e.c.streaming.startAtSegmentBoundary&&(c=e.s.h(),f=function(e,t){function n(e,t){if(!e)return null;var n=e.findSegmentPosition(t-a.startTime);return null==n?null:(n=e.getSegmentReference(n))?n.startTime+a.startTime:null}var r=ao(e.f),i=oo(e.f),a=hu(e);return r=n(r,t),null!=(i=n(i,t))&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:t}(e,c),e.s.m(f)),e.b.periods.forEach(e.Jc.bind(e)),eu(e),Zs(e),(h=hu(e)||e.b.periods[0]).variants.some((function(e){return e.primary})),Js(e,h.variants),e.g.da(i,"loadeddata",(function(){e.v.b=Date.now()/1e3-n.ud})),S(r)}}))}))}(r,e,t))})),i.set(this.Nc,(function(e){return be(e=function(e,t){return h((function n(){var r,i;return M(n,(function(n){switch(n.j){case 1:return r=Ht,e.i=new dt({tb:e.L,onError:function(t){e.Ma(t)},mc:function(t){su(e,t)},onExpirationUpdated:function(t,n){uu(e,t,n)},onEvent:function(t){e.dispatchEvent(t)}}),e.i.configure(e.c.drm),i={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"video/mp4",codecs:"",encrypted:!0,keyId:null,language:"und",label:null,type:r.Pa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},T(n,ft(e.i,[i],[]),2);case 2:return T(n,e.i.Fb(t.u),0)}}))}))}(r,e))})),i.set(this.jb,(function(e,t){return function(e,t,n){function r(){return $s(e)}if(t.uri=n.uri,t.startTime=n.startTime,e.Eb=t.uri,e.v=new Ms,e.s=new Xa(t.u),null!=t.startTime&&e.s.m(t.startTime),e.W=new Ba({gc:function(){return t.u.playbackRate},rd:function(e){t.u.playbackRate=e},Ld:function(e){t.u.currentTime+=e}}),Fs(e,e.c.streaming.rebufferingGoal),e.g.w(t.u,"playing",r),e.g.w(t.u,"pause",r),e.g.w(t.u,"ended",r),e.g.da(t.u,"loadeddata",(function(){e.v.b=Date.now()/1e3-n.ud})),e.a.audioTracks&&(e.g.w(e.a.audioTracks,"addtrack",(function(){return eu(e)})),e.g.w(e.a.audioTracks,"removetrack",(function(){return eu(e)})),e.g.w(e.a.audioTracks,"change",(function(){return eu(e)}))),e.a.textTracks){var i=e.a.textTracks;e.g.w(i,"addtrack",(function(){return eu(e)})),e.g.w(i,"removetrack",(function(){return eu(e)})),e.g.w(i,"change",(function(){return eu(e)}))}t.u.src=t.uri,e.h=wu,e.dispatchEvent(new Te("streaming"));var a=new pe;return e.a.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?a.resolve():e.a.error?a.reject(ou(e)):(e.g.da(e.a,"loadeddata",(function(){a.resolve()})),e.g.da(e.a,"error",(function(){a.reject(ou(e))}))),new me(a,(function(){return a.reject(new he(2,7,7001)),Promise.resolve()}))}(r,e,t)})),this.lb=new bs(this.D,{Se:function(e,t,n,i){var a=null;return e==r.D&&(a=n==r.D?r.D:r.R),e==r.R&&(a=n==r.D||t.u!=i.u?r.D:n==r.R?r.R:n==r.hb||n==r.T?r.hb:n==r.jb?r.Nc:null),e==r.hb&&(a=n==r.T&&t.u==i.u?r.Ic:r.Ha),e==r.Ic&&(a=gu(r.T,r.Gc,r.Ha,n,t,i)),e==r.Gc&&(a=gu(r.T,r.Ac,r.Ha,n,t,i)),e==r.Ac&&(a=gu(r.T,r.T,r.Ha,n,t,i)),e==r.Nc&&(a=n==r.jb&&t.u==i.u?r.jb:r.Ha),e!=r.T&&e!=r.jb||(a=r.Ha),e==r.Ha&&(a=i.u&&t.u==i.u?r.R:r.D),a},Be:function(e,t,n){return r.dispatchEvent(new Te("onstatechange",{state:e.name})),i.get(e)(t,n)},handleError:function(e){return h((function t(){return M(t,(function(t){switch(t.j){case 1:return T(t,Bs(r,e),2);case 2:return t.return(e.u?r.R:r.D)}}))}))},jf:function(e){r.dispatchEvent(new Te("onstateidle",{state:e.name}))}}),t&&this.Fb(t,!0)}(n=Xo.prototype).destroy=function(){return this.a.destroy()},n.hasFixedKeySpace=function(){return!0},n.addSegments=function(){return Yo("segment")},n.removeSegments=function(e,t){return $o(this,"segment",e,t)},n.getSegments=function(e){return Jo(this,"segment",e).then((function(e){return e.map(ns)}))},n.addManifests=function(){return Yo("manifest")},n.updateManifestExpiration=function(e,t){var n=Ho(this.a,"manifest"),r=n.store(),i=new pe;return r.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,r.put(n),i.resolve()):i.reject(new he(2,9,9012,"Could not find values for "+e))},n.promise().then((function(){return i}))},n.removeManifests=function(e,t){return $o(this,"manifest",e,t)},n.getManifests=function(e){return Jo(this,"manifest",e).then((function(e){return e.map(Qo)}))},n.getAllManifests=function(){var e=this;return h((function t(){var n,r;return M(t,(function(t){switch(t.j){case 1:return n=Fo(e.a,"manifest"),r=new Map,T(t,Uo(n,(function(e,t){r.set(e,Qo(t))})),2);case 2:return T(t,n.promise(),3);case 3:return t.return(r)}}))}))},(n=is.prototype).destroy=function(){return this.a.destroy()},n.hasFixedKeySpace=function(){return this.f},n.addSegments=function(e){return as(this,this.c,e)},n.removeSegments=function(e,t){return os(this,this.c,e,t)},n.getSegments=function(e){return ss(this,this.c,e)},n.addManifests=function(e){return as(this,this.b,e)},n.updateManifestExpiration=function(e,t){var n=Ho(this.a,this.b),r=n.store();return r.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,r.put(n,e))},n.promise()},n.removeManifests=function(e,t){return os(this,this.b,e,t)},n.getManifests=function(e){return ss(this,this.b,e)},n.getAllManifests=function(){var e=this;return h((function t(){var n,r;return M(t,(function(t){switch(t.j){case 1:return n=Fo(e.a,e.b),r=new Map,T(t,Uo(n,(function(e,t){r.set(e,t)})),2);case 2:return T(t,n.promise(),3);case 3:return t.return(r)}}))}))},(n=us.prototype).init=function(){var t=this,n=new pe,r=e.indexedDB.open("shaka_offline_db",4);return r.onsuccess=function(e){e=e.target.result,t.f=e;var r=e.objectStoreNames;r=r.contains("manifest")&&r.contains("segment")?new Xo(e):null,t.a=r,r=(r=e.objectStoreNames).contains("manifest-v2")&&r.contains("segment-v2")?new is(e,"segment-v2","manifest-v2",!0):null,t.b=r,r=(r=e.objectStoreNames).contains("manifest-v3")&&r.contains("segment-v3")?new is(e,"segment-v3","manifest-v3",!1):null,t.c=r,e=e.objectStoreNames.contains("session-ids")?new Vo(e):null,t.g=e,n.resolve()},r.onupgradeneeded=function(e){e=e.target.result;for(var t=d(["segment-v3","manifest-v3","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},r.onerror=function(e){n.reject(new he(2,9,9001,r.error)),e.preventDefault()},n},n.destroy=function(){var e=this;return h((function t(){return M(t,(function(t){switch(t.j){case 1:if(!e.a){t.A(2);break}return T(t,e.a.destroy(),2);case 2:if(!e.b){t.A(4);break}return T(t,e.b.destroy(),4);case 4:if(!e.c){t.A(6);break}return T(t,e.c.destroy(),6);case 6:if(!e.g){t.A(8);break}return T(t,e.g.destroy(),8);case 8:e.f&&e.f.close(),S(t)}}))}))},n.getCells=function(){var e=new Map;return this.a&&e.set("v1",this.a),this.b&&e.set("v2",this.b),this.c&&e.set("v3",this.c),e},n.getEmeSessionCell=function(){return this.g},n.erase=function(){var t=this;return h((function n(){return M(n,(function(n){switch(n.j){case 1:if(!t.a){n.A(2);break}return T(n,t.a.destroy(),2);case 2:if(!t.b){n.A(4);break}return T(n,t.b.destroy(),4);case 4:if(!t.c){n.A(6);break}return T(n,t.c.destroy(),6);case 6:return t.f&&t.f.close(),T(n,function(){var t=new pe,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new he(2,9,9001,n.error)),e.preventDefault()},t}(),8);case 8:return t.f=null,t.a=null,t.b=null,t.c=null,T(n,t.init(),0)}}))}))},qo("idb",(function(){return e.indexedDB?new us:null})),ls.prototype.ua=function(){return this.g},ls.prototype.aa=function(){return this.f},ls.prototype.key=function(){return this.c},ls.prototype.toString=function(){return this.b},(n=ms.prototype).configure=function(){},n.start=function(e){var t=this;return h((function n(){var r,i,a,o,s;return M(n,(function(n){switch(n.j){case 1:return r=cs(e),t.a=r,null==r||"manifest"!=r.a?n.return(Promise.reject(new he(2,1,9004,r))):(i=new zo,k(n,2),T(n,i.init(),4));case 4:return T(n,Wo(i,r.ua(),r.aa()),5);case 5:return T(n,n.o.getManifests([r.key()]),6);case 6:return a=n.o,o=a[0],s=new ds(r.ua(),r.aa()),n.return(function(e,t){var n=new _i(null,0);n.wa(t.duration);var r=t.periods.map((function(t){return fs(e,t,n)})),i=t.drmInfo?[t.drmInfo]:[];return t.drmInfo&&r.forEach((function(e){e.variants.forEach((function(e){e.drmInfos=i}))})),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,periods:r}}(s,o));case 2:return A(n),T(n,i.destroy(),7);case 7:O(n,0)}}))}))},n.stop=function(){return Promise.resolve()},n.update=function(){},n.onExpirationUpdated=function(e,t){var n=this;return h((function r(){var i,a,o,s,u,l,c;return M(r,(function(r){switch(r.j){case 1:return i=n.a,a=new zo,E(r,2,3),T(r,a.init(),5);case 5:return T(r,Wo(a,i.ua(),i.aa()),6);case 6:return T(r,(o=r.o).getManifests([i.key()]),7);case 7:if(s=r.o,u=s[0],l=u.sessionIds.includes(e),c=void 0==u.expiration||u.expiration>t,!l||!c){r.A(3);break}return T(r,o.updateManifestExpiration(i.key(),t),3);case 3:return A(r),T(r,a.destroy(),10);case 10:O(r,0);break;case 2:C(r),r.A(3)}}))}))},bi.Bb("application/x-offline-manifest",ms),F("shaka.offline.OfflineScheme",gs),gs.h=function(e){return ye(e={uri:e,fd:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}})},gs.i=function(e,t){var n=new zo;return ye(void 0).U((function(){return n.init()})).U((function(){return Wo(n,t.ua(),t.aa())})).U((function(e){return e.getSegments([t.key()])})).U((function(e){return{uri:t,fd:t,data:e[0].data,headers:{}}})).finally((function(){return n.destroy()}))},Le("offline",gs),bs.prototype.destroy=function(){var e=this;return h((function t(){return M(t,(function(t){switch(t.j){case 1:return e.l=!1,e.b&&e.b.abort(),ws(e),T(t,e.m,2);case 2:e.a&&e.a.ta.Ya();for(var n=d(e.f),r=n.next();!r.done;r=n.next())r.value.ta.Ya();e.a=null,e.f=[],e.g=null,S(t)}}))}))},F("shaka.text.SimpleTextDisplayer",Ts),Ts.prototype.remove=function(e,t){return!!this.a&&(Es(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)},Ts.prototype.remove=Ts.prototype.remove,Ts.prototype.append=function(e){for(var t=Ss,n=[],r=0;r<e.length;r++){var i=t(e[r]);i&&n.push(i)}n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:n.indexOf(t)-n.indexOf(e)})).forEach(function(e){this.a.addCue(e)}.bind(this))},Ts.prototype.append=Ts.prototype.append,Ts.prototype.destroy=function(){return this.a&&Es(this.a,(function(){return!0})),this.a=null,Promise.resolve()},Ts.prototype.destroy=Ts.prototype.destroy,Ts.prototype.isTextVisible=function(){return"showing"==this.a.mode},Ts.prototype.isTextVisible=Ts.prototype.isTextVisible,Ts.prototype.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},Ts.prototype.setTextVisibility=Ts.prototype.setTextVisibility,F("shaka.util.ConfigUtils.mergeConfigObjects",ks),F("shaka.util.ConfigUtils.convertToConfigObject",xs),F("shaka.util.PlayerConfiguration",Cs),Cs.mergeConfigObjects=Os,H(Ds,Ee),F("shaka.Player",Ds),Ds.prototype.destroy=function(){var e=this;return h((function t(){var n;return M(t,(function(t){switch(t.j){case 1:return e.h==yu?t.return():(e.h=yu,n=_s(e.lb,(function(){return{node:e.D,payload:{za:null,u:null,mimeType:null,startTime:null,ud:null,uri:null},Va:!1}})),T(t,new Promise((function(e){n.vb=function(){},n.lc=function(){e()},n.Ya=function(){e()},n.onError=function(){e()},n.nc=function(){e()}})),2));case 2:return T(t,e.lb.destroy(),3);case 3:if(e.g&&(e.g.release(),e.g=null),e.zc=null,e.l=null,e.c=null,!e.L){t.A(0);break}return T(t,e.L.destroy(),5);case 5:e.L=null,S(t)}}))}))},Ds.prototype.destroy=Ds.prototype.destroy,Ds.version="v2.5.6";var Ns=["2","5"];Zn=new function(e){this.a=e,this.c=Jn,this.b=Qn}(new Yn(Number(Ns[0]),Number(Ns[1])));var js=["output-restricted","internal-error"],Us={};function Bs(e,t){return h((function n(){return M(n,(function(n){switch(n.j){case 1:if(e.h!=yu&&(e.h=bu),e.dispatchEvent(new Te("unloading")),t.za=null,t.mimeType=null,t.startTime=null,t.uri=null,t.u&&(e.g.ea(t.u,"loadeddata"),e.g.ea(t.u,"playing"),e.g.ea(t.u,"pause"),e.g.ea(t.u,"ended"),e.g.ea(t.u,"ratechange")),e.ib&&(e.ib.release(),e.ib=null),e.Wb&&(e.Wb.stop(),e.Wb=null),!e.m){n.A(2);break}return T(n,e.m.stop(),3);case 3:e.m=null;case 2:if(!e.l){n.A(4);break}return T(n,e.l.stop(),4);case 4:if(!e.f){n.A(6);break}return T(n,e.f.destroy(),7);case 7:e.f=null;case 6:if(e.s&&(e.s.release(),e.s=null),!e.F){n.A(8);break}return T(n,e.F.destroy(),9);case 9:e.F=null;case 8:if(!t.u||!t.u.src){n.A(10);break}return T(n,new Promise((function(e){return new ce(e).P(.1)})),11);case 11:t.u.removeAttribute("src"),t.u.load();case 10:if(!e.i){n.A(12);break}return T(n,e.i.destroy(),13);case 13:e.i=null;case 12:e.$.a.clear(),e.Eb=null,e.B=null,e.Zb.clear(),e.b=null,e.v=null,e.Bc=null,e.kb=!0,Ys(e),S(n)}}))}))}function Fs(e,t){e.B=new ka,e.B.a=Ca,xa(e.B,t,Math.min(.5,t/2)),Ys(e),e.Wb=new ce((function(){Hs(e)})).Na(.25)}function Hs(e){switch(e.h){case wu:var t=!!e.a.ended||Mt(e.a.buffered)>=e.a.duration-1;break;case _u:e:if(e.a.ended||yn(e.F))t=!0;else{if(e.b.presentationTimeline.V()){var n=e.b.presentationTimeline.pb();if(Mt(e.a.buffered)>=n){t=!0;break e}}t=!1}break;default:t=!1}var r=Nt(e.a.buffered,e.a.currentTime),i=t,a=(n=e.B).b.get(n.a);t=n.a,r=i||r>=a?Aa:Ca,n.a=r,t!=r&&Ys(e)}function Gs(e){if(e.m&&e.m.configure(e.c.manifest),e.i&&e.i.configure(e.c.drm),e.f){e.f.configure(e.c.streaming);try{e.b.periods.forEach(e.Jc.bind(e))}catch(a){e.Ma(a)}var t=ao(e.f),n=oo(e.f),r=hu(e);t=qn(t,n,r.variants),e.l&&t&&t.allowedByApplication&&t.allowedByKeySystem?Js(e,r.variants):Qs(e,r)}if(e.F&&(r=e.c.textDisplayFactory,e.Bc!=r)){t=new r;var i=(n=e.F).g;n.g=t,i&&(t.setTextVisibility(i.isTextVisible()),i.destroy()),n.a&&(n.a.c=t),e.Bc=r,e.f&&((t=(r=e.f).b.get("text"))&&fo(r,t.stream,!0,0,!0))}e.l&&(e.l.configure(e.c.abr),e.c.abr.enabled&&!e.kb?e.l.enable():e.l.disable(),iu(e)),e.B&&(r=e.c.streaming.rebufferingGoal,e.b&&(r=Math.max(r,e.b.minBufferTime)),xa(e.B,r,Math.min(.5,r/2)))}function Vs(e,t,n,r){va(e.$,t).variant=n,(e=e.v.c).c!=n&&(e.c=n,e.a.push({timestamp:Date.now()/1e3,id:n.id,type:"variant",fromAdaptation:r,bandwidth:n.bandwidth}))}function zs(e,t,n,r){ga(e.$,t,n),(e=e.v.c).b!=n&&(e.b=n,e.a.push({timestamp:Date.now()/1e3,id:n.id,type:"text",fromAdaptation:r,bandwidth:null}))}function Ws(e){var t=As();return t.streaming.failureCallback=function(t){e.V()&&[1001,1002,1003].includes(t.code)&&(t.severity=1,e.nd())},t.textDisplayFactory=function(){return new Ts(e.a)},t}function qs(e,t){var n=e.f?ao(e.f):null,r=e.f?oo(e.f):null;if(t.forEach(Dn.bind(null,e.i,n,r)),0==(n=function(e,t){var n=0;return e.forEach((function(e){n+=t(e)?1:0})),n}(t,(function(e){return e.variants.some(Gn)}))))throw new he(2,4,4032);if(n<t.length)throw new he(2,4,4011);t.forEach(function(e){Mn(e.variants,this.c.restrictions,this.$b)&&this.f&&hu(this)==e&&eu(this),lu(this,e.variants)}.bind(e))}function Ks(e,t,n,r){n=void 0!==n&&n,r=void 0===r?0:r,e.kb?(e.Ga=t,e.Hd=n,e.Fd=r):(co(e.f,t,n,r),tu(e))}function Xs(e,t){e.kb?e.oa=t:(fo(e.f,t,!0,0,!1),nu(e))}function Ys(e){var t=e.Tc();if(e.v&&e.B&&e.s){var n=e.W;n.f=t,Fa(n),$s(e)}e.dispatchEvent(new Te("buffering",{buffering:t}))}function $s(e){if(e.v&&e.B){var t=e.v.a;e.B.a==Ca?Ps(t,"buffering"):e.a.paused?Ps(t,"paused"):e.a.ended?Ps(t,"ended"):Ps(t,"playing")}}function Js(e,t){try{lu(e,t)}catch(r){return e.Ma(r),null}var n=t.filter((function(e){return Gn(e)}));return n=e.Xb.create(n),e.l.setVariants(Array.from(n.values())),e.l.chooseVariant()}function Qs(e,t){var n=Js(e,t.variants);n&&(Vs(e,t,n,!0),Ks(e,n,!0)),(n=zn(t.textStreams,e.na,e.fb)[0]||null)&&(e.c.streaming.alwaysStreamText||e.ic())&&(zs(e,t,n,!0),Xs(e,n)),Zs(e)}function Zs(e){cu(e,new Te("adaptation"))}function eu(e){cu(e,new Te("trackschanged"))}function tu(e){cu(e,new Te("variantchanged"))}function nu(e){cu(e,new Te("textchanged"))}function ru(e){cu(e,new Te("texttrackvisibility"))}function iu(e){cu(e,new Te("abrstatuschanged",{tg:e.c.abr.enabled}))}function au(e,t,n){e.dispatchEvent(new Te(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function ou(e){if(!e.a.error)return null;var t=e.a.error.code;if(1==t)return null;var n=e.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new he(2,3,3016,t,n,e.a.error.message)}function su(e,t){if(e.f){var n=hu(e),r=!1,i=Object.keys(t),a=1==i.length&&"00"==i[0];i.length&&e.b.periods.forEach((function(e){e.variants.forEach((function(e){(function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t})(e).forEach((function(n){var i=e.allowedByKeySystem;n.keyId&&(n=t[a?"00":n.keyId],e.allowedByKeySystem=!!n&&!js.includes(n)),i!=e.allowedByKeySystem&&(r=!0)}))}))})),(i=qn(i=ao(e.f),oo(e.f),n.variants))&&!i.allowedByKeySystem&&Qs(e,n),r&&(eu(e),Js(e,n.variants))}}function uu(e,t,n){e.m&&e.m.onExpirationUpdated&&e.m.onExpirationUpdated(t,n),e.dispatchEvent(new Te("expirationupdated"))}function lu(e,t){var n=e.i?Xe(e.i.T):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,a=!1,o=[],s=[],u=d(t),l=u.next();!l.done;l=u.next()){var c=[];(l=l.value).audio&&c.push(l.audio),l.video&&c.push(l.video);for(var f=(c=d(c)).next();!f.done;f=c.next())if((f=f.value).keyId){var h=n[r?"00":f.keyId];h?js.includes(h)&&(s.includes(h)||s.push(h)):o.includes(f.keyId)||o.push(f.keyId)}l.allowedByApplication?l.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new he(2,4,4012,{hasAppRestrictions:a,missingKeys:o,restrictedKeyStatuses:s})}function cu(e,t){h((function n(){return M(n,(function(n){switch(n.j){case 1:return T(n,Promise.resolve(),2);case 2:e.h!=yu&&e.dispatchEvent(t),S(n)}}))}))}function du(e){for(var t=new Set,n=(e=d(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(On(n.language)):t.add("und");return t}function fu(e){for(var t=new Map,n=(e=d(e)).next();!n.done;n=e.next()){var r=n.value;n="und";var i=[];for(r.language&&(n=On(r.language)),(i="variant"==r.type?r.audioRoles:r.roles)&&i.length||(i=[""]),t.has(n)||t.set(n,new Set),i=(r=d(i)).next();!i.done;i=r.next())i=i.value,t.get(n).add(i)}var a=[];return t.forEach((function(e,t){for(var n=d(e),r=n.next();!r.done;r=n.next())a.push({language:t,role:r.value})})),a}function hu(e){for(var t=e.s.h(),n=null,r=(e=d(e.b.periods)).next();!r.done;r=e.next())(r=r.value).startTime<=t&&(n=r);return n}function pu(e){var t=hu(e);return va(e.$,t).variant}function mu(){return new he(2,7,7e3)}function gu(e,t,n,r,i,a){return r==e&&i.u==a.u&&i.uri==a.uri&&i.mimeType==a.mimeType&&i.za==a.za?t:n}function vu(e){return new Promise((function(t,n){e.Ya=function(){return n(mu())},e.lc=function(){return t()},e.onError=function(e){return n(e)},e.nc=function(){return n(mu())}}))}Ds.registerSupportPlugin=function(e,t){Us[e]=t},Ds.isBrowserSupported=function(){return!!(e.Promise&&e.Uint8Array&&Array.prototype.forEach&&e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)&&(!!Qe()||Ze("application/x-mpegurl"))},Ds.probeSupport=function(){return kt().then((function(e){for(var t=bi.Df(),n={},r=d('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),i=r.next();!i.done;i=r.next()){n[i=i.value]=Qe()?!!dn(i)||(MediaSource.isTypeSupported(i)||Vt(i)):Ze(i);var a=i.split(";")[0];n[a]=n[a]||n[i]}for(var o in e={manifest:t,media:n,drm:e},Us)e[o]=Us[o]();return e}))},Ds.prototype.Fb=function(e,t){if(t=void 0===t||t,this.h==yu)return Promise.reject(mu());var n={za:null,u:null,mimeType:null,startTime:null,ud:null,uri:null};n.u=e,Qe()||(t=!1);var r=t?this.hb:this.R,i=_s(this.lb,(function(){return{node:r,payload:n,Va:!1}}));return i.vb=function(){},vu(i)},Ds.prototype.attach=Ds.prototype.Fb,Ds.prototype.detach=function(){var e=this;if(this.h==yu)return Promise.reject(mu());var t=_s(this.lb,(function(){return{node:e.D,payload:{za:null,u:null,mimeType:null,startTime:null,ud:null,uri:null},Va:!1}}));return t.vb=function(){},vu(t)},Ds.prototype.detach=Ds.prototype.detach,Ds.prototype.xd=function(e){var t=this;if(e=void 0===e||e,this.h==yu)return Promise.reject(mu());Qe()||(e=!1);var n={za:null,u:null,mimeType:null,startTime:null,ud:null,uri:null},r=_s(this.lb,(function(r){var i=r.u&&e?t.hb:r.u?t.R:t.D;return n.u=r.u,{node:i,payload:n,Va:!1}}));return r.vb=function(){},vu(r)},Ds.prototype.unload=Ds.prototype.xd,Ds.prototype.load=function(e,t,n){if(this.h==yu)return Promise.reject(mu());this.dispatchEvent(new Te("loading"));var r={za:null,u:null,mimeType:null,startTime:null,ud:null,uri:null};r.uri=e,r.ud=Date.now()/1e3,n&&"string"!=typeof n&&($n("Loading with a manifest parser factory","Please register a manifest parser and for the mime-type."),r.za=function(){return new n}),n&&"string"==typeof n&&(r.mimeType=n),void 0!==t&&(r.startTime=t);var i=function(e,t){if(t.za)return!1;if(!Qe())return!0;var n=t.mimeType,r=t.uri||"";return n||(n={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",ts:"video/mp2t",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac"}[bi.getExtension(r)]),!!n&&(!!Ze(n)&&(!bi.isSupported(r,n)||!!navigator.vendor&&navigator.vendor.includes("Apple")&&e.c.streaming.useNativeHlsOnSafari))}(this,r)?this.jb:this.T,a=_s(this.lb,(function(e){return null==e.u?null:(r.u=e.u,{node:i,payload:r,Va:!0})}));return a.vb=function(){},new Promise((function(e,t){a.nc=function(){return t(new he(2,7,7002))},a.lc=function(){return e()},a.Ya=function(){return t(mu())},a.onError=function(e){return t(e)}}))},Ds.prototype.load=Ds.prototype.load,Ds.prototype.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=xs(e,t));var n=Os(this.c,e,Ws(this));return Gs(this),n},Ds.prototype.configure=Ds.prototype.configure,Ds.prototype.getConfiguration=function(){var e=Ws(this);return Os(e,this.c,Ws(this)),e},Ds.prototype.getConfiguration=Ds.prototype.getConfiguration,Ds.prototype.Lf=function(){for(var e in this.c)delete this.c[e];Os(this.c,Ws(this),Ws(this)),Gs(this)},Ds.prototype.resetConfiguration=Ds.prototype.Lf,Ds.prototype.Le=function(){return this.h},Ds.prototype.getLoadMode=Ds.prototype.Le,Ds.prototype.Qe=function(){return this.a},Ds.prototype.getMediaElement=Ds.prototype.Qe,Ds.prototype.Jb=function(){return this.L},Ds.prototype.getNetworkingEngine=Ds.prototype.Jb,Ds.prototype.ec=function(){return this.Eb},Ds.prototype.getAssetUri=Ds.prototype.ec,Ds.prototype.Oe=function(){return $n("getManifestUri",'Please use "getAssetUri" instead.'),this.ec()},Ds.prototype.getManifestUri=Ds.prototype.Oe,Ds.prototype.V=function(){return this.b?this.b.presentationTimeline.V():!(!this.a||!this.a.src)&&1/0==this.a.duration},Ds.prototype.isLive=Ds.prototype.V,Ds.prototype.Xa=function(){return!!this.b&&this.b.presentationTimeline.Xa()},Ds.prototype.isInProgress=Ds.prototype.Xa,Ds.prototype.df=function(){if(this.b){if(!this.b.periods.length)return!1;var e=this.b.periods[0].variants;return!!e.length&&!e[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},Ds.prototype.isAudioOnly=Ds.prototype.df,Ds.prototype.Nf=function(){if(this.b){var e=this.b.presentationTimeline;return{start:e.ob(),end:e.Ba()}}return this.a&&this.a.src&&(e=this.a.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},Ds.prototype.seekRange=Ds.prototype.Nf,Ds.prototype.keySystem=function(){return vt(this.drmInfo())},Ds.prototype.keySystem=Ds.prototype.keySystem,Ds.prototype.drmInfo=function(){return this.i?this.i.a:null},Ds.prototype.drmInfo=Ds.prototype.drmInfo,Ds.prototype.Ib=function(){return this.i?this.i.Ib():1/0},Ds.prototype.getExpiration=Ds.prototype.Ib,Ds.prototype.Tc=function(){return!!this.B&&this.B.a==Ca},Ds.prototype.isBuffering=Ds.prototype.Tc,Ds.prototype.Te=function(){if(this.W){var e=this.W;e=e.f?0:e.c}else e=0;return e},Ds.prototype.getPlaybackRate=Ds.prototype.Te,Ds.prototype.eg=function(e){0==e?K("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.W.set(e),this.h==_u&&lo(this.f,1<Math.abs(e)))},Ds.prototype.trickPlay=Ds.prototype.eg,Ds.prototype.we=function(){this.h==wu&&this.W.set(1),this.h==_u&&(this.W.set(1),lo(this.f,!1))},Ds.prototype.cancelTrickPlay=Ds.prototype.we,Ds.prototype.Sc=function(){if(this.b&&this.s){for(var e=pu(this),t=[],n=d(function(e){return null==(e=hu(e))?[]:e.variants.filter((function(e){return Gn(e)}))}(this)),r=n.next();!r.done;r=n.next()){var i=jn(r=r.value);i.active=r==e,t.push(i)}return t}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(e){var t=Hn(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind?(t.primary=!0,t.roles=["main"],t.audioRoles=["main"]):t.audioRoles=[],t})):[]},Ds.prototype.getVariantTracks=Ds.prototype.Sc,Ds.prototype.qb=function(){if(this.b&&this.s){for(var e=function(e){var t=hu(e);if(null==t)return null;if(!va(e.$,t).text){var n=zn(t.textStreams,e.na,e.fb);n.length&&ga(e.$,t,n[0])}return va(e.$,t).text}(this),t=[],n=d(function(e){var t=hu(e);return null==t?[]:t.textStreams.filter((function(t){return!e.Zb.has(t)}))}(this)),r=n.next();!r.done;r=n.next()){var i=Un(r=r.value);i.active=r==e,t.push(i)}return t}return this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).map((function(e){var t=Hn(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),t})):[]},Ds.prototype.getTextTracks=Ds.prototype.qb,Ds.prototype.od=function(e){if(this.b&&this.f){var t=hu(this),n=t.textStreams.find((function(t){return t.id==e.id}));n&&(zs(this,t,n,!1),Xs(this,n),this.na=n.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(n=(t=d(t=Array.from(this.a.textTracks))).next();!n.done;n=t.next())Bn(n=n.value)==e.id?n.mode=this.gb?"showing":"hidden":n.mode="disabled";nu(this)}},Ds.prototype.selectTextTrack=Ds.prototype.od,Ds.prototype.Pf=function(){$n("selectEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. Please use SelectTextTrack.");var e=this.qb().filter((function(e){return"application/cea-608"==e.mimeType}));0<e.length&&this.od(e[0])},Ds.prototype.selectEmbeddedTextTrack=Ds.prototype.Pf,Ds.prototype.jg=function(){$n("usingEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. There should be no reason to know if the player is playing embedded text.");var e=this.qb().filter((function(e){return e.active}))[0];return!!e&&"application/cea-608"==e.mimeType},Ds.prototype.usingEmbeddedTextTrack=Ds.prototype.jg,Ds.prototype.Rf=function(e,t,n){if(n=void 0===n?0:n,this.b&&this.f){var r=hu(this);this.c.abr.enabled&&K("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=r.variants.find((function(t){return t.id==e.id}));i&&Gn(i)&&(Vs(this,r,i,!1),Ks(this,i,t,n),this.Xb=new Sa(i),Js(this,r.variants))}else if(this.a&&this.a.audioTracks){for(n=(t=d(t=Array.from(this.a.audioTracks))).next();!n.done;n=t.next())Bn(n=n.value)==e.id&&(n.enabled=!0);tu(this)}},Ds.prototype.selectVariantTrack=Ds.prototype.Rf,Ds.prototype.Ge=function(){return fu(this.Sc())},Ds.prototype.getAudioLanguagesAndRoles=Ds.prototype.Ge,Ds.prototype.$e=function(){return fu(this.qb())},Ds.prototype.getTextLanguagesAndRoles=Ds.prototype.$e,Ds.prototype.Fe=function(){return Array.from(du(this.Sc()))},Ds.prototype.getAudioLanguages=Ds.prototype.Fe,Ds.prototype.Ze=function(){return Array.from(du(this.qb()))},Ds.prototype.getTextLanguages=Ds.prototype.Ze,Ds.prototype.Of=function(e,t){if(this.b&&this.s){var n=hu(this);this.Xb=new Ea(e,t||"",0),Qs(this,n)}else if(this.a&&this.a.audioTracks){for(var r=(n=d(n=Array.from(this.a.audioTracks))).next();!r.done;r=n.next())(r=r.value).language==e&&(r.enabled=!0);tu(this)}},Ds.prototype.selectAudioLanguage=Ds.prototype.Of,Ds.prototype.Qf=function(e,t){if(this.b&&this.s){var n=hu(this);this.na=e,this.fb=t||"";var r=zn(n.textStreams,this.na,this.fb)[0]||null;r&&(zs(this,n,r,!1),(this.c.streaming.alwaysStreamText||this.ic())&&Xs(this,r))}else(n=this.qb().filter((function(t){return t.language==e}))[0])&&this.od(n)},Ds.prototype.selectTextLanguage=Ds.prototype.Qf,Ds.prototype.ic=function(){var e=this.gb;return this.b?this.F.g.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).some((function(e){return"showing"==e.mode})):e},Ds.prototype.isTextTrackVisible=Ds.prototype.ic,Ds.prototype.Uf=function(e){var t=this;return h((function n(){var r,i,a,o;return M(n,(function(n){switch(n.j){case 1:if(t.gb==(r=e))return n.return();if(t.gb=r,t.h!=_u){if(t.a&&t.a.src&&t.a.textTracks)for(var s=d(Array.from(t.a.textTracks)),u=s.next();!u.done;u=s.next())"disabled"!=(i=u.value).mode&&(i.mode=e?"showing":"hidden");n.A(2);break}if(t.F.g.setTextVisibility(e),t.c.streaming.alwaysStreamText){n.A(2);break}if(!e){(s=t.f).D=!0,(u=s.b.get("text"))&&(Oo(u),s.b.delete("text")),n.A(2);break}if(a=hu(t),!(0<(o=zn(a.textStreams,t.na,t.fb)).length)){n.A(2);break}return T(n,uo(t.f,o[0]),2);case 2:ru(t),S(n)}}))}))},Ds.prototype.setTextTrackVisibility=Ds.prototype.Uf,Ds.prototype.Ve=function(){if(!this.V())return null;if(this.b)return new Date(1e3*(this.b.presentationTimeline.f+this.a.currentTime));if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:new Date(e.getTime()+1e3*this.a.currentTime)}return null},Ds.prototype.getPlayheadTimeAsDate=Ds.prototype.Ve,Ds.prototype.Xe=function(){if(!this.V())return null;if(this.b)return new Date(1e3*this.b.presentationTimeline.f);if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:e}return null},Ds.prototype.getPresentationStartTimeAsDate=Ds.prototype.Xe,Ds.prototype.Oc=function(){var e={total:[],audio:[],video:[],text:[]};return this.h==wu&&(e.total=jt(this.a.buffered)),this.h==_u&&this.F.Oc(e),e},Ds.prototype.getBufferedInfo=Ds.prototype.Oc,Ds.prototype.getStats=function(){if(this.h!=_u&&this.h!=wu)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]};$s(this);var e=this.a;if(e.getVideoPlaybackQuality){e=e.getVideoPlaybackQuality();var t=this.v,n=Number(e.totalVideoFrames);t.i=Number(e.droppedVideoFrames),t.h=n}this.h==_u&&((e=pu(this))&&(this.v.l=e.bandwidth),e&&e.video&&(t=this.v,n=e.video.height||NaN,t.m=e.video.width||NaN,t.g=n),e=this.l.getBandwidthEstimate(),this.v.f=e);var r=this.v;e=r.m,t=r.g,n=r.l;for(var i=r.h,a=r.i,o=r.f,s=r.b,u=Is(r.a,"playing"),l=Is(r.a,"paused"),c=Is(r.a,"buffering"),f=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=d(e.b),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.a&&n.push(t(e.a)),n}(r.a),h=[],p=(r=d(r.c.a)).next();!p.done;p=r.next())p=p.value,h.push({timestamp:p.timestamp,id:p.id,type:p.type,fromAdaptation:p.fromAdaptation,bandwidth:p.bandwidth});return{width:e,height:t,streamBandwidth:n,decodedFrames:i,droppedFrames:a,estimatedBandwidth:o,loadLatency:s,playTime:u,pauseTime:l,bufferingTime:c,stateHistory:f,switchHistory:h}},Ds.prototype.getStats=Ds.prototype.getStats,Ds.prototype.addTextTrack=function(e,t,n,r,i,a){var o=this;return h((function s(){var u,l,c,d,f,h,p,m,g;return M(s,(function(s){switch(s.j){case 1:if(o.h==wu)throw Error("State error!");if(o.h!=_u)throw Error("State error!");if(u=hu(o),l=Ht,c=o.b.periods.indexOf(u),f=(d=c+1)>=o.b.periods.length?o.b.presentationTimeline.Y():o.b.periods[d].startTime,1/0==(h=f-u.startTime))throw new he(1,4,4033);return p=new ti(1,0,h,(function(){return[e]}),0,null),m={id:o.Kd++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(e){return 1==e?p:null},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:t,label:a||null,type:l.qa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},o.Zb.add(m),u.textStreams.push(m),T(s,uo(o.f,m),2);case 2:return(g=so(o.f,"text"))&&ga(o.$,u,g),o.Zb.delete(m),Qs(o,u),eu(o),s.return(Un(m))}}))}))},Ds.prototype.addTextTrack=Ds.prototype.addTextTrack,Ds.prototype.qd=function(e,t){this.$b.width=e,this.$b.height=t},Ds.prototype.setMaxHardwareResolution=Ds.prototype.qd,Ds.prototype.nd=function(){if(this.h==_u){var e=this.f;if(e.f)e=!1;else if(e.m)e=!1;else{for(var t=d(e.b.values()),n=t.next();!n.done;n=t.next())(n=n.value).Mb&&(n.Mb=!1,Ao(e,n,.1));e=!0}}else e=!1;return e},Ds.prototype.retryStreaming=Ds.prototype.nd,Ds.prototype.Me=function(){return this.b},Ds.prototype.getManifest=Ds.prototype.Me,Ds.prototype.Ne=function(){return this.m?this.m.constructor:null},Ds.prototype.getManifestParserFactory=Ds.prototype.Ne,(n=Ds.prototype).Jc=function(e){var t=this.f?ao(this.f):null,n=this.f?oo(this.f):null;if(Dn(this.i,t,n,e),!(t=e.variants).some(Gn))throw new he(2,4,4011);if(lu(this,e.variants),Mn(t,this.c.restrictions,this.$b)&&this.f&&hu(this)==e&&eu(this),e=this.i?this.i.a:null)for(n=(t=d(t)).next();!n.done;n=t.next())for(var r=(n=d(n.value.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==e.keySystem)for(var i=(r=d(r.initData||[])).next();!i.done;i=r.next())i=i.value,gt(this.i,i.initDataType,i.initData)},n.gf=function(e){try{this.kb=!0,this.l.disable(),iu(this);var t=Js(this,e.variants),n=zn(e.textStreams,this.na,this.fb)[0]||null;this.Ga&&(e.variants.includes(this.Ga)&&(t=this.Ga),this.Ga=null),this.oa&&(e.textStreams.includes(this.oa)&&(n=this.oa),this.oa=null),t&&Vs(this,e,t,!0),n&&zs(this,e,n,!0);var r=this.f,i=r.b.get("video");if(i)var a=r.c.periods[i.ia];else{var o=r.b.get("audio");a=o?r.c.periods[o.ia]:null}var s=t?t.audio:null;if(!a&&n){var u;if(u=s){e=n;var l=On(this.c.preferredTextLanguage),c=On(s.language),d=On(e.language);u=Cn(d,l)&&!Cn(c,d)}u&&(this.gb=!0),this.gb&&this.F.g.setTextVisibility(!0),ru(this)}return this.c.streaming.alwaysStreamText||this.ic()?{variant:t,text:n}:{variant:t,text:null}}catch(f){return this.Ma(f),{variant:null,text:null}}},n.ve=function(){this.kb=!1,this.c.abr.enabled&&(this.l.enable(),iu(this)),this.Ga&&(co(this.f,this.Ga,this.Hd,this.Fd),tu(this),this.Ga=null),this.oa&&(fo(this.f,this.oa,!0,0,!1),nu(this),this.oa=null)},n.mf=function(){this.m&&this.m.update&&this.m.update()},n.tf=function(){this.s&&this.s.s()},n.Ma=function(e){if(this.h!=yu){var t=new Te("error",{detail:e});this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)}};var yu=0,bu=1,_u=2,wu=3;function Tu(e,t){var n=fs(new ds(e.ua(),e.aa()),t.periods[0],new _i(null,0)),r=t.appMetadata||{};return n=Su(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r}}function Su(e){for(var t=[],n=function(e){return e.filter((function(e){return Gn(e)}))}(e.variants),r=(n=d(n)).next();!r.done;r=n.next())t.push(jn(r.value));for(n=(e=d(e.textStreams)).next();!n.done;n=e.next())t.push(Un(n.value));return t}function Eu(){this.a={}}function ku(e,t){var n=e.a[t];return null==n&&(n=0),n}function xu(e){this.a=!1,this.b=new pe,this.c=e}function Cu(e){var t=new Ou;e.periods.forEach((function(e,n){var r=Pu(e.variants);if(0==n)for(var i=(r=d(r.a)).next();!i.done;i=r.next())t.add(i.value);else!function(e,t){e.a=e.a.filter((function(e){return Ru(t,e)}))}(t,r)}));for(var n=(e=d(e.periods)).next();!n.done;n=e.next())(n=n.value).variants=n.variants.filter((function(e){return Ru(t,new Au(e))}))}function Au(e){var t=e.audio;e=e.video,this.b=t?t.mimeType:null,this.a=t?t.codecs.split(".")[0]:null,this.f=e?e.mimeType:null,this.c=e?e.codecs.split(".")[0]:null}function Ou(){this.a=[]}function Ru(e,t){return e.a.some((function(e){return t.b==e.b&&t.a==e.a&&t.f==e.f&&t.c==e.c}))}function Pu(e){for(var t=new Ou,n=(e=d(e)).next();!n.done;n=e.next())t.add(new Au(n.value));return t}function Iu(e){var t=this;if(e&&e.constructor!=Ds)throw new he(2,9,9008);this.b=this.a=null,e?(this.a=e.c,this.b=e.Jb()):(this.a=As(),this.b=new Pe),this.f=!1,this.c=[],this.g=[];var n=!e;this.h=new xu((function(){return h((function e(){var r;return M(e,(function(e){switch(e.j){case 1:return r=function(){},T(e,Promise.all(t.g.map((function(e){return e.then(r,r)}))),2);case 2:if(!n){e.A(3);break}return T(e,t.b.destroy(),3);case 3:t.a=null,t.b=null,S(e)}}))}))}))}function Lu(){if(Qe())e:{for(var e=d(Ko.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function Mu(e,t){for(var n=[],r=d(e.periods),i=r.next();!i.done;i=r.next())for(var a=(i=d(i.value.streams)).next();!a.done;a=i.next())a=a.value,t&&"video"==a.contentType?n.push({contentType:Ye(a.mimeType,a.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=a.contentType||n.push({contentType:Ye(a.mimeType,a.codecs),robustness:e.drmInfo.audioRobustness});return n}function Du(e,t,n){return h((function r(){return M(r,(function(r){switch(r.j){case 1:return T(r,function(e,t,n,r){return h((function i(){var a,o,s;return M(i,(function(i){switch(i.j){case 1:return r.drmInfo?(a=function(e){var t=Array.from(e.a.keys());if(!t.length)throw new he(2,9,9e3,"No supported storage mechanisms found");return e.a.get(t[0]).getEmeSessionCell()}(n),o=r.sessionIds.map((function(e){return{sessionId:e,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:Mu(r,!1),videoCapabilities:Mu(r,!0)}})),T(i,vs(t,e,o),2)):i.return();case 2:return s=i.o,T(i,a.remove(s),3);case 3:return T(i,a.add(o.filter((function(e){return-1==s.indexOf(e.sessionId)}))),0)}}))}))}(e.b,e.a.drm,n,t),0)}}))}))}function Nu(e,t,n,r){function i(){s+=1,e.a.offline.progressCallback(u,s/o)}var a=function(e){var t=[];return e.periods.forEach((function(e){e.streams.forEach((function(e){null!=e.initSegmentKey&&t.push(e.initSegmentKey),e.segments.forEach((function(e){t.push(e.dataKey)}))}))})),t}(r),o=a.length+1,s=0,u=Tu(n,r);return Promise.all([t.removeSegments(a,i),t.removeManifests([n.key()],i)])}function ju(e,t,n,r,i,a){var o={id:a.id,originalId:a.originalId,primary:a.primary,presentationTimeOffset:a.presentationTimeOffset||0,contentType:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,initSegmentKey:null,encrypted:a.encrypted,keyId:a.keyId,segments:[],variantIds:[]};i=i.presentationTimeline.Lb();var s=a.id,u=a.initSegmentReference;return u&&(u=wi(u.c(),u.b,u.a,e.a.streaming.retryParameters),No(t,s,u,.5*ku(r,a.id),!0,(function(t){return h((function r(){var i;return M(r,(function(r){switch(r.j){case 1:return T(r,n.addSegments([{data:t}]),2);case 2:i=r.o,e.c.push(i[0]),o.initSegmentKey=i[0],S(r)}}))}))}))),function(e,t,n){for(var r=null==(t=e.findSegmentPosition(t))?null:e.getSegmentReference(t);r;)n(r),r=e.getSegmentReference(++t)}(a,i,(function(i){var u=wi(i.c(),i.b,i.a,e.a.streaming.retryParameters);No(t,s,u,function(e,t,n){return n=n.endTime-n.startTime,ku(e,t)*n}(r,a.id,i),!1,(function(t){return h((function r(){var a;return M(r,(function(r){switch(r.j){case 1:return T(r,n.addSegments([{data:t}]),2);case 2:a=r.o,e.c.push(a[0]),o.segments.push({startTime:i.startTime,endTime:i.endTime,dataKey:a[0]}),S(r)}}))}))}))})),o}function Uu(e){if(e.h.a)throw new he(2,9,7001)}function Bu(){if(!Lu())throw new he(2,9,9e3)}function Fu(e,t){return h((function n(){return M(n,(function(n){switch(n.j){case 1:return e.g.push(t),k(n,2),T(n,t,4);case 4:return n.return(n.o);case 2:A(n),Ce(e.g,t),O(n,0)}}))}))}function Hu(e){for(var t=new Set,n=(e=d(e.periods)).next();!n.done;n=e.next()){for(var r=d((n=n.value).textStreams),i=r.next();!i.done;i=r.next())t.add(i.value);for(r=(n=d(n.variants)).next();!r.done;r=n.next())(r=r.value).audio&&t.add(r.audio),r.video&&t.add(r.video)}return t}function Gu(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var n=d(t),r=n.next();!r.done;r=n.next())for(var i=(r=d(t)).next();!i.done;i=r.next());for(n=(t=d(e)).next();!n.done;n=t.next())for(r=(n=d(e)).next();!r.done;r=n.next());}Ds.LoadMode={DESTROYED:yu,NOT_LOADED:bu,MEDIA_SOURCE:_u,SRC_EQUALS:wu},xu.prototype.destroy=function(){var e=this;return this.a?this.b:(this.a=!0,this.c().then((function(){e.b.resolve()}),(function(){e.b.resolve()})))},Ou.prototype.add=function(e){Ru(this,e)||this.a.push(e)},F("shaka.offline.Storage",Iu),Iu.support=Lu,Iu.prototype.destroy=function(){return this.h.destroy()},Iu.prototype.destroy=Iu.prototype.destroy,Iu.prototype.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=xs(e,t));var n=e,r=!1;return null!=n.trackSelectionCallback&&(r=!0,n.offline=n.offline||{},n.offline.trackSelectionCallback=n.trackSelectionCallback,delete n.trackSelectionCallback),null!=n.progressCallback&&(r=!0,n.offline=n.offline||{},n.offline.progressCallback=n.progressCallback,delete n.progressCallback),null!=n.usePersistentLicense&&(r=!0,n.offline=n.offline||{},n.offline.usePersistentLicense=n.usePersistentLicense,delete n.usePersistentLicense),r&&$n("Storage.configure with OfflineConfig","Please configure storage with a player configuration."),Os(this.a,e)},Iu.prototype.configure=Iu.prototype.configure,Iu.prototype.getConfiguration=function(){var e=As();return Os(e,this.a,As()),e},Iu.prototype.getConfiguration=Iu.prototype.getConfiguration,Iu.prototype.Jb=function(){return this.b},Iu.prototype.getNetworkingEngine=Iu.prototype.Jb,Iu.prototype.store=function(e,t,n){var r=this;return Fu(this,function(e,t,n,r){return h((function i(){var a,o,s,u,l,c,f,p,m;return M(i,(function(i){switch(i.j){case 1:return Bu(),e.f?i.return(Promise.reject(new he(2,9,9006))):(e.f=!0,T(i,function(e,t,n){return h((function r(){var i,a,o,s,u,l;return M(r,(function(r){switch(r.j){case 1:return i=null,a=e.b,o={networkingEngine:a,filterAllPeriods:function(){},filterNewPeriod:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){i=e}},T(r,n(),2);case 2:return(s=r.o).configure(e.a.manifest),Uu(e),k(r,3),T(r,s.start(t,o),5);case 5:return u=r.o,Uu(e),l=Hu(u),T(r,Promise.all(Array.from(l).map((function(e){return e.createSegmentIndex()}))),6);case 6:if(Uu(e),i)throw i;return r.return(u);case 3:return A(r),T(r,s.stop(),7);case 7:O(r,0)}}))}))}(e,t,r),2));case 2:if(a=i.o,Uu(e),!(!a.presentationTimeline.V()&&!a.presentationTimeline.Xa()))throw new he(2,9,9005,t);return o=null,s=new zo,l=u=null,E(i,3,4),T(i,function(e,t,n){return h((function r(){var i,a,o;return M(r,(function(r){switch(r.j){case 1:return i=new dt({tb:e.b,onError:n,mc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),a=Na(t.periods),o=e.a,i.configure(o.drm),T(r,function(e,t,n){return e.s=[],e.D=n,ht(e,t)}(i,a,o.offline.usePersistentLicense),2);case 2:return T(r,pt(i),3);case 3:return T(r,mt(i),4);case 4:return r.return(i)}}))}))}(e,a,(function(e){l=l||e})),6);case 6:if(o=i.o,Uu(e),l)throw l;return function(e,t,n){(function(e,t){for(var n={width:1/0,height:1/0},r=d(e.periods),i=r.next();!i.done;i=r.next())(i=i.value).variants=i.variants.filter((function(e){return Ln(e,t,n)}))})(t,e.a.restrictions),function(e){for(var t=(e=d(e.periods)).next();!t.done;t=e.next())(t=t.value).variants=t.variants.filter((function(e){var t=!0;return e.audio&&(t=t&&gn(e.audio)),e.video&&(t=t&&gn(e.video)),t}))}(t),function(e,t){for(var n=d(e.periods),r=n.next();!r.done;r=n.next())(r=r.value).variants=r.variants.filter((function(e){return xt(t,e)}))}(t,n),Cu(t),function(e,t){var n=new Ou;e.periods.forEach((function(e,r){0<r&&(e.variants=e.variants.filter((function(e){return Ru(n,new Au(e))}))),t(e),n=Pu(e.variants)}))}(t,(function(t){for(var n=[],r=d(t.variants),i=r.next();!i.done;i=r.next())n.push(jn(i.value));for(i=(r=d(t.textStreams)).next();!i.done;i=r.next())n.push(Un(i.value));n=e.a.offline.trackSelectionCallback(n);var a=new Set,o=new Set;for(r=(n=d(n)).next();!r.done;r=n.next())"variant"==(r=r.value).type&&a.add(r.id),"text"==r.type&&o.add(r.id);t.variants=t.variants.filter((function(e){return a.has(e.id)})),t.textStreams=t.textStreams.filter((function(e){return o.has(e.id)}))})),function(e){if(0==e.periods.length)throw new he(2,4,4014);for(var t=(e=d(e.periods)).next();!t.done;t=e.next())Gu(t.value)}(t)}(e,a,o),T(i,s.init(),7);case 7:return Uu(e),T(i,function(e){var t=null;if(e.a.forEach((function(e,n){e.getCells().forEach((function(e,r){e.hasFixedKeySpace()||t||(t={path:{ua:n,aa:r},aa:e})}))})),t)return t;throw new he(2,9,9013,"Could not find a cell that supports add-operations")}(s),8);case 8:return u=i.o,Uu(e),T(i,function(e,t,n,r,i,a){return h((function o(){var s,u,l,c,f,p,m,g;return M(o,(function(o){switch(o.j){case 1:return s=function(e,t,n){var r=void 0==t.expiration?1/0:t.expiration;return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.Y(),size:0,expiration:r,tracks:t=Su(t.periods[0]),appMetadata:n}}(i,r,a),u=r.periods.some((function(e){return e.variants.some((function(e){return e.drmInfos&&e.drmInfos.length}))})),l=r.periods.some((function(e){return e.variants.some((function(e){return e.drmInfos.some((function(e){return e.initData&&e.initData.length}))}))})),c=u&&!l,f=new Do(e.b,(function(t,n){s.size=n,e.a.offline.progressCallback(s,t)}),(function(t){c&&e.a.offline.usePersistentLicense&&gt(n,"cenc",t)})),k(o,2),m=p=function(e,t,n,r,i,a,o){var s=new Eu,u=i.periods.map((function(r){return function(e,t,n,r,i,a){i.periods.forEach((function(e){e.variants.forEach((function(e){var t=e.audio,n=e.video;if(t&&!n&&(r.a[t.id]=t.bandwidth||e.bandwidth),!t&&n&&(r.a[n.id]=n.bandwidth||e.bandwidth),t&&n){var i=t.bandwidth||393216,a=n.bandwidth||e.bandwidth-i;0>=a&&(a=e.bandwidth),r.a[t.id]=i,r.a[n.id]=a}})),e.textStreams.forEach((function(e){r.a[e.id]=52}))}));for(var o=Hu(i),s=new Map,u=(o=d(o)).next();!u.done;u=o.next()){u=u.value;var l=ju(e,t,n,r,i,u);s.set(u.id,l)}return a.variants.forEach((function(e){e.audio&&s.get(e.audio.id).variantIds.push(e.id),e.video&&s.get(e.video.id).variantIds.push(e.id)})),{startTime:a.startTime,streams:Array.from(s.values())}}(e,t,n,s,i,r)})),l=r.a,c=e.a.offline.usePersistentLicense;return l&&c&&(l.initData=[]),{originalManifestUri:a,duration:i.presentationTimeline.Y(),size:0,expiration:r.Ib(),periods:u,sessionIds:c?bt(r):[],drmInfo:l,appMetadata:o}}(e,f,t,n,r,i,a),T(o,function(e){return h((function t(){return M(t,(function(t){switch(t.j){case 1:return T(t,Promise.all(e.b.values()),2);case 2:return t.return(e.a.a)}}))}))}(f),4);case 4:if(m.size=o.o,p.expiration=n.Ib(),g=bt(n),p.sessionIds=e.a.offline.usePersistentLicense?g:[],u&&e.a.offline.usePersistentLicense&&!g.length)throw new he(2,9,9007);return o.return(p);case 2:return A(o),T(o,f.destroy(),5);case 5:O(o,0)}}))}))}(e,u.aa,o,a,t,n),9);case 9:if(c=i.o,Uu(e),l)throw l;return T(i,u.aa.addManifests([c]),10);case 10:return f=i.o,Uu(e),p=new ls("manifest",u.path.ua,u.path.aa,f[0]),i.return(Tu(p,c));case 4:return A(i),e.f=!1,e.c=[],T(i,s.destroy(),11);case 11:if(!o){i.A(12);break}return T(i,o.destroy(),12);case 12:O(i,0);break;case 3:if(m=C(i),!u){i.A(14);break}return T(i,u.aa.removeSegments(e.c,(function(){})),14);case 14:throw l||m}}))}))}(this,e,t||{},(function(){return h((function t(){var i,a;return M(t,(function(t){switch(t.j){case 1:return n&&"string"!=typeof n?($n("Storing with a manifest parser factory","Please register a manifest parser and for the mime-type."),i=n,t.return(new i)):T(t,bi.create(e,r.b,r.a.manifest.retryParameters,n),2);case 2:return a=t.o,t.return(a)}}))}))})))},Iu.prototype.store=Iu.prototype.store,Iu.prototype.Ye=function(){return this.f},Iu.prototype.getStoreInProgress=Iu.prototype.Ye,Iu.prototype.remove=function(e){return Fu(this,function(e,t){return h((function n(){var r,i,a,o,s,u;return M(n,(function(n){switch(n.j){case 1:return Bu(),null==(r=cs(t))||"manifest"!=r.a?n.return(Promise.reject(new he(2,9,9004,t))):(i=r,a=new zo,k(n,2),T(n,a.init(),4));case 4:return T(n,Wo(a,i.ua(),i.aa()),5);case 5:return T(n,(o=n.o).getManifests([i.key()]),6);case 6:return s=n.o,u=s[0],T(n,Promise.all([Du(e,u,a),Nu(e,o,i,u)]),2);case 2:return A(n),T(n,a.destroy(),8);case 8:O(n,0)}}))}))}(this,e))},Iu.prototype.remove=Iu.prototype.remove,Iu.prototype.If=function(){return Fu(this,(e=this,h((function t(){var n,r,i,a,o,s,u,l,c;return M(t,(function(t){switch(t.j){case 1:return Bu(),n=e.b,r=e.a.drm,i=new zo,a=!1,k(t,2),T(t,i.init(),4);case 4:for(o=[],function(e,t){e.a.forEach((function(e){t(e.getEmeSessionCell())}))}(i,(function(e){return o.push(e)})),s=Promise.resolve(),u={},l=d(o),c=l.next();!c.done;u={sc:u.sc},c=l.next())u.sc=c.value,s=s.then(function(e){return function(){return h((function t(){var i,o;return M(t,(function(t){switch(t.j){case 1:return T(t,e.sc.getAll(),2);case 2:return i=t.o,T(t,vs(r,n,i),3);case 3:return o=t.o,T(t,e.sc.remove(o),4);case 4:o.length!=i.length&&(a=!0),S(t)}}))}))}}(u));return T(t,s,2);case 2:return A(t),T(t,i.destroy(),6);case 6:O(t,3);break;case 3:return t.return(!a)}}))}))));var e},Iu.prototype.removeEmeSessions=Iu.prototype.If,Iu.prototype.list=function(){return Fu(this,h((function e(){var t,n,r;return M(e,(function(e){switch(e.j){case 1:return Bu(),t=[],n=new zo,k(e,2),T(e,n.init(),4);case 4:return r=Promise.resolve(),function(e,t){e.a.forEach((function(e,n){e.getCells().forEach((function(e,r){t({ua:n,aa:r},e)}))}))}(n,(function(e,n){r=r.then((function(){return h((function r(){return M(r,(function(r){switch(r.j){case 1:return T(r,n.getAllManifests(),2);case 2:r.o.forEach((function(n,r){var i=Tu(new ls("manifest",e.ua,e.aa,r),n);t.push(i)})),S(r)}}))}))}))})),T(e,r,2);case 2:return A(e),T(e,n.destroy(),6);case 6:O(e,3);break;case 3:return e.return(t)}}))})))},Iu.prototype.list=Iu.prototype.list,Iu.deleteAll=function(){return h((function e(){var t;return M(e,(function(e){switch(e.j){case 1:return t=new zo,k(e,2),T(e,t.erase(),2);case 2:return A(e),T(e,t.destroy(),5);case 5:O(e,0)}}))}))},Us.offline=Lu,F("shaka.polyfill.installAll",(function(){for(var e=0;e<Wu.length;++e)Wu[e].te()}));var Vu,zu,Wu=[];function qu(e,t){for(var n={priority:t=t||0,te:e},r=0;r<Wu.length;r++)if(Wu[r].priority<t)return void Wu.splice(r,0,n);Wu.push(n)}function Ku(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"===typeof Event)var n=new Event(t,e);else(n=document.createEvent("Event")).initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)}function Xu(e,t,n){if("input"==e)switch(this.type){case"range":e="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,e,t,n)}function Yu(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return(n=e.apply(this,n)).abort=function(){},n}}function $u(e,t){try{var n=new Ju(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Ju(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(var n=d(t),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var a=!1,o=!1;if(i.audioCapabilities)for(var s=d(i.audioCapabilities),u=s.next();!u.done;u=s.next())if((u=u.value).contentType){a=!0;var l=u.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,l)&&(r.audioCapabilities.push(u),o=!0)}if(i.videoCapabilities)for(u=(i=d(i.videoCapabilities)).next();!u.done;u=i.next())(s=u.value).contentType&&(a=!0,u=s.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,u)&&(r.videoCapabilities.push(s),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=o?r:null}if(r)return void(this.a=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Qu(e){var t=this.mediaKeys;return t&&t!=e&&el(t,null),delete this.mediaKeys,(this.mediaKeys=e)?el(e,this):Promise.resolve()}function Zu(e){this.b=new WebKitMediaKeys(e),this.a=new He}function el(e,t){if(e.a.$a(),!t)return Promise.resolve();e.a.w(t,"webkitneedkey",nl);try{return 1<=t.readyState?t.webkitSetMediaKeys(e.b):e.a.da(t,"loadedmetadata",(function(){t.webkitSetMediaKeys(e.b)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function tl(e){Ee.call(this),this.b=null,this.g=e,this.c=this.a=null,this.f=new He,this.sessionId="",this.expiration=NaN,this.closed=new pe,this.keyStatuses=new il}function nl(e){var t=new Event("encrypted");t.initDataType="cenc",t.initData=e.initData,this.dispatchEvent(t)}function rl(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new Te("keystatuseschange"))}function il(){this.size=0,this.a=void 0}function al(e,t){try{var n=new ol(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function ol(e,t){this.keySystem=e;for(var n=!1,r=0;r<t.length;++r){var i=t[r],a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var u=i.audioCapabilities[s];if(u.contentType){o=!0;var l=u.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,l)&&(a.audioCapabilities.push(u),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)(u=i.videoCapabilities[s]).contentType&&(o=!0,l=u.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,l)&&(a.videoCapabilities.push(u),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=a)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function sl(e){var t=this.mediaKeys;return t&&t!=e&&ll(t,null),delete this.mediaKeys,(this.mediaKeys=e)?ll(e,this):Promise.resolve()}function ul(e){this.a=new MSMediaKeys(e),this.b=new He}function ll(e,t){if(e.b.$a(),!t)return Promise.resolve();e.b.w(t,"msneedkey",dl);var n=e;try{return 1<=t.readyState?t.msSetMediaKeys(e.a):t.addEventListener("loadedmetadata",(function e(){t.msSetMediaKeys(n.a),t.removeEventListener("loadedmetadata",e)})),Promise.resolve()}catch(r){return Promise.reject(r)}}function cl(e){Ee.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new He,this.sessionId="",this.expiration=NaN,this.closed=new pe,this.keyStatuses=new hl}function dl(e){if(e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",t.initData=function(e){if(!e)return e;var t=new Gr(e);if(1>=t.data.length)return e;e=[];for(var n={},r=(t=d(t.data)).next();!r.done;n={hc:n.hc},r=t.next())n.hc=r.value,e.some(function(e){return function(t){return ct.ya(t,e.hc)}}(n))||e.push(n.hc);return ct.concat.apply(ct,D(e))}(e.initData),this.dispatchEvent(t)}}function fl(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new Te("keystatuseschange"))}function hl(){this.size=0,this.a=void 0}function pl(){return Promise.reject(Error("The key system specified is not supported."))}function ml(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function gl(){throw new TypeError("Illegal constructor.")}function vl(){throw new TypeError("Illegal constructor.")}F("shaka.polyfill.register",qu),qu((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Ku),document.addEventListener("webkitfullscreenerror",Ku),document.addEventListener("mozfullscreenchange",Ku),document.addEventListener("mozfullscreenerror",Ku),document.addEventListener("MSFullscreenChange",Ku),document.addEventListener("MSFullscreenError",Ku)}})),qu((function(){et("CrKey")&&delete e.indexedDB})),qu((function(){et("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Xu)})),qu((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),qu((function(){})),qu((function(){if(e.MediaSource)if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType)!function(){var e=MediaSource.isTypeSupported,t=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){for(var r=n.split(/ *; */),i=r[0],a={},o=1;o<r.length;++o){var s=r[o].split("="),u=s[0];s=s[1].replace(/"(.*)"/,"$1"),a[u]=s}if(!(r=a.codecs))return e(n);var l=!1,c=!1;for(var d in n=r.split(",").filter((function(e){return t.test(e)&&(c=!0),/^(hev|hvc)1\.2/.test(e)&&(l=!0),!0})),c&&(l=!1),a.codecs=n.join(","),l&&(a.eotf="smpte2084"),a)i+="; "+d+'="'+a[d]+'"';return cast.__platform__.canDisplayType(i)}}();else if(navigator.vendor&&navigator.vendor.includes("Apple")){var t=navigator.appVersion.match(/Version\/(\d+)/);t=parseInt(t[1],10),function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}}(),10>=t?e.MediaSource=null:12>=t?(Yu(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}()):Yu()}else et("Tizen")&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=$e(t)[0]&&e(t)}}()})),Ju.prototype.createMediaKeys=function(){var e=new Zu(this.keySystem);return Promise.resolve(e)},Ju.prototype.getConfiguration=function(){return this.a},Zu.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new tl(this.b,e)},Zu.prototype.setServerCertificate=function(e){return e&&new Uint8Array(e),Promise.resolve(!0)},H(tl,Ee),(n=tl.prototype).generateRequest=function(e,t){this.a=new pe;try{this.b=this.g.createSession("video/mp4",new Uint8Array(t)),this.sessionId=this.b.sessionId||"",this.f.w(this.b,"webkitkeymessage",this.Zf.bind(this)),this.f.w(this.b,"webkitkeyadded",this.Xf.bind(this)),this.f.w(this.b,"webkitkeyerror",this.Yf.bind(this)),rl(this,"status-pending")}catch(n){this.a.reject(n)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.c=new pe;try{this.b.update(new Uint8Array(e))}catch(t){this.c.reject(t)}return this.c},n.close=function(){try{this.b.close(),this.closed.resolve(),this.f.$a()}catch(dc){this.closed.reject(dc)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.Zf=function(e){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new Te("message",{messageType:void 0==this.keyStatuses.a?"license-request":"license-renewal",message:e.message.buffer}))},n.Xf=function(){this.c&&(rl(this,"usable"),this.c.resolve(),this.c=null)},n.Yf=function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=this.b.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.c)this.c.reject(e),this.c=null;else switch(this.b.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:rl(this,"output-not-allowed");break;default:rl(this,"internal-error")}},(n=il.prototype).forEach=function(e){this.a&&e(this.a,Vu)},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=Vu;return!(!this.a||!ct.ya(new Uint8Array(e),new Uint8Array(t)))},n.entries=function(){},n.keys=function(){},n.values=function(){},qu((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(Vu=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Qu,e.MediaKeys=Zu,e.MediaKeySystemAccess=Ju,navigator.requestMediaKeySystemAccess=$u)})),ol.prototype.createMediaKeys=function(){var e=new ul(this.keySystem);return Promise.resolve(e)},ol.prototype.getConfiguration=function(){return this.a},ul.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new cl(this.a,e)},ul.prototype.setServerCertificate=function(){return Promise.resolve(!1)},H(cl,Ee),(n=cl.prototype).generateRequest=function(e,t){this.a=new pe;try{this.c=this.g.createSession("video/mp4",new Uint8Array(t),null),this.f.w(this.c,"mskeymessage",this.rf.bind(this)),this.f.w(this.c,"mskeyadded",this.pf.bind(this)),this.f.w(this.c,"mskeyerror",this.qf.bind(this)),fl(this,"status-pending")}catch(n){this.a.reject(n)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.b=new pe;try{this.c.update(new Uint8Array(e))}catch(t){this.b.reject(t)}return this.b},n.close=function(){try{this.c.close(),this.closed.resolve(),this.f.$a()}catch(dc){this.closed.reject(dc)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.rf=function(e){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new Te("message",{messageType:void 0==this.keyStatuses.a?"license-request":"license-renewal",message:e.message.buffer}))},n.pf=function(){this.a?(fl(this,"usable"),this.a.resolve(),this.a=null):this.b&&(fl(this,"usable"),this.b.resolve(),this.b=null)},n.qf=function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:fl(this,"output-not-allowed");break;default:fl(this,"internal-error")}},(n=hl.prototype).forEach=function(e){this.a&&e(this.a,zu)},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=zu;return!(!this.a||!ct.ya(new Uint8Array(e),new Uint8Array(t)))},n.entries=function(){},n.keys=function(){},n.values=function(){},qu((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(zu=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=sl,e.MediaKeys=ul,e.MediaKeySystemAccess=ol,navigator.requestMediaKeySystemAccess=al)})),gl.prototype.createSession=function(){},gl.prototype.setServerCertificate=function(){},vl.prototype.getConfiguration=function(){},vl.prototype.createMediaKeys=function(){},qu((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=pl,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ml,e.MediaKeys=gl,e.MediaKeySystemAccess=vl)}),-10);var yl,bl="";function _l(e){return bl?bl+e.charAt(0).toUpperCase()+e.slice(1):e}function wl(e,t){try{var n=new Sl(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Tl(e){var t=this.mediaKeys;return t&&t!=e&&kl(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&kl(e,this),Promise.resolve()}function Sl(e,t){this.a=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=0;a<t.length;++a){var o=t[a],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var l=0;l<o.audioCapabilities.length;++l){var c=o.audioCapabilities[l];if(c.contentType){u=!0;var d=c.contentType.split(";")[0];i.canPlayType(d,this.a)&&(s.audioCapabilities.push(c),r=!0)}}if(o.videoCapabilities)for(l=0;l<o.videoCapabilities.length;++l)(c=o.videoCapabilities[l]).contentType&&(u=!0,i.canPlayType(c.contentType,this.a)&&(s.videoCapabilities.push(c),r=!0));if(u||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function El(e){this.g=e,this.b=null,this.a=new He,this.c=[],this.f={}}function kl(e,t){e.b=t,e.a.$a();var n=bl;t&&(e.a.w(t,n+"needkey",e.wf.bind(e)),e.a.w(t,n+"keymessage",e.bg.bind(e)),e.a.w(t,n+"keyadded",e.$f.bind(e)),e.a.w(t,n+"keyerror",e.ag.bind(e)))}function xl(e,t){var n=e.f[t];return n||((n=e.c.shift())?(n.sessionId=t,e.f[t]=n):null)}function Cl(e,t,n){Ee.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new pe,this.keyStatuses=new Rl}function Al(e,t,n){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(n)var r=new Uint8Array(ot("LOAD_SESSION|"+n));else{var a=ot("PERSISTENT|"),o=new Uint8Array(a.byteLength+t.byteLength);o.set(new Uint8Array(a),0),o.set(new Uint8Array(t),a.byteLength),r=o}else r=new Uint8Array(t)}catch(i){return Promise.reject(i)}e.b=new pe;var s=_l("generateKeyRequest");try{e.f[s](e.c,r)}catch(i){if("InvalidStateError"!=i.name)return e.b=null,Promise.reject(i);new ce((function(){try{e.f[s](e.c,r)}catch(t){e.b.reject(t),e.b=null}})).P(.01)}return e.b}function Ol(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new Te("keystatuseschange"))}function Rl(){this.size=0,this.a=void 0}function Pl(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function Il(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Ll(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function Ml(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Dl(t,n,r){return new e.TextTrackCue(t,n,r)}function Nl(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function jl(){}Sl.prototype.createMediaKeys=function(){var e=new El(this.a);return Promise.resolve(e)},Sl.prototype.getConfiguration=function(){return this.b},(n=El.prototype).createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.b||document.createElement("video");return t.src||(t.src="about:blank"),e=new Cl(t,this.g,e),this.c.push(e),e},n.setServerCertificate=function(){return Promise.resolve(!1)},n.wf=function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="webm",t.initData=e.initData,this.b.dispatchEvent(t)},n.bg=function(e){var t=xl(this,e.sessionId);t&&(e=new Te("message",{messageType:void 0==t.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message}),t.b&&(t.b.resolve(),t.b=null),t.dispatchEvent(e))},n.$f=function(e){(e=xl(this,e.sessionId))&&(Ol(e,"usable"),e.a&&e.a.resolve(),e.a=null)},n.ag=function(e){var t=xl(this,e.sessionId);t&&t.handleError(e)},H(Cl,Ee),(n=Cl.prototype).handleError=function(e){var t=Error("EME v0.1b key error");t.errorCode=e.errorCode,t.errorCode.systemCode=e.systemCode,!e.sessionId&&this.b?(t.method="generateRequest",45==e.systemCode&&(t.message="Unsupported session type."),this.b.reject(t),this.b=null):e.sessionId&&this.a?(t.method="update",this.a.reject(t),this.a=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Ol(this,"output-restricted"):Ol(this,1==t?"expired":"internal-error"))},n.td=function(e,t){if(this.a)this.a.then(this.td.bind(this,e,t)).catch(this.td.bind(this,e,t));else{if(this.a=e,"webkit-org.w3.clearkey"==this.c){var n=rt(t),r=JSON.parse(n);"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=ct.Aa(r.keys[0].k),r=ct.Aa(r.keys[0].kid)}else n=new Uint8Array(t),r=null;var i=_l("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(a){this.a.reject(a),this.a=null}}},n.generateRequest=function(e,t){return Al(this,t,null)},n.load=function(e){return"persistent-license"==this.g?Al(this,null,e):Promise.reject(Error("Not a persistent session."))},n.update=function(e){var t=new pe;return this.td(t,e),t},n.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=_l("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},n.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(n=Rl.prototype).forEach=function(e){this.a&&e(this.a,yl)},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=yl;return!(!this.a||!ct.ya(new Uint8Array(e),new Uint8Array(t)))},n.entries=function(){},n.keys=function(){},n.values=function(){},qu((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)bl="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;yl=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=wl,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Tl,e.MediaKeys=El,e.MediaKeySystemAccess=Sl}})),qu((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=Il,document.exitPictureInPicture=Ll,document.addEventListener("webkitpresentationmodechanged",Pl,!0))}})),qu((function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}})),qu((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=Ml)}})),qu((function(){if(!e.VTTCue&&e.TextTrackCue){var t=TextTrackCue.length;if(3==t)e.VTTCue=Dl;else if(6==t)e.VTTCue=Nl;else{try{var n=!!Dl(1,2,"")}catch(r){n=!1}n&&(e.VTTCue=Dl)}}})),jl.prototype.parseInit=function(){},jl.prototype.parseMedia=function(e,t){var n=rt(e),r=[],i=new DOMParser,a=null;if(""==n)return r;try{a=i.parseFromString(n,"text/xml")}catch(_){throw new he(2,2,2005,"Failed to parse TTML.")}if(a){if(n=a.getElementsByTagName("parsererror")[0])throw new he(2,2,2005,n.textContent);if(!(i=a.getElementsByTagName("tt")[0]))throw new he(2,2,2005,"TTML does not contain <tt> tag.");var o=Vr.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=Vr.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),u=Vr.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),l=Vr.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","tickRate");if(a=i.getAttribute("xml:space")||"default",n=i.getAttribute("tts:extent"),"default"!=a&&"preserve"!=a)throw new he(2,2,2005,"Invalid xml:space value: "+a);a="default"==a,o=new ic(o,s,u,l),s=Yl(i.getElementsByTagName("metadata")[0]),u=Yl(i.getElementsByTagName("styling")[0]),l=Yl(i.getElementsByTagName("layout")[0]);for(var c=[],f=0;f<l.length;f++){var h,p,m=l[f],g=u,v=n,y=new on,b=m.getAttribute("xml:id");if(b)y.id=b,b=null,v&&(b=Ul.exec(v)||Fl.exec(v)),v=b?Number(b[1]):null,b=b?Number(b[2]):null,(h=Zl(m,g,"extent"))&&(null!=(h=(p=Ul.exec(h))||Fl.exec(h))&&(y.width=null!=v?100*Number(h[1])/v:Number(h[1]),y.height=null!=b?100*Number(h[2])/b:Number(h[2]),y.widthUnits=p||null!=v?sn:0,y.heightUnits=p||null!=b?sn:0)),(m=Zl(m,g,"origin"))&&(null!=(h=(p=Ul.exec(m))||Fl.exec(m))&&(y.viewportAnchorX=null!=b?100*Number(h[1])/b:Number(h[1]),y.viewportAnchorY=null!=v?100*Number(h[2])/v:Number(h[2]),y.viewportAnchorUnits=p||null!=v?sn:0));else y=null;y&&c.push(y)}for(n=(n=i.getElementsByTagName("body")[0])?Array.from(n.querySelectorAll("[begin]")):[],i=(n=d(n)).next();!i.done;i=n.next())(i=$l(i.value,t.periodStart,o,s,u,l,c,a,!1))&&r.push(i)}return r};var Ul=/^(\d{1,2}(?:\.\d+)?|100)% (\d{1,2}(?:\.\d+)?|100)%$/,Bl=/^(\d+px|\d+em)$/,Fl=/^(\d+)px (\d+)px$/,Hl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Gl=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Vl=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,zl=/^(\d*(?:\.\d*)?)f$/,Wl=/^(\d*(?:\.\d*)?)t$/,ql=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Kl={left:en,center:"center",right:"end",start:en,end:"end"},Xl={left:"line-left",center:"center",right:"line-right"};function Yl(e){var t=[];if(!e)return t;for(var n=d(e.childNodes),r=n.next();!r.done;r=n.next())(r=r.value).nodeType==Node.ELEMENT_NODE&&"br"!==r.nodeName&&(r=Yl(r),t=t.concat(r));return t.length||t.push(e),t}function $l(e,t,n,r,i,a,o,s,u){if(u&&"br"==e.nodeName)return(e=new Wt(0,0,"")).spacer=!0,e;var l=/^[\s\n]*$/.test(e.textContent),c=e.nodeType==Node.ELEMENT_NODE&&!e.hasAttribute("begin")&&!e.hasAttribute("end");if(e.nodeType!=Node.ELEMENT_NODE||c&&l||c&&!u)return null;l=nc(e.getAttribute("begin"),n),c=nc(e.getAttribute("end"),n);var f=nc(e.getAttribute("dur"),n);if(null==c&&null!=f&&(c=l+f),!u&&(null==l||null==c))throw new he(2,2,2001);if(l+=t,c+=t,f="",u=[],Array.from(e.childNodes).find((function(e){return e.nodeType===Node.TEXT_NODE&&/\w+/.test(e.textContent)})))f=function e(t,n){for(var r="",i=d(t.childNodes),a=i.next();!a.done;a=i.next())"br"==(a=a.value).nodeName&&t.childNodes[0]!==a?r+="\n":a.childNodes&&0<a.childNodes.length?r+=e(a,n):n?r+=a=(a=a.textContent.trim()).replace(/\s+/g," "):r+=a.textContent;return r}(e,s);else for(var h=d(e.childNodes),p=h.next();!p.done;p=h.next())(p=$l(p.value,t,n,r,i,a,o,s,!0))&&u.push(p);if((t=new Wt(l,c,f)).nestedCues=u,(a=tc(e,"region",a,"")[0])&&a.getAttribute("xml:id")){var m=a.getAttribute("xml:id");t.region=o.filter((function(e){return e.id==m}))[0]}return function(e,t,n,r,i){"rtl"==Ql(t,n,i,"direction")&&(e.direction="rtl");var a=Ql(t,n,i,"writingMode");"tb"==a||"tblr"==a?e.writingMode="vertical-lr":"tbrl"==a?e.writingMode="vertical-rl":"rltb"==a||"rl"==a?e.direction="rtl":a&&(e.direction=Jt),(a=Ql(t,n,i,"textAlign"))&&(e.positionAlign=Xl[a],e.lineAlign=Kl[a],e.textAlign=Xt[a.toUpperCase()]);(a=Ql(t,n,i,"displayAlign"))&&(e.displayAlign=$t[a.toUpperCase()]);(a=Ql(t,n,i,"color"))&&(e.color=a);(a=Ql(t,n,i,"backgroundColor"))&&(e.backgroundColor=a);(a=Ql(t,n,i,"fontFamily"))&&(e.fontFamily=a);(a=Ql(t,n,i,"fontWeight"))&&"bold"==a&&(e.fontWeight=700),(a=Ql(t,n,i,"wrapOption"))&&"noWrap"==a&&(e.wrapLine=!1),(a=Ql(t,n,i,"lineHeight"))&&a.match(Bl)&&(e.lineHeight=a),(a=Ql(t,n,i,"fontSize"))&&a.match(Bl)&&(e.fontSize=a),(a=Ql(t,n,i,"fontStyle"))&&(e.fontStyle=an[a.toUpperCase()]);if(r){a=r.getAttribute("imagetype");var o=r.getAttribute("encoding");r=r.textContent.trim(),"PNG"==a&&"Base64"==o&&r&&(e.backgroundImage="data:image/png;base64,"+r)}(n=Zl(n,i,"textDecoration"))&&Jl(e,n),(t=ec(t,i,"textDecoration"))&&Jl(e,t)}(t,e,a,r=tc(e,"smpte:backgroundImage",r,"#")[0],i),t}function Jl(e,t){for(var n=t.split(" "),r=0;r<n.length;r++)switch(n[r]){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&Ce(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&Ce(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&Ce(e.textDecoration,"overline")}}function Ql(e,t,n,r){return(e=ec(e,n,r))?e:Zl(t,n,r)}function Zl(e,t,n){for(var r=Yl(e),i=0;i<r.length;i++){var a=Vr.getAttributeNS(r[i],"http://www.w3.org/ns/ttml#styling",n);if(a)return a}return(e=tc(e,"style",t,"")[0])?Vr.getAttributeNS(e,"http://www.w3.org/ns/ttml#styling",n):null}function ec(e,t,n){var r=Vr.getAttributeNS(e,"http://www.w3.org/ns/ttml#styling",n);if(r)return r;for(e=tc(e,"style",t,""),t=null,r=0;r<e.length;r++){var i=Vr.getAttributeNS(e[r],"http://www.w3.org/ns/ttml#styling",n);i&&(t=i)}return t}function tc(e,t,n,r){var i=[];if(!e||1>n.length)return i;var a=e;for(e=null;a&&!(e=a.getAttribute(t))&&(a=a.parentNode)instanceof Element;);if(t=e)for(e=(t=d(t=t.split(" "))).next();!e.done;e=t.next()){e=e.value;for(var o=(a=d(n)).next();!o.done;o=a.next())if(r+(o=o.value).getAttribute("xml:id")==e){i.push(o);break}}return i}function nc(e,t){var n=null;if(Hl.test(e)){n=Hl.exec(e);var r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=Number(n[4]);n=(a+=(o+=(Number(n[5])||0)/t.b)/t.frameRate)+60*i+3600*r}else Gl.test(e)?n=rc(Gl,e):Vl.test(e)?n=rc(Vl,e):zl.test(e)?(n=zl.exec(e),n=Number(n[1])/t.frameRate):Wl.test(e)?(n=Wl.exec(e),n=Number(n[1])/t.a):ql.test(e)&&(n=rc(ql,e));return n}function rc(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function ic(e,t,n,r){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(r),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}function ac(){this.a=new jl}function oc(){}function sc(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],e.textAlign="middle"==t?Kt:Xt[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(r=/^region:(.*)$/.exec(t))?(t=function(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?n[0]:null}(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=tn[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Zt,e.line=Number(n[1]),n[2]&&(e.lineAlign=tn[n[2].toUpperCase()]))}function uc(e){if(null==(e=Bi(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function lc(){this.a=null}function cc(e,t,n){var r,i,a;return(new Nr).H("payl",Br((function(e){r=rt(e)}))).H("iden",Br((function(e){i=rt(e)}))).H("sttg",Br((function(e){a=rt(e)}))).parse(e),r?function(e,t,n,r,i){if(e=new Wt(r,i,e),t&&(e.id=t),n)for(t=new ji(n),n=Fi(t);n;)sc(e,n,[]),Ui(t),n=Fi(t);return e}(r,i,a,t,n):null}cn["application/ttml+xml"]=jl,ac.prototype.parseInit=function(e){var t=!1;if((new Nr).H("moov",jr).H("trak",jr).H("mdia",jr).H("minf",jr).H("stbl",jr).fa("stsd",Ur).H("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new he(2,2,2007)},ac.prototype.parseMedia=function(e,t){var n=!1,r=[];if((new Nr).H("mdat",Br(function(e){n=!0,r=r.concat(this.a.parseMedia(e,t))}.bind(this))).parse(e),!n)throw new he(2,2,2007);return r},cn['application/mp4; codecs="stpp"']=ac,cn['application/mp4; codecs="stpp.TTML.im1t"']=ac,oc.prototype.parseInit=function(){},oc.prototype.parseMedia=function(e,t){var n=rt(e);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new he(2,2,2e3);var r=t.segmentStart;if(null==r&&(r=0,n[0].includes("X-TIMESTAMP-MAP"))){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=n[0].match(/MPEGTS:(\d+)/m);if(i&&a){if(null==(r=uc(new ji(i[1]))))throw new he(2,2,2e3);r=t.periodStart+(Number(a[1])/9e4-r)}}a=[];var o=n[0].split("\n");for(i=1;i<o.length;i++)if(/^Region:/.test(o[i])){var s=new ji(o[i]),u=new on;Fi(s),Ui(s);for(var l=Fi(s);l;){var c=u,d=l;(l=/^id=(.*)$/.exec(d))?c.id=l[1]:(l=/^width=(\d{1,2}|100)%$/.exec(d))?c.width=Number(l[1]):(l=/^lines=(\d+)$/.exec(d))?(c.height=Number(l[1]),c.heightUnits=2):(l=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(c.regionAnchorX=Number(l[1]),c.regionAnchorY=Number(l[2])):(l=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(c.viewportAnchorX=Number(l[1]),c.viewportAnchorY=Number(l[2])):/^scroll=up$/.exec(d)&&(c.scroll="up"),Ui(s),l=Fi(s)}a.push(u)}for(i=[],s=1;s<n.length;s++){if(l=o=n[s].split("\n"),d=r,o=a,1==l.length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||"STYLE"==l[0])o=null;else{u=null,l[0].includes("--\x3e")||(u=l[0],l.splice(0,1));var f=uc(c=new ji(l[0])),h=Bi(c,/[ \t]+--\x3e[ \t]+/g),p=uc(c);if(null==f||null==h||null==p)throw new he(2,2,2001);for(l=new Wt(f+d,p+d,l.slice(1).join("\n").trim()),Ui(c),d=Fi(c);d;)sc(l,d,o),Ui(c),d=Fi(c);null!=u&&(l.id=u),o=l}o&&i.push(o)}return i},cn["text/vtt"]=oc,cn['text/vtt; codecs="vtt"']=oc,lc.prototype.parseInit=function(e){var t=!1;if((new Nr).H("moov",jr).H("trak",jr).H("mdia",jr).fa("mdhd",function(e){0==e.version?(e.reader.M(4),e.reader.M(4),this.a=e.reader.G(),e.reader.M(4)):(e.reader.M(8),e.reader.M(8),this.a=e.reader.G(),e.reader.M(8)),e.reader.M(4)}.bind(this)).H("minf",jr).H("stbl",jr).fa("stsd",Ur).H("wvtt",(function(){t=!0})).parse(e),!this.a)throw new he(2,2,2008);if(!t)throw new he(2,2,2008)},lc.prototype.parseMedia=function(e,t){var n=this;if(!this.a)throw new he(2,2,2008);var r,i=0,a=[],o=[],s=!1,u=!1,l=!1,c=null;if((new Nr).H("moof",jr).H("traf",jr).fa("tfdt",(function(e){s=!0,i=0==e.version?e.reader.G():e.reader.Ab()})).fa("tfhd",(function(e){var t=e.flags;(e=e.reader).M(4),1&t&&e.M(8),2&t&&e.M(4),c=8&t?e.G():null})).fa("trun",(function(e){u=!0;var t=e.version,n=e.flags,r=(e=e.reader).G();1&n&&e.M(4),4&n&&e.M(4);for(var i=[],o=0;o<r;o++){var s={duration:null,sampleSize:null,vd:null};256&n&&(s.duration=e.G()),512&n&&(s.sampleSize=e.G()),1024&n&&e.M(4),2048&n&&(s.vd=0==t?e.G():e.$d()),i.push(s)}a=i})).H("mdat",Br((function(e){l=!0,r=e}))).parse(e),!l&&!s&&!u)throw new he(2,2,2008);var d=i,f=new Lr(new DataView(r.buffer,r.byteOffset,r.byteLength),0);return a.forEach((function(e){var r=e.duration||c,a=e.vd?i+e.vd:d;d=a+(r||0);var s=0;do{var u=f.G();s+=u;var l=null;"vttc"==Hr(f.G())?8<u&&(l=f.Za(u-8)):f.M(u-8),r&&l&&o.push(cc(l,t.periodStart+a/n.a,t.periodStart+d/n.a))}while(e.sampleSize&&s<e.sampleSize)})),o.filter(Ut.Ia)},cn['application/mp4; codecs="wvtt"']=lc,F("shaka.util.Dom.createHTMLElement",(function(e){return document.createElement(e)})),F("shaka.util.Dom.createVideoElement",(function(){var e=document.createElement("video");return e.muted=!0,e.width=600,e.height=400,e})),F("shaka.util.Dom.asHTMLElement",(function(e){return e})),F("shaka.util.Dom.asHTMLMediaElement",(function(e){return e})),F("shaka.util.Dom.removeAllChildren",(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}))}.call(r,n,n),r.shaka)t[i]=r.shaka[i]}()}).call(this,n("yLpj"))},RIqP:function(e,t,n){var r=n("Ijbi"),i=n("EbDI"),a=n("ZhPi"),o=n("Bnag");e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},"Rn+g":function(e,t,n){"use strict";var r=n("LYNF");e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},SLVX:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},SksO:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},TOwV:function(e,t,n){"use strict";e.exports=n("qT12")},TSYQ:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},U6jy:function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},U8pU:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},UnBK:function(e,t,n){"use strict";var r=n("xTJ+"),i=n("xAGQ"),a=n("Lmem"),o=n("JEQr"),s=n("2SVd"),u=n("5oMp");function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return l(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(l(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},VCL8:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==s){var u=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.d(t,"a",(function(){return o})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},VEaK:function(e,t,n){"use strict";function r(e){const t=e.split("");let n=0;const r=t.length;for(;n<r;n++){const e=t[n].charCodeAt(0);e>=65&&e<=90&&(t[n]="_"+String.fromCharCode(e+32))}return t.join("")}function i(e,t){const n={};let r,i;for([r,i]of Object.entries(e))n[t(r)]=i;return n}var a;n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return T})),n.d(t,"a",(function(){return S})),n.d(t,"g",(function(){return P})),function(e){e.Get="GET",e.Post="POST"}(a||(a={}));function o(e,t,n,r,i){return new Promise((o,s)=>{!function(e,t,n,r,i,o,s){const u=new XMLHttpRequest;u.open(e,t,!0);for(const a in n)u.setRequestHeader(a,n[a]);u.onload=function(){if(this.status>=200&&this.status<400){let t;try{t=JSON.parse(this.response||"{}")}catch(e){t={response:this.response}}o&&o(t)}else s&&s([this.response,this.status,i])},u.onerror=function(e){s&&s([e,this.status,i])},e===a.Post?(u.setRequestHeader("Content-Type","application/json; charset=UTF-8"),u.send(JSON.stringify(r))):u.send()}(e,t,n.headers,r,i,o,s)})}class s{constructor(e){this.value=e}toString(){return this.value}valueOf(){return this.value}}function u(e){return new s(e)}function l(e){return e instanceof s}function c(e){return e.value}const d={navigator:{hardwareConcurrency:u(-1),getBattery:u(()=>Promise.resolve({charging:null,chargingTime:-1,dischargingTime:-1})),connection:{downlink:u(-1),effectiveType:u("na"),rtt:u(-1)}},performance:{memory:{jsHeapSizeLimit:u(-1),totalJSHeapSize:u(-1),usedJSHeapSize:u(-1)}}};var f,h=function(e){const t={};return function e(t,n,r){for(const i in r)if({}.hasOwnProperty.call(r,i))if(i in n&&void 0!==n[i]&&null!==n[i]){const a=n[i];if(l(r[i]))t[i]=a;else{e(t[i]={},a,r[i])}}else{const n=r[i];if(l(n))t[i]=c(n);else{e(t[i]={},{},n)}}}(t,e,d),t};!function(e){e.LogicalCoreCount="logical_core_count",e.MemoryHeapMaxAvailable="available_js_heap",e.MemoryHeapAllocated="allocated_js_heap",e.MemoryHeapUsed="used_js_heap",e.BatteryIsCharting="battery_charging",e.BatteryTimeToCharge="battery_time_to_charge",e.BatteryTimeToDischarge="battery_time_to_discharge",e.NetDownlink="bandwidth",e.NetEffectiveType="network_type",e.NetRtt="network_rtt"}(f||(f={}));const p={},m={application:"LiveClass",ip:"192.168.1.0"};class g{constructor(e,t,n){this.eventQ=[],this.shouldStartLocalCaching=!1,this.onEventPostingFailure=(e,t,n)=>!0,this.endpoint=e,this.meta=t,this.meta.shouldEnableLocalCachingByDefault&&this.startLocalCaching();const a=i(n,r);this.args=function(e,t){const n=Object.entries(t);let r,i;for([r,i]of n)void 0===e[r]&&(e[r]=i);return e}(a,m),this.postLoopImpl=function(e,t,n){const r={};let i=void 0;function a(){clearInterval(i),i=void 0}return r.resume=r=>{i||(void 0!==r&&null!==r||(r=n.timeout),i=setInterval(()=>{if(!e.length)return void a();const i=e.splice(0,n.itemCount);t(i,0===r)},r))},r.flush=()=>{a(),r.resume(0)},r}(this.eventQ,this.onLoopFlush.bind(this),{timeout:g.FLUSH_TIMEOUT,itemCount:g.FLUSH_ITEMS_COUNT});const o=h(window);this.metric=function(e){const t={getLogicalCoreCount:async()=>[{name:f.LogicalCoreCount,value:e.navigator.hardwareConcurrency}],jsHeapInfo:async()=>{const t=e.performance.memory;return[{name:f.MemoryHeapUsed,value:+(t.usedJSHeapSize/1024/1024).toFixed(2),unit:"MB"},{name:f.MemoryHeapAllocated,value:+(t.totalJSHeapSize/1024/1024).toFixed(2),unit:"MB"},{name:f.MemoryHeapMaxAvailable,value:+(t.jsHeapSizeLimit/1024/1024/1024).toFixed(2),unit:"GB"}]},batteryInfo:async()=>{var t,n,r,i;const a=await e.navigator.getBattery.call(window.navigator),[o,s]=[(n=null===(t=a)||void 0===t?void 0:t.chargingTime,null!==n&&void 0!==n?n:-1),(i=null===(r=a)||void 0===r?void 0:r.dischargingTime,null!==i&&void 0!==i?i:-1)].map(e=>(e===Number.POSITIVE_INFINITY?e=0:null!==e&&void 0!==e||(e=-1),e));return[{name:f.BatteryIsCharting,value:!!a.charging},{name:f.BatteryTimeToCharge,value:o},{name:f.BatteryTimeToDischarge,value:s}]},connection:async()=>{const t=e.navigator.connection;return[{name:f.NetDownlink,value:t.downlink,unit:"Mbps"},{name:f.NetEffectiveType,value:t.effectiveType},{name:f.NetRtt,value:t.rtt}]}};return t}(o)}updateArgs(e){this.args=Object.assign(Object.assign({},this.args),i(e,r))}updateMeta(e){this.meta=Object.assign(this.meta,e)}async gatherAllMetric(){return function(e){return e.reduce((e,t)=>(e[t.name]=t.value,e),{})}([...await this.metric.connection(),...await this.metric.jsHeapInfo(),...await this.metric.getLogicalCoreCount(),...await this.metric.batteryInfo()])}async onLoopFlush(e,t){const n=await this.gatherAllMetric();let r=e=e.map(e=>Object.assign(Object.assign({},e),n));this.meta.isNestedStructure&&(r=e.map(e=>{const t=Object.assign({},this.meta.defaultNest||{});return t[this.meta.keyOfNesting||""]=e,t}));const i=this.endpoint;o(a.Post,i,this.meta,r,e).catch(e=>{const n=e[1];if(!(n>=400&&n<500)||this.onEventPostingFailure(...e)){if(t)return;const[,,n]=e;this.eventQ.push(...n),this.postLoopImpl.resume()}})}flushAll(){this.postLoopImpl.flush()}startLocalCaching(){this.shouldStartLocalCaching=!0}resumeEventLoop(){this.shouldStartLocalCaching=!1,this.postLoopImpl.resume()}sendData(e,t,n){if(!e)return;null!==t&&void 0!==t||(t=p),n||(n=p),t="object"===typeof t?JSON.stringify(t):t.toString();const r=Object.assign(Object.assign({event:e,data:JSON.stringify(t),client_time:this.meta.isUnixTime?+(+new Date/1e3).toFixed(0):(new Date).toISOString()},this.args),n);this.eventQ.push(r),this.eventQ.length>=25e3&&this.eventQ.shift(),this.shouldStartLocalCaching||this.postLoopImpl.resume()}}g.FLUSH_TIMEOUT=5e3,g.FLUSH_ITEMS_COUNT=50;const v={};function y(){return{getOrCreate:e=>{if(e in v)return v[e];const t=new w;return v[e]=t,t}}}function b(){return Object.assign({},{ts:0,called:!1})}var _;!function(e){e[e.PEEK=1]="PEEK",e[e.TIME_SINCE_LAST_CALL=2]="TIME_SINCE_LAST_CALL"}(_||(_={}));class w{constructor(){this.loopTimer=0,this.timeouts=[],this.contextData={},this.classHasFailure=void 0,this.reset()}reset(){this.startMeasurementData=Object.assign({},Object.assign(Object.assign({},b()),{timeSpentInPauseMode:0,pausedAt:0,paused:!1,lastPeeked:{ts:-1}})),this.endMeasurementData=b(),this.d={dts:-1},this.timeouts.length=0,this.contextData={},this.loopTimer&&(clearInterval(this.loopTimer),this.loopTimer=0)}setDataInContext(e,t){this.contextData[e]=t}updateDataInContext(e,t){this.contextData[e]=t(this.contextData[e])}getRawDataFromContext(){return this.contextData}getStrDataFromContext(){let e="";for(const n in this.contextData){let r=this.contextData[n];if(void 0===r||null===r)r="";else if("object"===typeof r)try{r=JSON.stringify(r)}catch(t){r=r.toString()}else r=r.toString();e+=`${n}=${r};`}return e}start(){this.startMeasurementData.called||(this.reset(),this.startMeasurementData.ts=+new Date,this.startMeasurementData.called=!0)}pause(){this.isProfileRunning()&&!this.startMeasurementData.paused&&(this.startMeasurementData.paused=!0,this.startMeasurementData.pausedAt=+new Date)}resume(){this.isProfileRunning()&&this.startMeasurementData.paused&&(this.startMeasurementData.timeSpentInPauseMode+=+new Date-this.startMeasurementData.pausedAt,this.startMeasurementData.pausedAt=0,this.startMeasurementData.paused=!1)}loop(){this.loopTimer||(this.loopTimer=setInterval(()=>{if(this.timeouts.length||(clearInterval(this.loopTimer),this.loopTimer=0),!this.startMeasurementData.called||this.startMeasurementData.paused)return;const e=+new Date-this.startMeasurementData.ts-this.startMeasurementData.timeSpentInPauseMode;let t=-1;for(const n of this.timeouts)n.offset<=e&&(t++,n.resolve());this.timeouts=this.timeouts.slice(t+1)},1e3))}ttl(e){let t=()=>{},n=()=>{};const r=new Promise((e,r)=>{t=e,n=r}),i={promise:r,resolve:t,reject:n,offset:e};return this.timeouts.push(i),this.timeouts=this.timeouts.sort((e,t)=>e.offset-t.offset),this.loop(),r}peek(){if(!this.startMeasurementData.called)return this.d;let e;return e=this.startMeasurementData.paused?+new Date-(this.startMeasurementData.pausedAt+this.startMeasurementData.timeSpentInPauseMode):this.startMeasurementData.timeSpentInPauseMode,this.d.dts=+new Date-this.startMeasurementData.ts-e,{dts:this.d.dts}}timeSinceLastCall(){if(!this.startMeasurementData.called)return this.d;const e=this.peek(),t={dts:-1},n=this.startMeasurementData.lastPeeked.ts;return t.dts=n<0?e.dts:e.dts-n,this.startMeasurementData.lastPeeked.ts=e.dts,t}bookmark(e,t){let n;switch(t){case _.PEEK:n=this.peek();break;case _.TIME_SINCE_LAST_CALL:n=this.timeSinceLastCall();break;default:n=null}n&&(this.contextData[e]=n)}end(){return this.startMeasurementData.called?(this.endMeasurementData.called||(this.resume(),this.endMeasurementData.ts=+new Date,this.endMeasurementData.called=!0,this.d.dts=this.endMeasurementData.ts-this.startMeasurementData.ts-this.startMeasurementData.timeSpentInPauseMode,this.startMeasurementData.called=!1,this.timeouts.length=1),this.d):this.d}isProfilePaused(){return this.startMeasurementData.paused}isProfileComplete(){return this.endMeasurementData.called}isProfileRunning(){return this.startMeasurementData.called&&!this.endMeasurementData.called}}class T{constructor(){this.hashedMap={}}create(e){const t={resolve:e=>{},reject:e=>{}},n=new Promise((e,n)=>{t.resolve=e,t.reject=n});return this.hashedMap[e]={promise:n,fnRef:t,isAlreadyCompleted:!1},n}resolve(e){e in this.hashedMap&&(this.hashedMap[e].isAlreadyCompleted||(this.hashedMap[e].isAlreadyCompleted=!0,this.hashedMap[e].fnRef.resolve()))}then(e){Promise.all(Object.values(this.hashedMap).map(e=>e.promise)).then(e)}}class S{constructor(e){this.POST_INTERVAL=S.POST_INTERVAL,this.aggValue=0,this.refCount=0,this.timer=0,this.relayData=null,this.flushFn=e}push(e,t){this.aggValue=t(this.aggValue,e),this.refCount++,this.refCount>0&&!this.timer&&this.loop()}loop(){this.timer||(this.timer=setTimeout(()=>{const e=this.aggValue,t=this.relayData,n=this.refCount;this.dispose(!0),this.flushFn(e,t,{cardinality:n})},this.POST_INTERVAL))}setRelayData(e){this.relayData=e}getRelayData(){return this.relayData}resetRelayData(){this.relayData=null}dispose(e=!1){e||this.resetRelayData(),this.aggValue=0,this.refCount=0,clearTimeout(this.timer),this.timer=0}}S.POST_INTERVAL=6e4;var E=[{isp:"Dishnet",place:"All India"},{isp:"Tata Communications",place:"All India"},{isp:"ICE Network",place:"Karnataka"},{isp:"NetX Communications",place:"Andhra Pradesh"},{isp:"Global One",place:"All India"},{isp:"ScrollNet Services",place:"Nagpur"},{isp:"Reliance Jio Infocomm",place:"All India"},{isp:"Conjoinix Technologies",place:"Chandigarh"},{isp:"Narmada Cyberzone",place:"Bharuch"},{isp:"Conjoinix Technologies",place:"Jammu"},{isp:"Immersoft Technologies",place:"Goa"},{isp:"Shyam Internet Services",place:"Rajasthan"},{isp:"G.L. Networks and Systems",place:"Srinagar"},{isp:"Karur Airnet",place:"Karur"},{isp:"Lalco",place:"Gangtok"},{isp:"Star Broadband Services",place:"Delhi"},{isp:"Vijaya comnet",place:"East Godavari"},{isp:"VSNL Broadband",place:"All India"},{isp:"Quick Online",place:"Ghaziabad"},{isp:"Virtela",place:"Bangalore"},{isp:"Vallabh Vidyanagar Internet Services",place:"Kheda"},{isp:"Virtela",place:"Gurgaon"},{isp:"Visolve Net",place:"Coimbatore"},{isp:"West Bengal Electronics Industry Development",place:"West Bengal"},{isp:"Touch Net",place:"Gurgaon"},{isp:"Sanyog Networks ",place:"Tripura"},{isp:"SwissFone Ventures",place:"Gurgaon"},{isp:"Orange Networks ",place:"Siliguri"},{isp:"M/s Pan India Network Infravest",place:"Mumbai"},{isp:"Nelco",place:"All India"},{isp:"Eronet Broadband Service ",place:"Erode"},{isp:"My Own Infotech ",place:"Surat"},{isp:"ISP Services ",place:"Trichy"},{isp:"Cyber Setu ",place:"Kalyan"},{isp:"Micro Knowledge & Edutech ",place:"Gurgaon"},{isp:"DCT Networks ",place:"All India"},{isp:"Tulip Telecom ",place:"All India"},{isp:"Symbios Creations ",place:"Dimapur"},{isp:"Emmsons Infotech ",place:"Haryana"},{isp:"Jet Broadband Internet ",place:"Cuddalore"},{isp:"Softeng Computers ",place:"All India"},{isp:"Rajdhani Telecom ",place:"Guwahati"},{isp:"Harisree Cablenet ",place:"Kannur"},{isp:"Tata Power Broadband Company ",place:""},{isp:"Nexus Online Solutions ",place:"Meerut"},{isp:"Om Shri Ganesh Telecom ",place:"Ghaziabad"},{isp:"Geocity Network Solutions ",place:"Delhi"},{isp:"U-Clix Infra ",place:"Rajasthan"},{isp:"Vasai Cable ",place:"Kalyan"},{isp:"Anar Fin Engineers ",place:"Surat"},{isp:"Divyadrishti Infotainment ",place:"Solan"},{isp:"Sawan Online Broadband ",place:"Panipat"},{isp:"Virtela",place:"Mumbai"},{isp:"Usha Netcoms ",place:"Jaipur"},{isp:"Nihar Internet Services ",place:"Ghaziabad"},{isp:"Srinagar Technologies Consultants ",place:"Srinagar"},{isp:"Apaksh Broadband",place:"Andhra Pradesh"},{isp:"Vishwa Shakti Technologies ",place:"Hyderabad"},{isp:"F/X Wireless Technology Solutions ",place:"Mumbai"},{isp:"Oasis Cable ",place:"Haridwar"},{isp:"Versatile Darjeeling Broadband ",place:"Darjeeling"},{isp:"World Wide Wireless",place:"Ludhiana"},{isp:"Gorantla Online ",place:"Rajahmundry"},{isp:"Spacenet Internet Services ",place:"Delhi"},{isp:"Bhiwani Communications ",place:"Rohtak"},{isp:"Kaizen Infonet ",place:"Surat"},{isp:"Adya Tech One Services ",place:"Ghaziabad"},{isp:"Netcom Online Solutions",place:"Tamilnadu"},{isp:"Advanced Financial Services ",place:"Hyderabad"},{isp:"Maple PC & Peripherals",place:"Jamshedpur"},{isp:"Frontline Corporation",place:"Solan"},{isp:"M/s Finecom Internet Services",place:"Tamilnadu"},{isp:"Maksat Technologies ",place:"Ghaziabad"},{isp:"Konark Infocomm ",place:"Ghaziabad"},{isp:"North East Data Network ",place:"Karnataka"},{isp:"Shri Vinayagaa Internet ",place:"Madurai"},{isp:"United Villages Networks ",place:"Cuttack"},{isp:"United Villages Networks ",place:"Bhuvaneshwar"},{isp:"Magnum International",place:"Delhi"},{isp:"IOL Telecom ",place:"All India"},{isp:"ICAN Solutions ",place:"Mumbai"},{isp:"Kappa Internet Services ",place:"Rajasthan"},{isp:"United Telecoms ",place:"Maharashtra"},{isp:"Netmagic Solutions ",place:"All India"},{isp:"Noida Software Technology Park ",place:"All India"},{isp:"Ortel Communications ",place:"All India"},{isp:"Phonic Net ",place:"Mumbai"},{isp:"Gujarat Telelink ",place:"Gujarat"},{isp:"Vainavi Industries ",place:"Andhra Pradesh"},{isp:"Cordia L T Communications ",place:"All India"},{isp:"Exatt Technologies ",place:"All India"},{isp:"IKF Technologies ",place:"All India"},{isp:"Opto Network ",place:"All India"},{isp:"AT&T Global Network Services ",place:"All India"},{isp:"Broadband Pacenet ",place:"All India"},{isp:"DEN Networks ",place:"All India"},{isp:"Limras Eronet Broadband Service ",place:"All India"},{isp:"Viva Communications ",place:"All India"},{isp:"Beam Telecom ",place:"Andhra Pradesh"},{isp:"Vcare Call Centers ",place:"Delhi"},{isp:"S&A Internet Services ",place:"All India"},{isp:"Del DSL Internet ",place:"Delhi"},{isp:"Syscon Infoway ",place:"Mumbai"},{isp:"Financial Technologies Communications",place:"All India"},{isp:"RI Networks ",place:"All India"},{isp:"Descon",place:"West Bengal"},{isp:"Capture Network Systems ",place:"Gujarat"},{isp:"Tatanet Services ",place:"All India"},{isp:"D-Vois Broadband ",place:"All India"},{isp:"Devas Multimedia ",place:"All India"},{isp:"Shivansh Infotech ",place:"U.P.(West)"},{isp:"RVR Infrastructures ",place:"Andhra Pradesh"},{isp:"Eurus Network Services ",place:"Delhi"},{isp:"Krishna Raghava Online ",place:"Andhra Pradesh"},{isp:"Softcell Technologies",place:"All India"},{isp:"Novanet ",place:"Mumbai"},{isp:"Citycom Networks ",place:"All India"},{isp:"Urban Communications Infrastructure ",place:"All India"},{isp:"Etisalat DB Telecom ",place:"All India"},{isp:"Zylog Systems ",place:"All India"},{isp:"Readylink Internet Services Covai ",place:"Tamilnadu"},{isp:"Atria Convergence Technologies ",place:"Bangalore"},{isp:"Verizon Communications ",place:"All India"},{isp:"O-Zone Networks ",place:"All India"},{isp:"Pan India Network Infravest ",place:"Maharashtra"},{isp:"Bell Teleservices ",place:"Karnataka"},{isp:"UCN Cable Network ",place:"Maharashtra"},{isp:"Wish Net ",place:"Kolkata"},{isp:"M/s Vellore Online Systems ",place:"Tamilnadu"},{isp:"Affinity Telecom ",place:"Delhi"},{isp:"M/s Equant Network Services ",place:"All India"},{isp:"Pipetel Communications ",place:"All India"},{isp:"Vodafone Spacetel ",place:"All India"},{isp:"Microscan Computers ",place:"Maharashtra"},{isp:"Syscon Infoway ",place:"Maharashtra"},{isp:"Idea Cellular ",place:"All India"},{isp:"Siliguri Internet & Cable TV ",place:"West Bengal"},{isp:"Get Network ",place:"Kolkata"},{isp:"Kaizen Infonet ",place:"Gujarat"},{isp:"Seans Media ",place:"Karnataka"},{isp:"Smartlink Broadband Services ",place:"Mumbai"},{isp:"Bharat Sanchar Nigam ",place:"All India"},{isp:"Microsense",place:"All India"},{isp:"Wan And Lan Internet",place:"Mumbai"},{isp:"Five Network Solution",place:"All India"},{isp:"Sisam Technologies",place:"All India"},{isp:"Home Systems ",place:"Mumbai"},{isp:"Dream Plus Multi Services ",place:"Bihar"},{isp:"ESDS Internet Services",place:"Maharashtra"},{isp:"Yashash Cable Network ",place:"Karnataka"},{isp:"Wish Net ",place:"West Bengal"},{isp:"Augere Wireless Broadband ",place:"All India"},{isp:"Bishagni Networks ",place:"Karnataka"},{isp:"Wall-Depot Telecom Services ",place:"West Bengal"},{isp:"Helios IT Infra Solutions ",place:"Karnataka"},{isp:"Oistel Telecom ",place:"Haryana"},{isp:"Vikram Teleinfra ",place:"Maharashtra"},{isp:"Shree Omkar Infocom ",place:"Mumbai"},{isp:"Anjnay Information Technology",place:"U.P. (West)"},{isp:"Bangalore Broadband Network ",place:"Karnataka"},{isp:"Apna Tele Link ",place:"Punjab"},{isp:"JPR Digital ",place:"Mumbai"},{isp:"Telstra Telecommunications ",place:"All India"},{isp:"3G Telecom Infra ",place:"Andhra Pradesh"},{isp:"Smart IT-Concepts",place:"All India"},{isp:"Canara Star Communications ",place:"Karnataka"},{isp:"Intermedia Cable Communication ",place:"Maharashtra"},{isp:"Digital Network Associates ",place:"Maharashtra"},{isp:"Airmesh Communications ",place:"All India"},{isp:"Bharti Airtel",place:"All India"},{isp:"Sikka Broadband ",place:"Uttar Pradesh (East)"},{isp:"Pioneer eLabs ",place:"All India"},{isp:"Airtel Broadband Services ",place:"All India"},{isp:"M.S. Info Web ",place:"Gujarat"},{isp:"M/s Nextra Teleservices ",place:"Delhi"},{isp:"ANI Network ",place:"Delhi"},{isp:"Mithril Telecommunications ",place:"Andhra Pradesh"},{isp:"Velocity Networks ",place:"All India"},{isp:"Manthan Broadband Services ",place:"Orissa"},{isp:"Home Cable Network ",place:"Delhi"},{isp:"Zye Telecom ",place:"Andhra Pradesh"},{isp:"MS Incognito Wireless ",place:"Gujarat"},{isp:"Vihaan Telecommunication ",place:"Gujarat"}];function k(e){return e.normalizedName=e.isp,e}function x(e){return e.normalizedName=e.normalizedName.replace(/\W/g," "),e}function C(e){return e.normalizedName=e.normalizedName.replace(/\s+/," ").trim().toLowerCase(),e}function A(e){return e.split(/\s+/).filter(e=>!!e)}const O={communications:"communication",telecommunications:"telecommunication",networks:"network",services:"service"};class R{constructor(e){this.parent=null,this.children={},this.name=e}addChildren(e){if(e in this.children)return this.children[e];const t=new R(e);return this.children[e]=t,t.parent=this,t}findNode(e){return this.children[e]}getChildren(){return Object.values(this.children)}toString(){return this.name}isLeaf(){return 0===Object.keys(this.children).length}isRoot(){return null===this.parent}}function P(){const e=E.map(k).map(x).map(C),t=new R("$");for(const n of e){const e=A(n.normalizedName);let r=t;for(let t=e.length-1;t>=0;t--){let i=e[t];i in O&&(i=O[i]),r=r.addChildren(i),0===t&&(r.data=n)}}return{matchAgainst:function(e){const[n]=[e].map(k).map(x).map(C),r=A(n.normalizedName);let i=t,a=null;for(let t=r.length-1;t>=0;t--){let e=r[t];e in O&&(e=O[e]);const n=i.findNode(e);n&&(i=n,(0===t||i.isLeaf())&&i.isLeaf()&&(a=i.data))}return a},getOwnIpInfo:async function(){return await o(a.Get,"https://pro.ip-api.com/json?key=4VTBqiRPQqR76WF",{headers:{}},[],[])},getSerializableIpInfo:function(e){return{as:e.as.substring(0,50),city:e.city,lat:e.lat,lon:e.lon,isp:e.isp.substring(0,30)}}}}},VYtm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n("q1tI"),o=(r=a)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,a,l;s(this,r);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];return a=l=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(d))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return o.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},o.default.createElement(e,i({},l.props,l.state)))},u(l,a)}return l(r,n),r}(o.default.Component)};t.default=c},VeD8:function(e,t,n){"use strict";var r=n("zLVn"),i=n("wx14"),a=n("JX7q"),o=n("dI71"),s=(n("17x9"),n("q1tI")),u=n.n(s),l=n("0PSK");function c(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)})),n}function d(e,t,n){return null!=n[t]?n[t]:e.props[t]}function f(e,t,n){var r=c(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];s[i[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var o=i[a];if(Object(s.isValidElement)(o)){var u=a in t,l=a in r,c=t[a],f=Object(s.isValidElement)(c)&&!c.props.in;!l||u&&!f?l||!u||f?l&&u&&Object(s.isValidElement)(c)&&(i[a]=Object(s.cloneElement)(o,{onExited:n.bind(null,o),in:c.props.in,exit:d(o,"exit",e),enter:d(o,"enter",e)})):i[a]=Object(s.cloneElement)(o,{in:!1}):i[a]=Object(s.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:d(o,"exit",e),enter:d(o,"enter",e)})}})),i}var h=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},p=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(a.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,c(n.children,(function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:d(e,"appear",n),enter:d(e,"enter",n),exit:d(e,"exit",n)})}))):f(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=c(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Object(r.a)(e,["component","childFactory"]),a=this.state.contextValue,o=h(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?u.a.createElement(l.a.Provider,{value:a},o):u.a.createElement(l.a.Provider,{value:a},u.a.createElement(t,i,o))},t}(u.a.Component);p.propTypes={},p.defaultProps={component:"div",childFactory:function(e){return e}};t.a=p},VkAN:function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.default=e.exports,e.exports.__esModule=!0},W2Be:function(e,t,n){"use strict";var r=n("/ceM"),i=Date.now(),a="fnValues"+i,o="fnStyle"+ ++i;t.a=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var i=Object(r.c)(e,{},n);return i[o]=t,i},onProcessStyle:function(e,t){if(a in t||o in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[a]=n,e},onUpdate:function(e,t,n,r){var i=t,s=i[o];s&&(i.style=s(e)||{});var u=i[a];if(u)for(var l in u)i.prop(l,u[l](e),r)}}}},W3HW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n("4qC0")),i=s(n("Ag8Z")),a=s(n("YO3V")),o=s(n("3WF5"));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,o.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,a.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=u},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},WGjm:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n("q1tI")),u=n("Nxm2"),l=o(n("75pU")),c={width:"auto",height:"auto"},d=l.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),f=l.default((function(e,t){return Math.round(e/t)*t})),h=l.default((function(e,t){return new RegExp(e,"i").test(t)})),p=l.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e})),m=l.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),g=l.default((function(e){return"auto"===(e=e.toString())||m(e,"px")||m(e,"%")||m(e,"vh")||m(e,"vw")||m(e,"vmax")||m(e,"vmin")?e:e+"px"})),v=function(e,t){if(e&&"string"===typeof e){if(m(e,"%"))return t*(n=Number(e.replace("%",""))/100);if(m(e,"vw")){var n=Number(e.replace("vw",""))/100;return window.innerWidth*n}if(m(e,"vh")){n=Number(e.replace("vh",""))/100;return window.innerHeight*n}}return e},y=l.default((function(e,t,n,r,i){return t=v(t,e.width),n=v(n,e.height),r=v(r,e.width),i=v(i,e.height),{maxWidth:"undefined"===typeof t?void 0:Number(t),maxHeight:"undefined"===typeof n?void 0:Number(n),minWidth:"undefined"===typeof r?void 0:Number(r),minHeight:"undefined"===typeof i?void 0:Number(i)}})),b=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],_=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:"undefined"===typeof(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:"undefined"===typeof(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return r(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||c},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var r=n[t];if(r instanceof HTMLElement&&r.classList.contains("__resizable_base__"))return r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!==typeof window&&this.resizable){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if("undefined"===typeof e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&m(e.propsSize[t].toString(),"%")){if(m(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return g(e.state[t])};return{width:t&&"undefined"!==typeof t.width&&!this.state.isResizing?g(t.width):n("width"),height:t&&"undefined"!==typeof t.height&&!this.state.isResizing?g(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var r={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,r},t.prototype.bindEvents=function(){"undefined"!==typeof window&&(window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseleave",this.onMouseUp),window.addEventListener("touchmove",this.onMouseMove),window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){"undefined"!==typeof window&&(window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable){var e=window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0});var t=this.parentNode;if(t instanceof HTMLElement&&!this.base){var n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.transform="scale(0, 0)",n.style.left="0",n.style.flex="0",n.classList?n.classList.add("__resizable_base__"):n.className+="__resizable_base__",t.appendChild(n)}}},t.prototype.componentWillUnmount=function(){if("undefined"!==typeof window){this.unbindEvents();var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement)||!(this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||"undefined"!==typeof n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),i=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<i?t:i}}else if("window"===this.props.bounds){if("undefined"!==typeof window){r=window.innerWidth-this.resizableLeft,i=window.innerHeight-this.resizableTop;e=e&&e<r?e:r,t=t&&t<i?t:i}}else if(this.props.bounds instanceof HTMLElement){r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),i=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<i?t:i}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,a=i.direction,o=i.original,s=this.props,u=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,c=s.lockAspectRatioExtraWidth,d=o.width,f=o.height,p=l||0,m=c||0;return h("right",a)&&(d=o.width+(e-o.x)*r/n,u&&(f=(d-m)/this.ratio+p)),h("left",a)&&(d=o.width-(e-o.x)*r/n,u&&(f=(d-m)/this.ratio+p)),h("bottom",a)&&(f=o.height+(t-o.y)*r/n,u&&(d=(f-p)*this.ratio+m)),h("top",a)&&(f=o.height-(t-o.y)*r/n,u&&(d=(f-p)*this.ratio+m)),{newWidth:d,newHeight:f}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,a=i.lockAspectRatio,o=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,u="undefined"===typeof r.width?10:r.width,l="undefined"===typeof n.width||n.width<0?e:n.width,c="undefined"===typeof r.height?10:r.height,f="undefined"===typeof n.height||n.height<0?t:n.height,h=o||0,p=s||0;if(a){var m=(c-h)*this.ratio+p,g=(f-h)*this.ratio+p,v=(u-p)/this.ratio+h,y=(l-p)/this.ratio+h,b=Math.max(u,m),_=Math.min(l,g),w=Math.max(c,v),T=Math.min(f,y);e=d(e,b,_),t=d(t,w,T)}else e=d(e,u,l),t=d(t,c,f);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,a=r.top;this.resizableLeft=i,this.resizableTop=a}},t.prototype.onResizeStart=function(e,t){if(this.resizable){var n,r=0,a=0;if(e.nativeEvent instanceof MouseEvent){if(r=e.nativeEvent.clientX,a=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(r=e.nativeEvent.touches[0].clientX,a=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&("undefined"!==typeof this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),"undefined"!==typeof this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"===typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var o=window.getComputedStyle(this.resizable);if("auto"!==o.flexBasis){var s=this.parentNode;if(s){var u=window.getComputedStyle(s).flexDirection;this.flexDir=u.startsWith("row")?"row":"column",n=o.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:r,y:a,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:i(i({},this.state.backgroundStyle),{cursor:window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,r=t.maxHeight,i=t.minWidth,a=t.minHeight,o=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,s=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,u=this.state,l=u.direction,c=u.original,d=u.width,h=u.height,g=this.getParentSize(),v=y(g,n,r,i,a);n=v.maxWidth,r=v.maxHeight,i=v.minWidth,a=v.minHeight;var b=this.calculateNewSizeFromDirection(o,s),_=b.newHeight,w=b.newWidth,T=this.calculateNewMaxFromBoundary(n,r),S=this.calculateNewSizeFromAspectRatio(w,_,{width:T.maxWidth,height:T.maxHeight},{width:i,height:a});if(w=S.newWidth,_=S.newHeight,this.props.grid){var E=f(w,this.props.grid[0]),k=f(_,this.props.grid[1]),x=this.props.snapGap||0;w=0===x||Math.abs(E-w)<=x?E:w,_=0===x||Math.abs(k-_)<=x?k:_}this.props.snap&&this.props.snap.x&&(w=p(w,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=p(_,this.props.snap.y,this.props.snapGap));var C={width:w-c.width,height:_-c.height};if(d&&"string"===typeof d)if(m(d,"%"))w=w/g.width*100+"%";else if(m(d,"vw")){w=w/window.innerWidth*100+"vw"}else if(m(d,"vh")){w=w/window.innerHeight*100+"vh"}if(h&&"string"===typeof h)if(m(h,"%"))_=_/g.height*100+"%";else if(m(h,"vw")){_=_/window.innerWidth*100+"vw"}else if(m(h,"vh")){_=_/window.innerHeight*100+"vh"}var A={width:this.createSizeForCssProperty(w,"width"),height:this.createSizeForCssProperty(_,"height")};"row"===this.flexDir?A.flexBasis=A.width:"column"===this.flexDir&&(A.flexBasis=A.height),this.setState(A),this.props.onResize&&this.props.onResize(e,l,this.resizable,C)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,a=t.original;if(n&&this.resizable){var o={width:this.size.width-a.width,height:this.size.height-a.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,o),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:i(i({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,i=t.handleClasses,a=t.handleWrapperStyle,o=t.handleWrapperClass,l=t.handleComponent;if(!n)return null;var c=Object.keys(n).map((function(t){return!1!==n[t]?s.createElement(u.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:i&&i[t]},l&&l[t]?l[t]:null):null}));return s.createElement("span",{className:o,style:a},c)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==b.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=i(i(i({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});return this.state.flexBasis&&(n.flexBasis=this.state.flexBasis),s.createElement("div",i({ref:this.ref,style:n,className:this.props.className},t),this.state.isResizing&&s.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(s.PureComponent);t.Resizable=_},WbBG:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},WkPL:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},XG87:function(e,t,n){(function(t){e.exports=function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){var n=t[o][1][e];return i(n||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=e("global/window"),o=(r=a)&&r.__esModule?r:{default:r},s=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null};n.default={updateAdCues:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(e.segments)for(var r=n,a=void 0,u=0;u<e.segments.length;u++){var l=e.segments[u];if(a||(a=s(t,r+l.duration/2)),a){if("cueIn"in l){a.endTime=r,a.adEndTime=r,r+=l.duration,a=null;continue}if(r<a.endTime){r+=l.duration;continue}a.endTime+=l.duration}else if("cueOut"in l&&((a=new o.default.VTTCue(r,r+l.duration,l.cueOut)).adStartTime=r,a.adEndTime=r+parseFloat(l.cueOut),t.addCue(a)),"cueOutCont"in l){var c=void 0,d=void 0,f=l.cueOutCont.split("/").map(parseFloat),h=i(f,2);c=h[0],d=h[1],(a=new o.default.VTTCue(r,r+l.duration,"")).adStartTime=r-c,a.adEndTime=a.adStartTime+d,t.addCue(a)}r+=l.duration}},findAdCue:s},t.exports=n.default},{"global/window":32}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){return e.start(t)+"-"+e.end(t)},i=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},a=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},o={hexDump:function(e){for(var t=Array.prototype.slice.call(e),n="",r=0;r<t.length/16;r++)n+=t.slice(16*r,16*r+16).map(i).join("")+" "+t.slice(16*r,16*r+16).map(a).join("")+"\n";return n},tagDump:function(e){return o.hexDump(e.bytes)},textRanges:function(e){var t="",n=void 0;for(n=0;n<e.length;n++)t+=r(e,n)+" ";return t},createTransferableMessage:function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];ArrayBuffer.isView(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r})),t},initSegmentId:function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}};n.default=o,t.exports=n.default},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},t.exports=n.default},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("global/window"),a=(r=i)&&r.__esModule?r:{default:r},o=e("aes-decrypter"),s=e("./bin-utils"),u=function(e){e.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),r=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),i=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new o.Decrypter(n,r,i,(function(e,n){a.default.postMessage((0,s.createTransferableMessage)({source:t.source,decrypted:n}),[n.buffer])}))}};n.default=function(e){return new u(e)},t.exports=n.default},{"./bin-utils":2,"aes-decrypter":25,"global/window":32}],5:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var a=i(e("./playlist-loader")),o=e("./playlist.js"),s=i(e("./segment-loader")),u=i(e("./vtt-segment-loader")),l=i(e("./ranges")),c=i("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),d=i(e("./ad-cue-tags")),f=i(e("./sync-controller")),h=e("videojs-contrib-media-sources/es5/codec-utils"),p=i(e("webwackify")),m=i(e("./decrypter-worker")),g=i(e("./config")),v=e("./util/codecs.js"),y=e("./media-groups"),b=void 0,_={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},w=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],T=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},S=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e){return(0,h.translateLegacyCodecs)([e])[0]}))};r.mapLegacyAvcCodecs_=S;var E=function(e,t,n){return e+"/"+t+'; codecs="'+n.filter((function(e){return!!e})).join(", ")+'"'},k=function(e,t){var n=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),r=function(e){var t=e.attributes||{};return t.CODECS?(0,v.parseCodecs)(t.CODECS):_}(t),i=t.attributes||{},a=!0,o=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&i.AUDIO){var s=e.mediaGroups.AUDIO[i.AUDIO];if(s)for(var u in o=!0,a=!1,s)if(!s[u].uri){a=!0;break}}o&&!r.audioProfile&&(c.default.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=_.audioProfile);var l={};r.videoCodec&&(l.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(l.audio="mp4a.40."+r.audioProfile);var d=E("audio",n,[l.audio]),f=E("video",n,[l.video]),h=E("video",n,[l.video,l.audio]);return o?!a&&l.video?[f,d]:[h,d]:l.video?[h]:[d]};r.mimeTypesForPlaylist_=k;var x=function(t){function r(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);var i=t.url,o=t.handleManifestRedirects,l=t.withCredentials,d=t.mode,h=t.tech,g=t.bandwidth,v=t.externHls,_=t.useCueTags,S=t.blacklistDuration,E=t.enableLowInitialPlaylist;if(!i)throw new Error("A non-empty playlist URL is required");b=v,this.tech_=h,this.hls_=h.hls,this.mode_=d,this.useCueTags_=_,this.blacklistDuration=S,this.enableLowInitialPlaylist=E,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:l,handleManifestRedirects:o,timeout:null},this.mediaTypes_=(0,y.createMediaTypes)(),this.mediaSource=new c.default.MediaSource({mode:d}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=c.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new f.default(t),this.segmentMetadataTrack_=h.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,p.default)(m.default,function(){var t=void 0;try{t=e.resolve("./decrypter-worker")}catch(n){}return t}());var k={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:g,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new a.default(i,this.hls_,this.requestOptions_),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new s.default(c.default.mergeOptions(k,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),t),this.audioSegmentLoader_=new s.default(c.default.mergeOptions(k,{loaderType:"audio"}),t),this.subtitleSegmentLoader_=new u.default(c.default.mergeOptions(k,{loaderType:"vtt"}),t),this.setupSegmentLoaderListeners_(),w.forEach((function(e){n[e+"_"]=T.bind(n,e)})),this.masterPlaylistLoader_.load()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),n(r,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*e.masterPlaylistLoader_.targetDuration*1e3;(0,o.isLowestEnabledRendition)(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),(0,y.setupMediaGroups)({segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,mode:e.mode_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(r){return c.default.log.warn("Failed to create SourceBuffers",r),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),e.trigger("selectedinitialmedia")})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var t=e.masterPlaylistLoader_.media();if(!t){var n=void 0;return e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,void e.masterPlaylistLoader_.media(e.initialMedia_)}e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||e.mainSegmentLoader_.load(),t.endList||function(){var t=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};e.duration()!==1/0?e.tech_.one("durationchange",(function n(){e.duration()===1/0?t():e.tech_.one("durationchange",n)})):t()}()})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*e.masterPlaylistLoader_.targetDuration*1e3;(0,o.isLowestEnabledRendition)(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var o in n.AUDIO[a])n.AUDIO[a][o].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),b.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),b.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist(),n=e.masterPlaylistLoader_.media(),r=e.tech_.buffered(),i=r.length?r.end(r.length-1)-e.tech_.currentTime():0,a=e.bufferLowWaterLine();(!n.endList||e.duration()<g.default.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<n.attributes.BANDWIDTH||i>=a)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("ended",(function(){e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)})),this.mainSegmentLoader_.on("reseteverything",(function(){e.tech_.trigger("hls-reset")})),this.mainSegmentLoader_.on("segmenttimemapping",(function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})})),this.audioSegmentLoader_.on("ended",(function(){e.onEndOfStream()}))}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var n=function(){var t=e.seekable();return t.length?c.default.browser.IE_VERSION&&"html5"===e.mode_&&0===e.tech_.readyState()?(e.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(t.end(0)),e.hasPlayed_=function(){return!0}})),{v:!1}):(e.trigger("firstplay"),void e.tech_.setCurrentTime(t.end(0))):{v:!1}}();if("object"===typeof n)return n.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return c.default.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();"undefined"!==typeof e&&"function"===typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=e&&this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var n=b.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=l.default.SAFE_TIME_DELTA;var a=i.end(i.length-1);return a-r<=l.default.SAFE_TIME_DELTA&&n-a<=l.default.SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(e,t){void 0===e&&(e={});var n,r=void 0;if(r=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!r){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(a){return this.trigger("error")}}var i=1===this.masterPlaylistLoader_.master.playlists.filter(o.isEnabled).length;return i?(c.default.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(i)):(r.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),n=this.selectPlaylist(),c.default.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(n))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=l.default.findRange(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length&&"flash"!==this.mode_?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:b.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==r&&0!==(e=b.Playlist.seekable(n,r)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(t=b.Playlist.seekable(n,r)).length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=c.default.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,n=b.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),i=function t(){e.mediaSource.duration=n,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};r.length>0&&(n=Math.max(n,r.end(r.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",i):i())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=k(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(e[0]),e[1]&&this.audioSegmentLoader_.mimeType(e[1]),this.excludeIncompatibleVariants_(t)}}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this.masterPlaylistLoader_.master,n=2,r=null,i=void 0;e.attributes.CODECS&&(i=(0,v.parseCodecs)(e.attributes.CODECS),r=i.videoCodec,n=i.codecCount),t.playlists.forEach((function(e){var t={codecCount:2,videoCodec:null};if(e.attributes.CODECS){var i=e.attributes.CODECS;t=(0,v.parseCodecs)(i),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+S(i)+'"')&&(e.excludeUntil=1/0)}t.codecCount!==n&&(e.excludeUntil=1/0),t.videoCodec!==r&&(e.excludeUntil=1/0)}))}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),d.default.updateAdCues(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=g.default.GOAL_BUFFER_LENGTH,n=g.default.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,g.default.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=g.default.BUFFER_LOW_WATER_LINE,n=g.default.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,g.default.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,r)}}]),r}(c.default.EventTarget);r.MasterPlaylistController=x}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./ad-cue-tags":1,"./config":3,"./decrypter-worker":4,"./media-groups":6,"./playlist-loader":9,"./playlist.js":11,"./ranges":12,"./segment-loader":16,"./sync-controller":18,"./util/codecs.js":19,"./vtt-segment-loader":20,"videojs-contrib-media-sources/es5/codec-utils":65,webwackify:76}],6:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=n("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),a=n(e("./playlist-loader")),o=function(){},s=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},u=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)};r.stopLoaders=u;var l=function(e,t){t.activePlaylistLoader=e,e.load()};r.startLoaders=l;var c=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,a=t.mediaTypes[e],o=a.activeTrack(),s=a.activeGroup(o),c=a.activePlaylistLoader;u(r,a),s&&(s.playlistLoader?(r.resyncLoader(),l(s.playlistLoader,a)):c&&i.resetEverything())}};r.onGroupChanged=c;var d=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,a=t.mediaTypes[e],o=a.activeTrack(),s=a.activeGroup(o),c=a.activePlaylistLoader;u(r,a),s&&(s.playlistLoader?c!==s.playlistLoader?(r.track&&r.track(o),r.resetEverything(),l(s.playlistLoader,a)):l(s.playlistLoader,a):i.resetEverything())}};r.onTrackChanged=d;var f={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e],a=t.blacklistCurrentPlaylist;u(n,r);var o=r.activeTrack(),s=r.activeGroup(),l=(s.filter((function(e){return e.default}))[0]||s[0]).id,c=r.tracks[l];if(o!==c){for(var d in i.default.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[d].enabled=r.tracks[d]===c;r.onTrackChanged()}else a({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];i.default.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),u(n,r);var a=r.activeTrack();a&&(a.mode="disabled"),r.onTrackChanged()}}};r.onError=f;var h={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();a.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&a.load()})),t.on("loadedplaylist",(function(){a.playlist(t.media(),i),r.paused()||a.load()})),t.on("error",f[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[e],o=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();a.playlist(e,i),a.track(o.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&a.load()})),t.on("loadedplaylist",(function(){a.playlist(t.media(),i),r.paused()||a.load()})),t.on("error",f[e](e,n))}};r.setupListeners=h;var p={AUDIO:function(e,t){var n=t.mode,r=t.hls,o=t.segmentLoaders[e],u=t.requestOptions,l=t.master.mediaGroups,c=t.mediaTypes[e],d=c.groups,p=c.tracks;for(var m in l[e]&&0!==Object.keys(l[e]).length&&"html5"===n||(l[e]={main:{default:{default:!0}}}),l[e])for(var g in d[m]||(d[m]=[]),l[e][m]){var v=l[e][m][g],y=void 0;if(y=v.resolvedUri?new a.default(v.resolvedUri,r,u):null,v=i.default.mergeOptions({id:g,playlistLoader:y},v),h[e](e,v.playlistLoader,t),d[m].push(v),"undefined"===typeof p[g]){var b=new i.default.AudioTrack({id:g,kind:s(v),enabled:!1,language:v.language,default:v.default,label:g});p[g]=b}}o.on("error",f[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.hls,o=t.segmentLoaders[e],s=t.requestOptions,u=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,d=l.tracks;for(var p in u[e])for(var m in c[p]||(c[p]=[]),u[e][p])if(!u[e][p][m].forced){var g=u[e][p][m];if(g=i.default.mergeOptions({id:m,playlistLoader:new a.default(g.resolvedUri,r,s)},g),h[e](e,g.playlistLoader,t),c[p].push(g),"undefined"===typeof d[m]){var v=n.addRemoteTextTrack({id:m,kind:"subtitles",enabled:!1,language:g.language,label:m},!1).track;d[m]=v}}o.on("error",f[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,a=t.mediaTypes[e],o=a.groups,s=a.tracks;for(var u in r[e])for(var l in o[u]||(o[u]=[]),r[e][u]){var c=r[e][u][l];if(c.instreamId.match(/CC\d/)&&(o[u].push(i.default.mergeOptions({id:l},c)),"undefined"===typeof s[l])){var d=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",enabled:!1,language:c.language,label:l},!1).track;s[l]=d}}}};r.initialize=p;var m=function(e,t){return function(n){var r=t.masterPlaylistLoader,i=t.mediaTypes[e].groups,a=r.media();if(!a)return null;var o=null;return a.attributes[e]&&(o=i[a.attributes[e]]),o=o||i.main,"undefined"===typeof n?o:null===n?null:o.filter((function(e){return e.id===n.id}))[0]||null}};r.activeGroup=m;var g={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode)return n[r];return null}}};r.activeTrack=g,r.setupMediaGroups=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){p[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,i=e.hls;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=m(n,e),t[n].activeTrack=g[n](n,e),t[n].onGroupChanged=c(n,e),t[n].onTrackChanged=d(n,e)}));var a=t.AUDIO.activeGroup(),o=(a.filter((function(e){return e.default}))[0]||a[0]).id;t.AUDIO.tracks[o].enabled=!0,t.AUDIO.onTrackChanged(),n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))}));var s=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};for(var u in r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",(function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[u])},r.createMediaTypes=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:o,activeTrack:o,onGroupChanged:o,onTrackChanged:o}})),e}}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./playlist-loader":9}],7:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i="undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null,a=(n=i)&&n.__esModule?n:{default:n},o=e("./bin-utils"),s={FAILURE:2,TIMEOUT:-101,ABORTED:-102};r.REQUEST_ERRORS=s;var u=function(e){var t={};return e.byterange&&(t.Range=function(e){var t;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t}(e.byterange)),t},l=function(e){e.forEach((function(e){e.abort()}))},c=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:s.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:s.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:s.FAILURE,xhr:t}:null},d=function(e,t,n){var r=[],i=0;return function(a,s){if(a&&(l(e),r.push(a)),(i+=1)===e.length){if(s.endOfAllRequests=Date.now(),r.length>0){var u=function(e){return e.reduce((function(e,t){return t.code>e.code?t:e}))}(r);return n(u,s)}return s.encryptedBytes?function(e,t,n){e.addEventListener("message",(function r(i){if(i.data.source===t.requestId){e.removeEventListener("message",r);var a=i.data.decrypted;return t.bytes=new Uint8Array(a.bytes,a.byteOffset,a.byteLength),n(null,t)}})),e.postMessage((0,o.createTransferableMessage)({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])}(t,s,n):n(null,s)}}},f=function(e,t){return function(n){return e.stats=a.default.mergeOptions(e.stats,function(e){var t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)}};r.mediaSegmentRequest=function(e,t,n,r,i,o){var h=[],p=d(h,n,o);if(r.key){var m=e(a.default.mergeOptions(t,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(e,t){return function(n,r){var i=r.response,a=c(n,r);if(a)return t(a,e);if(16!==i.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:s.FAILURE,xhr:r},e);var o=new DataView(i);return e.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),t(null,e)}}(r,p));h.push(m)}if(r.map&&!r.map.bytes){var g=e(a.default.mergeOptions(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:u(r.map)}),function(e,t){return function(n,r){var i=r.response,a=c(n,r);return a?t(a,e):0===i.byteLength?t({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:s.FAILURE,xhr:r},e):(e.map.bytes=new Uint8Array(r.response),t(null,e))}}(r,p));h.push(g)}var v=e(a.default.mergeOptions(t,{uri:r.resolvedUri,responseType:"arraybuffer",headers:u(r)}),function(e,t){return function(n,r){var i=r.response,a=c(n,r);return a?t(a,e):0===i.byteLength?t({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:s.FAILURE,xhr:r},e):(e.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(r),e.key?e.encryptedBytes=new Uint8Array(r.response):e.bytes=new Uint8Array(r.response),t(null,e))}}(r,p));return v.addEventListener("progress",f(r,i)),h.push(v),function(){return l(h)}}}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bin-utils":2}],8:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(e("global/window")),s=a(e("./ranges")),u=a("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),l=["seeking","seeked","pause","playing","error"],c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,t.debug&&(this.logger_=u.default.log.bind(u.default,"playback-watcher ->")),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},i=function(){return n.techWaiting_()},a=function(){return n.cancelTimer_()},s=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",s),this.tech_.on("waiting",i),this.tech_.on(l,a),this.tech_.on("canplay",r),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",s),n.tech_.off("waiting",i),n.tech_.off(l,a),n.tech_.off("canplay",r),n.checkCurrentTimeTimeout_&&o.default.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return i(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&o.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=o.default.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+s.default.SAFE_TIME_DELTA>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),n=this.tech_.currentTime(),r=void 0;return e&&this.afterSeekableWindow_(t,n)&&(r=t.end(t.length-1)),e&&this.beforeSeekableWindow_(t,n)&&(r=t.start(0)+s.default.SAFE_TIME_DELTA),"undefined"!==typeof r&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+s.default.printableRange(t)+". Seeking to "+r+"."),this.tech_.setCurrentTime(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=s.default.findRange(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),i=s.default.findNextRange(r,t);if(this.videoUnderflow_(i,r,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(i.length>0){var a=i.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+i.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+s.default.SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-s.default.SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var r=this.gapFromVideoUnderflow_(t,n);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=s.default.findNextRange(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+s.default.TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=s.default.findGaps(e),r=0;r<n.length;r++){var i=n.start(r),a=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:a}}return null}},{key:"logger_",value:function(){}}]),e}();r.default=c,n.exports=r.default}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./ranges":12,"global/window":32}],9:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var a=i(e("./resolve-url")),o="undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null,s=i(e("m3u8-parser")),u=i(e("global/window")),l=function(e,t,n){var r=t.slice();n=n||0;for(var i=Math.min(e.length,t.length+n),a=n;a<i;a++)r[a-n]=(0,o.mergeOptions)(e[a],r[a-n]);return r};r.updateSegments=l;var c=function(e,t){e.resolvedUri||(e.resolvedUri=(0,a.default)(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=(0,a.default)(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=(0,a.default)(t,e.map.uri))};r.resolveSegmentUris=c;var d=function(e,t){var n=(0,o.mergeOptions)(e,{}),r=n.playlists.filter((function(e){return e.uri===t.uri}))[0];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.mediaSequence===t.mediaSequence)return null;var i=(0,o.mergeOptions)(r,t);r.segments&&(i.segments=l(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),i.segments.forEach((function(e){c(e,i.resolvedUri)}));for(var a=0;a<n.playlists.length;a++)n.playlists[a].uri===t.uri&&(n.playlists[a]=i);return n.playlists[t.uri]=i,n};r.updateMaster=d;var f=function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];e.playlists[n.uri]=n,n.resolvedUri=(0,a.default)(e.uri,n.uri),n.attributes||(n.attributes={},o.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};r.setupMediaPlaylists=f;var h=function(e){["AUDIO","SUBTITLES"].forEach((function(t){for(var n in e.mediaGroups[t])for(var r in e.mediaGroups[t][n]){var i=e.mediaGroups[t][n][r];i.uri&&(i.resolvedUri=(0,a.default)(e.uri,i.uri))}}))};r.resolveMediaGroupUris=h;var p=function(e,t){var n=e.segments[e.segments.length-1];return t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)};r.refreshDelay=p;var m=function(e){function t(e,n,r){var i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),r=r||{},this.srcUrl=e,this.hls_=n,this.withCredentials=!!r.withCredentials,this.handleManifestRedirects=!!r.handleManifestRedirects,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:(0,a.default)(i.master.uri,i.media().uri),withCredentials:i.withCredentials},(function(e,t){if(i.request)return e?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)})))}))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"playlistRequestError",value:function(e,t,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this;this.request=null,this.state="HAVE_METADATA";var r=new s.default.Parser;r.push(e.responseText),r.end(),r.manifest.uri=t,r.manifest.attributes=r.manifest.attributes||{};var i=d(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration,i?(this.master=i,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(u.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=u.default.setTimeout((function(){n.trigger("mediaupdatetimeout")}),p(this.media(),!!i))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),u.default.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"===typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(r,i){if(t.request){if(e.resolvedUri=t.resolveManifestRedirect(e.resolvedUri,i),r)return t.playlistRequestError(t.request,e.uri,n);t.haveMetadata(i,e.uri),"HAVE_MASTER"===n?t.trigger("loadedmetadata"):t.trigger("mediachange")}}))}}},{key:"resolveManifestRedirect",value:function(e,t){return this.handleManifestRedirects&&t.responseURL&&e!==t.responseURL?t.responseURL:e}},{key:"pause",value:function(){this.stopRequest(),u.default.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;u.default.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=u.default.setTimeout((function(){return t.load()}),r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var r=new s.default.Parser;return r.push(n.responseText),r.end(),e.state="HAVE_MASTER",e.srcUrl=e.resolveManifestRedirect(e.srcUrl,n),r.manifest.uri=e.srcUrl,r.manifest.playlists?(e.master=r.manifest,f(e.master),h(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(r.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:u.default.location.href,playlists:[{uri:e.srcUrl,resolvedUri:e.srcUrl,attributes:{}}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.haveMetadata(n,e.srcUrl),e.trigger("loadedmetadata"))}}))}}]),t}(o.EventTarget);r.default=m}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./resolve-url":15,"global/window":32,"m3u8-parser":33}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e("./config")),a=r(e("./playlist")),o=e("./util/codecs.js"),s=function(e,t){var n;return e&&(n=window.getComputedStyle(e))?n[t]:""},u=function(e,t){var n=e.slice();e.sort((function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i}))},l=function(e,t){var n=void 0,r=void 0;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||window.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),n-(r=r||window.Number.MAX_VALUE)};n.comparePlaylistBandwidth=l,n.comparePlaylistResolution=function(e,t){var n=void 0,r=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||window.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),n===(r=r||window.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r};var c=function(e,t,n,r){var o=e.playlists.map((function(e){var t,n;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||window.Number.MAX_VALUE,width:t,height:n,playlist:e}}));u(o,(function(e,t){return e.bandwidth-t.bandwidth}));var s=(o=o.filter((function(e){return!a.default.isIncompatible(e.playlist)}))).filter((function(e){return a.default.isEnabled(e.playlist)}));s.length||(s=o.filter((function(e){return!a.default.isDisabled(e.playlist)})));var l=s.filter((function(e){return e.bandwidth*i.default.BANDWIDTH_VARIANCE<t})),c=l[l.length-1],d=l.filter((function(e){return e.bandwidth===c.bandwidth}))[0],f=l.filter((function(e){return e.width&&e.height}));u(f,(function(e,t){return e.width-t.width}));var h=f.filter((function(e){return e.width===n&&e.height===r}));c=h[h.length-1];var p=h.filter((function(e){return e.bandwidth===c.bandwidth}))[0],m=void 0,g=void 0,v=void 0;p||(g=(m=f.filter((function(e){return e.width>n||e.height>r}))).filter((function(e){return e.width===m[0].width&&e.height===m[0].height})),c=g[g.length-1],v=g.filter((function(e){return e.bandwidth===c.bandwidth}))[0]);var y=v||p||d||s[0]||o[0];return y?y.playlist:null};n.simpleSelector=c,n.lastBandwidthSelector=function(){return c(this.playlists.master,this.systemBandwidth,parseInt(s(this.tech_.el(),"width"),10),parseInt(s(this.tech_.el(),"height"),10))},n.movingAverageBandwidthSelector=function(e){var t=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return t<0&&(t=this.systemBandwidth),t=e*this.systemBandwidth+(1-e)*t,c(this.playlists.master,t,parseInt(s(this.tech_.el(),"width"),10),parseInt(s(this.tech_.el(),"height"),10))}},n.minRebufferMaxBandwidthSelector=function(e){var t=e.master,n=e.currentTime,r=e.bandwidth,i=e.duration,o=e.segmentDuration,s=e.timeUntilRebuffer,c=e.currentTimeline,d=e.syncController,f=t.playlists.filter((function(e){return!a.default.isIncompatible(e)})),h=f.filter(a.default.isEnabled);h.length||(h=f.filter((function(e){return!a.default.isDisabled(e)})));var p=h.filter(a.default.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var t=d.getSyncPoint(e,i,c,n)?1:2;return{playlist:e,rebufferingImpact:a.default.estimateSegmentRequestTime(o,r,e)*t-s}})),m=p.filter((function(e){return e.rebufferingImpact<=0}));return u(m,(function(e,t){return l(t.playlist,e.playlist)})),m.length?m[0]:(u(p,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),p[0]||null)},n.lowestBitrateCompatibleVariantSelector=function(){var e=this.playlists.master.playlists.filter(a.default.isEnabled);return u(e,(function(e,t){return l(e,t)})),e.filter((function(e){return(0,o.parseCodecs)(e.attributes.CODECS).videoCodec}))[0]||null}},{"./config":3,"./playlist":11,"./util/codecs.js":19}],11:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i="undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null,a=e("global/window"),o=(n=a)&&n.__esModule?n:{default:n},s=function(e,t,n){var r,i;return"undefined"===typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(r=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if("undefined"!==typeof i.start)return{result:i.start,precise:!0};if("undefined"!==typeof i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if("undefined"!==typeof(i=e.segments[r]).end)return{result:n+i.end,precise:!0};if(n+=i.duration,"undefined"!==typeof i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}}(e,t)).precise?r.result:(i=function(e,t){for(var n=0,r=void 0,i=t-e.mediaSequence;i<e.segments.length;i++){if("undefined"!==typeof(r=e.segments[i]).start)return{result:r.start-n,precise:!0};if(n+=r.duration,"undefined"!==typeof r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?i.result:r.result+n},u=function(e,t,n){if(!e)return 0;if("number"!==typeof n&&(n=0),"undefined"===typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return o.default.Infinity}return s(e,t,n)};r.duration=u;var l=function(e,t,n){var r=0;if(t>n){var i=[n,t];t=i[0],n=i[1]}if(t<0){for(var a=t;a<Math.min(0,n);a++)r+=e.targetDuration;t=0}for(a=t;a<n;a++)r+=e.segments[a].duration;return r};r.sumDurations=l;var c=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,n=e.segments[t].duration||e.targetDuration,r=n+2*e.targetDuration;t--&&!((n+=e.segments[t].duration)>=r););return Math.max(0,t)};r.safeLiveIndex=c;var d=function(e,t,n){if(!e||!e.segments)return null;if(e.endList)return u(e);if(null===t)return null;t=t||0;var r=n?c(e):e.segments.length;return s(e,e.mediaSequence+r,t)};r.playlistEnd=d;var f=function(e,t){var n=t||0,r=d(e,t,!0);return null===r?(0,i.createTimeRange)():(0,i.createTimeRange)(n,r)};r.seekable=f;var h=function(e){return e-Math.floor(e)===0},p=function(e,t){if(h(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,r=1;r<=n;r++){var i=Math.pow(10,r),a=t*i;if(h(a)||r===n)return(a+e)/i}},m=p.bind(null,1),g=p.bind(null,-1),v=function(e,t,n,r){var i=void 0,a=void 0,o=e.segments.length,s=t-r;if(s<0){if(n>0)for(i=n-1;i>=0;i--)if(a=e.segments[i],(s+=g(a.duration))>0)return{mediaIndex:i,startTime:r-l(e,n,i)};return{mediaIndex:0,startTime:t}}if(n<0){for(i=n;i<0;i++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(i=n;i<o;i++)if(a=e.segments[i],(s-=m(a.duration))<0)return{mediaIndex:i,startTime:r+l(e,n,i)};return{mediaIndex:o-1,startTime:t}};r.getMediaInfoForTime=v;var y=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()};r.isBlacklisted=y;var b=function(e){return e.excludeUntil&&e.excludeUntil===1/0};r.isIncompatible=b;var _=function(e){var t=y(e);return!e.disabled&&!t};r.isEnabled=_;var w=function(e){return e.disabled};r.isDisabled=w;var T=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1};r.isAes=T;var S=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1};r.isFmp4=S;var E=function(e,t){return t.attributes&&t.attributes[e]};r.hasAttribute=E;var k=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!E("BANDWIDTH",n))return NaN;var i=e*n.attributes.BANDWIDTH;return(i-8*r)/t};r.estimateSegmentRequestTime=k;var x=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!_(e)&&(e.attributes.BANDWIDTH||0)<n})).length};r.isLowestEnabledRendition=x,r.default={duration:u,seekable:f,safeLiveIndex:c,getMediaInfoForTime:v,isEnabled:_,isDisabled:w,isBlacklisted:y,isIncompatible:b,playlistEnd:d,isAes:T,isFmp4:S,hasAttribute:E,estimateSegmentRequestTime:k,isLowestEnabledRendition:x}}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"global/window":32}],12:[function(e,n,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a="undefined"!==typeof window?window.videojs:"undefined"!==typeof e?e.videojs:null,o=(t=a)&&t.__esModule?t:{default:t},s=function(e,t){var n=i(t,2),r=n[0],a=n[1];return Math.min(Math.max(r,e),a)},u=function(e,t){var n=[],r=void 0;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return o.default.createTimeRanges(n)},l=function(e,t){var n=null,r=null,i=0,a=[],s=[];if(!e||!e.length||!t||!t.length)return o.default.createTimeRange();for(var u=e.length;u--;)a.push({time:e.start(u),type:"start"}),a.push({time:e.end(u),type:"end"});for(u=t.length;u--;)a.push({time:t.start(u),type:"start"}),a.push({time:t.end(u),type:"end"});for(a.sort((function(e,t){return e.time-t.time})),u=0;u<a.length;u++)"start"===a[u].type?2===++i&&(n=a[u].time):"end"===a[u].type&&1===--i&&(r=a[u].time),null!==n&&null!==r&&(s.push([n,r]),n=null,r=null);return o.default.createTimeRanges(s)};r.default={findRange:function(e,t){return u(e,(function(e,n){return e-1/30<=t&&n+1/30>=t}))},findNextRange:function(e,t){return u(e,(function(e){return e-1/30>=t}))},findGaps:function(e){if(e.length<2)return o.default.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return o.default.createTimeRanges(t)},findSoleUncommonTimeRangesEnd:function(e,t){var n=void 0,r=void 0,i=void 0,a=[],o=[],s=function(e){return e[0]<=i&&e[1]>=i};if(e)for(n=0;n<e.length;n++)r=e.start(n),i=e.end(n),o.push([r,i]);if(t)for(n=0;n<t.length;n++)r=t.start(n),i=t.end(n),o.some(s)||a.push(i);return 1!==a.length?null:a[0]},getSegmentBufferedPercent:function(e,t,n,r){var i=e+t,a=o.default.createTimeRanges([[e,i]]),u=o.default.createTimeRanges([[s(e,[n,i]),i]]);if(u.start(0)===u.end(0))return 0;var c=function(e,t,n,r){for(var i=t.end(0)-t.start(0),a=i-(e.end(0)-e.start(0)),o=l(e,r),s=l(t,r),u=0,c=0,d=o.length;d--;)u+=o.end(d)-o.start(d),o.start(d)===n&&(u+=a);for(d=s.length;d--;)c+=s.end(d)-s.start(d);return Math.max(u,c)/i*100}(u,a,n,r);return isNaN(c)||c===1/0||c===-1/0?0:c},TIME_FUDGE_FACTOR:1/30,SAFE_TIME_DELTA:.1,printableRange:function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},timeUntilRebuffer:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],r=e.length?e.end(e.length-1):0;return(r-t)/n}},n.exports=r.default}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],13:[function(e,n,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t,i="undefined"!==typeof window?window.videojs:"undefined"!==typeof e?e.videojs:null,a=(t=i)&&t.__esModule?t:{default:t},o={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}};r.default=function(e){!function e(t,n){var r=0,i=0,s=a.default.mergeOptions(o,n);t.ready((function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var u=function(){i&&t.currentTime(i)},l=function(e){null!==e&&void 0!==e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",u),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},c=function(){if(Date.now()-r<1e3*s.errorInterval)t.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"===typeof s.getSource)return r=Date.now(),s.getSource.call(t,l);a.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},d=function e(){t.off("loadedmetadata",u),t.off("error",c),t.off("dispose",e)};t.on("error",c),t.on("dispose",d),t.reloadSourceOnError=function(n){d(),e(t,n)}}(this,e)},n.exports=r.default}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./playlist.js"),i=function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a,o,s,u=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION;this.width=l.width,this.height=l.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=i,this.enabled=(a=t.playlists,o=n.uri,s=u,function(e){var t=a.master.playlists[o],n=(0,r.isIncompatible)(t),i=(0,r.isEnabled)(t);return"undefined"===typeof e?i:(e?delete t.disabled:t.disabled=!0,e===i||n||(s(),e?a.trigger("renditionenabled"):a.trigger("renditiondisabled")),e)})};n.default=function(e){var t=e.playlists;e.representations=function(){return t.master.playlists.filter((function(e){return!(0,r.isIncompatible)(e)})).map((function(t,n){return new i(e,t,t.uri)}))}},t.exports=n.default},{"./playlist.js":11}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e("url-toolkit")),a=r(e("global/window"));n.default=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=i.default.buildAbsoluteURL(a.default.location.href,e)),i.default.buildAbsoluteURL(e,t))},t.exports=n.default},{"global/window":32,"url-toolkit":63}],16:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}};function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=a(e("./playlist")),u=a("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),l=a(e("./source-updater")),c=a(e("./config")),d=a(e("global/window")),f=a(e("videojs-contrib-media-sources/es5/remove-cues-from-track.js")),h=e("./bin-utils"),p=e("./media-segment-request"),m=e("./ranges"),g=e("./playlist-selectors"),v=function(e,t,n){if(!e||!t)return!1;var r=n===e.segments.length;return e.endList&&"open"===t.readyState&&r},y=function(e){return"number"===typeof e&&isFinite(e)},b=function(e,t,n){return"main"===e&&t&&n?n.containsAudio||n.containsVideo?t.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};r.illegalMediaSwitch=b;var _=function(e,t,n){var r=void 0;return r=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(r,t-n)};r.safeBackBufferTrimTime=_;var w=function(e){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),!e)throw new TypeError("Initialization settings are required");if("function"!==typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.hls_=e.hls,this.loaderType_=e.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",(function(){return n.trigger("syncinfoupdate")})),this.mediaSource_.addEventListener("sourceopen",(function(){return n.ended_=!1})),this.fetchAtBuffer_=!1,r.debug&&(this.logger_=u.default.log.bind(u.default,"segment-loader",this.loaderType_,"->"))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return"undefined"!==typeof e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():u.default.createTimeRanges()}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var n=(0,h.initSegmentId)(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes}),r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new l.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e){var n=this.playlist_,r=this.pendingSegment_;if(this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===e.uri){var i=e.mediaSequence-n.mediaSequence;this.logger_("mediaSequenceDiff",i),null!==this.mediaIndex&&(this.mediaIndex-=i),r&&(r.mediaIndex-=i,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(d.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e){this.mimeType_||(this.mimeType_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t){this.sourceUpdater_&&this.sourceUpdater_.remove(e,t),(0,f.default)(e,t,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&d.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=d.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&d.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=d.default.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(v(this.playlist_,this.mediaSource_,e.mediaIndex)?this.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment),this.loadSegment_(e)))}}},{key:"checkBuffer_",value:function(e,t,n,r,i,a){var o=0,u=void 0;e.length&&(o=e.end(e.length-1));var l,c=Math.max(0,o-i);if(!t.segments.length)return null;if(c>=this.goalBufferLength_())return null;if(!r&&c>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",r,"currentTime:",i,"syncPoint:",a,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",c),null===a)return n=this.getSyncSegmentCandidate_(t),this.logger_("getSync","mediaIndex:",n),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){this.logger_("walkForward","mediaIndex:",n+1);var d=t.segments[n];return u=d&&d.end?d.end:o,this.generateSegmentInfo_(t,n+1,u,!1)}return this.fetchAtBuffer_?(n=(l=s.default.getMediaInfoForTime(t,o,a.segmentIndex,a.time)).mediaIndex,u=l.startTime):(n=(l=s.default.getMediaInfoForTime(t,i,a.segmentIndex,a.time)).mediaIndex,u=l.startTime),this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",u),this.generateSegmentInfo_(t,n,u,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map((function(e,t){return{timeline:e.timeline,segmentIndex:t}})).filter((function(e){return e.timeline===t.currentTimeline_}));return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,r){if(t<0||t>=e.segments.length)return null;var i=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:i.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:i.timeline,duration:i.duration,segment:i}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=s.default.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),a=(0,m.timeUntilRebuffer)(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(i<=a)return!1;var o=(0,g.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var u=i-a-o.rebufferingImpact,l=.5;return a<=m.TIME_FUDGE_FACTOR&&(l=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||u<l)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*c.default.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=(0,p.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=_(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var r=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key={resolvedUri:t.key.resolvedUri,iv:r}}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===p.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===p.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,n=t.segment,r=this.syncController_.probeSegmentInfo(t);"undefined"===typeof this.startingMedia_&&r&&(r.containsAudio||r.containsVideo)&&(this.startingMedia_={containsAudio:r.containsAudio,containsVideo:r.containsVideo});var i=b(this.loaderType_,this.startingMedia_,r);if(i)return this.error({message:i,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var a=this.syncController_.mappingForTimeline(t.timeline);null!==a&&this.trigger({type:"segmenttimemapping",mapping:a}),this.state="APPENDING",n.map&&function(){var t=(0,h.initSegmentId)(n.map);if(!e.activeInitSegmentId_||e.activeInitSegmentId_!==t){var r=e.initSegment(n.map);e.sourceUpdater_.appendBuffer(r.bytes,(function(){e.activeInitSegmentId_=t}))}}(),t.byteLength=t.bytes.byteLength,"number"===typeof n.start&&"number"===typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),v(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(y(n)&&y(r)){(0,f.default)(n,r,this.segmentMetadataTrack_);var i=d.default.WebKitDataCue||d.default.VTTCue,a={bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:r},o=new i(n,r,JSON.stringify(a));o.value=a,this.segmentMetadataTrack_.addCue(o)}}}}]),t}(u.default.EventTarget);r.default=w}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bin-utils":2,"./config":3,"./media-segment-request":7,"./playlist":11,"./playlist-selectors":10,"./ranges":12,"./source-updater":17,"global/window":32,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],17:[function(e,n,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="undefined"!==typeof window?window.videojs:"undefined"!==typeof e?e.videojs:null,o=(t=a)&&t.__esModule?t:{default:t},s=function(){},u=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(){r.sourceBuffer_=t.addSourceBuffer(n),r.onUpdateendCallback_=function(){var e=r.pendingCallback_;r.pendingCallback_=null,e&&e(),r.runCallback_()},r.sourceBuffer_.addEventListener("updateend",r.onUpdateendCallback_),r.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,"closed"===t.readyState?t.addEventListener("sourceopen",i):i()}return i(e,[{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_((function(){t.sourceBuffer_.abort()}),e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_((function(){n.sourceBuffer_.appendBuffer(e)}),t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:o.default.createTimeRanges()}},{key:"remove",value:function(e,t){var n=this;this.processedAppend_&&this.queueCallback_((function(){n.sourceBuffer_.remove(e,t)}),s)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return"undefined"!==typeof e&&(this.queueCallback_((function(){t.sourceBuffer_.timestampOffset=e})),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),e}();r.default=u,n.exports=r.default}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],18:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}};function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=a(e("mux.js/lib/mp4/probe")),u=e("mux.js/lib/tools/ts-inspector.js"),l=e("./playlist"),c=a("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),d=[{name:"VOD",run:function(e,t,n,r,i){return n!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){return e.datetimeToDisplayTime&&t.dateTimeObject?{time:t.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,segmentIndex:0}:null}},{name:"Segment",run:function(e,t,n,r,i){var a=t.segments||[],o=null,s=null;i=i||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.timeline===r&&"undefined"!==typeof l.start){var c=Math.abs(i-l.start);if(null!==s&&s<c)break;(!o||null===s||s>=c)&&(s=c,o={time:l.start,segmentIndex:u})}}return o}},{name:"Discontinuity",run:function(e,t,n,r,i){var a=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var o=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,c=e.discontinuities[l];if(c){var d=Math.abs(i-c.time);if(null!==o&&o<d)break;(!a||null===o||o>=d)&&(o=d,a={time:c.time,segmentIndex:u})}}return a}},{name:"Playlist",run:function(e,t,n,r,i){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}];r.syncPointStrategies=d;var f=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,e.debug&&(this.logger_=c.default.log.bind(c.default,"sync-controller ->"))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"getSyncPoint",value:function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+(0,l.sumDurations)(e,r.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,r){for(var i=[],a=0;a<d.length;a++){var o=d[a],s=o.run(this,e,t,n,r);s&&(s.strategy=o.name,i.push({strategy:o.name,syncPoint:s}),this.logger_("syncPoint found via <"+o.name+">:",s))}return i}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,a=1;a<e.length;a++){var o=Math.abs(e[a].syncPoint[t.key]-t.value);o<r&&(r=o,n=e[a].syncPoint,i=e[a].strategy)}return this.logger_("syncPoint with strategy <"+i+"> chosen: ",n),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence-1;n>=0;n--){var r=e.segments[n];if(r&&"undefined"!==typeof r.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:r.start},this.logger_("playlist sync:",t.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.dateTimeObject){var t=e.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=e.playlist,r=void 0;return(r=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,r)&&(this.saveDiscontinuitySyncInfo_(e),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:t.start})),r}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=s.default.timescale(t.map.bytes),r=s.default.startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=r),{start:r,end:r+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=(0,u.inspect)(e.bytes,this.inspectCache_),n=void 0,r=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,r=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,r=t.audio[1].dtsTime),{start:n,end:r,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"===typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"===typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,r=this.timelines[e.timeline];if(null!==e.timestampOffset)this.logger_("tsO:",e.timestampOffset),r={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=r,this.trigger("timestampoffset"),n.start=e.startOfSegment,n.end=t.end+r.mapping;else{if(!r)return!1;n.start=t.start+r.mapping,n.end=t.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],a=t.discontinuitySequence+r+1,o=i-e.mediaIndex,s=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>s){var u=void 0;u=o<0?n.start-(0,l.sumDurations)(t,e.mediaIndex,i):n.end+(0,l.sumDurations)(t,e.mediaIndex+1,i),this.discontinuities[a]={time:u,accuracy:s}}}}},{key:"logger_",value:function(){}}]),t}(c.default.EventTarget);r.default=f}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./playlist":11,"mux.js/lib/mp4/probe":57,"mux.js/lib/tools/ts-inspector.js":59}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseCodecs=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t={codecCount:0},n=void 0;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,(n=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(e))&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t}},{}],20:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=o(e("./segment-loader")),l=o("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),c=o(e("global/window")),d=o(e("videojs-contrib-media-sources/es5/remove-cues-from-track.js")),f=e("./bin-utils"),h=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),p=function(e){return String.fromCharCode.apply(null,e)},m=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];s(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.mediaSource_=null,this.subtitlesTrack_=null}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return l.default.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return l.default.createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var n=(0,f.initSegmentId)(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=h.byteLength+e.bytes.byteLength,a=new Uint8Array(i);a.set(e.bytes),a.set(h,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return"undefined"===typeof e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){(0,d.default)(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!==typeof c.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=function(){var t=function(){e.handleSegment_()};return e.state="WAITING_ON_VTTJS",e.subtitlesTrack_.tech_.one("vttjsloaded",t),e.subtitlesTrack_.tech_.one("vttjserror",(function(){e.subtitlesTrack_.tech_.off("vttjsloaded",t),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")})),{v:void 0}}();if("object"===typeof r)return r.v}n.requested=!0;try{this.parseVTTCues_(t)}catch(i){return this.error({message:i.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach((function(t){e.subtitlesTrack_.addCue(t)})),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"===typeof c.default.TextDecoder?t=new c.default.TextDecoder("utf8"):(t=c.default.WebVTT.StringDecoder(),n=!0);var r=new c.default.WebVTT.Parser(c.default,c.default.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){return e.timestampmap=t},r.onparsingerror=function(e){l.default.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var i=e.segment.map.bytes;n&&(i=p(i)),r.parse(i)}var a=e.bytes;n&&(a=p(a)),r.parse(a),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var r=e.segment;if(t)if(e.cues.length){var i=e.timestampmap,a=i.MPEGTS/9e4-i.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=a,e.endTime+=a})),!n.syncInfo){var o=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(o,s-r.duration)}}}else r.empty=!0}}]),t}(u.default);r.default=m,n.exports=r.default}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bin-utils":2,"./segment-loader":16,"global/window":32,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],21:[function(e,n,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t,i="undefined"!==typeof window?window.videojs:"undefined"!==typeof e?e.videojs:null,a=(t=i)&&t.__esModule?t:{default:t};r.default=function(){return function e(t,n){t=(0,i.mergeOptions)({timeout:45e3},t);var r=e.beforeRequest||a.default.Hls.xhr.beforeRequest;if(r&&"function"===typeof r){var o=r(t);o&&(t=o)}var s=(0,i.xhr)(t,(function(e,t){var r=s.response;!e&&r&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=r.byteLength||r.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),e&&"ETIMEDOUT"===e.code&&(s.timedout=!0),e||s.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(s&&(r||s.responseText)))),n(e,s)})),u=s.abort;return s.abort=function(){return s.aborted=!0,u.apply(s,arguments)},s.uri=t.uri,s.requestTime=Date.now(),s}},n.exports=r.default}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=null,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i||(i=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],i=n[4],a=void 0,o=void 0,s=void 0,u=[],l=[],c=void 0,d=void 0,f=void 0,h=void 0,p=void 0;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(o=s=0;!r[o];o^=c||1,s=l[s]||1)for(f=(f=s^s<<1^s<<2^s<<3^s<<4)>>8^255&f^99,r[o]=f,i[f]=o,p=16843009*u[d=u[c=u[o]]]^65537*d^257*c^16843008*o,h=257*u[f]^16843008*f,a=0;a<4;a++)t[a][o]=h=h<<24^h>>>8,n[a][f]=p=p<<24^p>>>8;for(a=0;a<5;a++)t[a]=t[a].slice(0),n[a]=n[a].slice(0);return e}()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];var n=void 0,r=void 0,a=void 0,o=void 0,s=void 0,u=this._tables[0][4],l=this._tables[1],c=t.length,d=1;if(4!==c&&6!==c&&8!==c)throw new Error("Invalid aes key size");for(o=t.slice(0),s=[],this._key=[o,s],n=c;n<4*c+28;n++)a=o[n-1],(n%c===0||8===c&&n%c===4)&&(a=u[a>>>24]<<24^u[a>>16&255]<<16^u[a>>8&255]<<8^u[255&a],n%c===0&&(a=a<<8^a>>>24^d<<24,d=d<<1^283*(d>>7))),o[n]=o[n-c]^a;for(r=0;n;r++,n--)a=o[3&r?n:n-4],s[r]=n<=4||r<4?a:l[0][u[a>>>24]]^l[1][u[a>>16&255]]^l[2][u[a>>8&255]]^l[3][u[255&a]]}return r(e,[{key:"decrypt",value:function(e,t,n,r,i,a){var o=this._key[1],s=e^o[0],u=r^o[1],l=n^o[2],c=t^o[3],d=void 0,f=void 0,h=void 0,p=o.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],w=v[3],T=v[4];for(m=0;m<p;m++)d=y[s>>>24]^b[u>>16&255]^_[l>>8&255]^w[255&c]^o[g],f=y[u>>>24]^b[l>>16&255]^_[c>>8&255]^w[255&s]^o[g+1],h=y[l>>>24]^b[c>>16&255]^_[s>>8&255]^w[255&u]^o[g+2],c=y[c>>>24]^b[s>>16&255]^_[u>>8&255]^w[255&l]^o[g+3],g+=4,s=d,u=f,l=h;for(m=0;m<4;m++)i[(3&-m)+a]=T[s>>>24]<<24^T[u>>16&255]<<16^T[l>>8&255]<<8^T[255&c]^o[g++],d=s,s=u,u=l,l=c,c=d}}]),e}();n.default=a,t.exports=n.default},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("./stream"),o=(r=a)&&r.__esModule?r:{default:r},s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,o.default),this.jobs=[],this.delay=1,this.timeout_=null}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}(o.default);n.default=s,t.exports=n.default},{"./stream":26}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var a=i(e("./aes")),o=i(e("./async-stream")),s=e("pkcs7"),u=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},l=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new a.default(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),s=new Int32Array(o.buffer),l=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,m=void 0,g=void 0,v=void 0;for(l=n[0],c=n[1],d=n[2],f=n[3],v=0;v<r.length;v+=4)h=u(r[v]),p=u(r[v+1]),m=u(r[v+2]),g=u(r[v+3]),i.decrypt(h,p,m,g,s,v),s[v]=u(s[v]^l),s[v+1]=u(s[v+1]^c),s[v+2]=u(s[v+2]^d),s[v+3]=u(s[v+3]^f),l=h,c=p,d=m,f=g;return o};n.decrypt=l;var c=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=e.STEP,l=new Int32Array(t.buffer),c=new Uint8Array(t.byteLength),d=0;for(this.asyncStream_=new o.default,this.asyncStream_.push(this.decryptChunk_(l.subarray(d,d+a),n,r,c)),d=a;d<l.length;d+=a)r=new Uint32Array([u(l[d-4]),u(l[d-3]),u(l[d-2]),u(l[d-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(d,d+a),n,r,c));this.asyncStream_.push((function(){i(null,(0,s.unpad)(c))}))}return r(e,[{key:"decryptChunk_",value:function(e,t,n,r){return function(){var i=l(e,t,n);r.set(i,e.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),e}();n.Decrypter=c,n.default={Decrypter:c,decrypt:l}},{"./aes":22,"./async-stream":23,pkcs7:28}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("./decrypter"),a=e("./async-stream"),o=(r=a)&&r.__esModule?r:{default:r};n.default={decrypt:i.decrypt,Decrypter:i.Decrypter,AsyncStream:o.default},t.exports=n.default},{"./async-stream":23,"./decrypter":24}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={}}return r(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n;return!!this.listeners[e]&&(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),n>-1)}},{key:"trigger",value:function(e){var t=void 0,n=void 0,r=void 0,i=void 0;if(t=this.listeners[e])if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",(function(t){e.push(t)}))}}]),e}();n.default=i,t.exports=n.default},{}],27:[function(e,t,n){"use strict";var r;t.exports=function(e){var t=r[e.byteLength%16||0],n=new Uint8Array(e.byteLength+t.length);return n.set(e),n.set(t,e.byteLength),n},r=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],28:[function(e,t,n){"use strict";n.pad=e("./pad.js"),n.unpad=e("./unpad.js")},{"./pad.js":27,"./unpad.js":29}],29:[function(e,t,n){"use strict";t.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}],30:[function(e,t,n){},{}],31:[function(e,n,r){(function(t){var r,i="undefined"!==typeof t?t:"undefined"!==typeof window?window:{},a=e("min-document");"undefined"!==typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=a),n.exports=r}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"min-document":30}],32:[function(e,n,r){(function(e){var t;t="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},n.exports=t}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],33:[function(e,t,n){"use strict";var r=o(e("./line-stream")),i=o(e("./parse-stream")),a=o(e("./parser"));function o(e){return e&&e.__esModule?e:{default:e}}t.exports={LineStream:r.default,ParseStream:i.default,Parser:a.default}},{"./line-stream":34,"./parse-stream":35,"./parser":36}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("./stream"),o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buffer="",e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);n.default=o},{"./stream":37}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./stream"),s=(r=o)&&r.__esModule?r:{default:r},u=function(e){for(var t=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},r=t.length,i=void 0;r--;)""!==t[r]&&((i=/([^=]*)=(.*)/.exec(t[r]).slice(1))[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),n[i[0]]=i[1]);return n},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"push",value:function(e){var t=void 0,n=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===e[0])if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var r=u(t[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var a=r.BYTERANGE.split("@"),o=i(a,2),s=o[0],l=o[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),l&&(n.byterange.offset=parseInt(l,10))}}this.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=u(t[1]),n.attributes.RESOLUTION){var c=n.attributes.RESOLUTION.split("x"),d={};c[0]&&(d.width=parseInt(c[0],10)),c[1]&&(d.height=parseInt(c[1],10)),n.attributes.RESOLUTION=d}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=u(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=u(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)});else this.trigger("data",{type:"uri",uri:e})}}]),t}(s.default);n.default=l},{"./stream":37}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(e("./stream")),o=u(e("./line-stream")),s=u(e("./parse-stream"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new o.default,e.parseStream=new s.default,e.lineStream.pipe(e.parseStream);var n=e,i=[],a={},u=void 0,l=void 0,c=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",(function(e){var t=void 0,o=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(a.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){e.attributes?"NONE"!==e.attributes.METHOD?e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},"undefined"!==typeof e.attributes.IV&&(l.iv=e.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):l=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,f=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){u={},e.uri&&(u.uri=e.uri),e.byterange&&(u.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||d,e.attributes?(a.attributes||(a.attributes={}),r(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(o={default:/yes/i.test(e.attributes.DEFAULT)}).default?o.autoselect=!0:o.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(o.language=e.attributes.LANGUAGE),e.attributes.URI&&(o.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(o.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(o.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(o.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=o}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){f+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data}}[e.tagType]||c).call(n)},uri:function(){a.uri=e.uri,i.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=f,u&&(a.map=u),a={}},comment:function(){}})[e.type].call(n)})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),t}(a.default);n.default=l},{"./line-stream":34,"./parse-stream":35,"./stream":37}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={}}return r(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1}},{key:"trigger",value:function(e){var t=this.listeners[e],n=void 0,r=void 0,i=void 0;if(t)if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",(function(t){e.push(t)}))}}]),e}();n.default=i},{}],38:[function(e,t,n){"use strict";var r,i=e("../utils/stream.js");(r=function(){var e=new Uint8Array,t=0;r.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},this.push=function(n){var r,i,a,o,s=0,u=0;for(e.length?(o=e.length,(e=new Uint8Array(n.byteLength+o)).set(e.subarray(0,o)),e.set(n,o)):e=n;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(!0&e[u]&&240===(240&e[u+1])){if(e.length-u<7)break;if((s=this.parseAdtsSize(e,u))>e.length)break;a={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",a),u+=s}else u++;else{if(e.length-u<10)break;if((s=this.parseId3TagSize(e,u))>e.length)break;i={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",i),u+=s}r=e.length-u,e=r>0?e.subarray(u):new Uint8Array}}).prototype=new i,t.exports=r},{"../utils/stream.js":62}],39:[function(e,t,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};t.exports={parseId3TagSize:function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=i(e.subarray(10,14)));do{if((n=i(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var a=0;a<r.byteLength;a++)if(0===r[a]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}(r,0,a))){var o=r.subarray(a+1),s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return s*=4,s+=3&o[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}}},{}],40:[function(e,t,n){"use strict";var r,i=e("../utils/stream.js"),a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(r=function(){var e;r.prototype.init.call(this),this.push=function(t){var n,r,i,o,s,u,l=0,c=0;if("audio"===t.type)for(e?(o=e,(e=new Uint8Array(o.byteLength+t.data.byteLength)).set(o),e.set(t.data,o.byteLength)):e=t.data;l+5<e.length;)if(255===e[l]&&240===(246&e[l+1])){if(r=2*(1&~e[l+1]),n=(3&e[l+3])<<11|e[l+4]<<3|(224&e[l+5])>>5,u=9e4*(s=1024*(1+(3&e[l+6])))/a[(60&e[l+2])>>>2],i=l+n,e.byteLength<i)return;if(this.trigger("data",{pts:t.pts+c*u,dts:t.dts+c*u,sampleCount:s,audioobjecttype:1+(e[l+2]>>>6&3),channelcount:(1&e[l+2])<<2|(192&e[l+3])>>>6,samplerate:a[(60&e[l+2])>>>2],samplingfrequencyindex:(60&e[l+2])>>>2,samplesize:16,data:e.subarray(l+7+r,i)}),e.byteLength===i)return void(e=void 0);c++,e=e.subarray(i)}else l++},this.flush=function(){this.trigger("done")}}).prototype=new i,t.exports=r},{"../utils/stream.js":62}],41:[function(e,t,n){"use strict";var r,i,a,o=e("../utils/stream.js"),s=e("../utils/exp-golomb.js");(i=function(){var e,t,n=0;i.prototype.init.call(this),this.push=function(r){var i;for(t?((i=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),i.set(r.data,t.byteLength),t=i):t=r.data;n<t.byteLength-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<t.length);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")}}).prototype=new o,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(r=function(){var e,t,n,o,u,l,c,d=new i;r.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,o=e.dts,d.push(e))},d.on("data",(function(r){var i={trackId:t,pts:n,dts:o,data:r};switch(31&r[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=u(r.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=u(r.subarray(1)),i.config=l(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",i)})),d.on("done",(function(){e.trigger("done")})),this.flush=function(){d.flush()},c=function(e,t){var n,r=8,i=8;for(n=0;n<e;n++)0!==i&&(i=(r+t.readExpGolomb()+256)%256),r=0===i?r:i},u=function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=e[o];return n},l=function(e){var t,n,r,i,o,u,l,d,f,h,p,m,g,v=0,y=0,b=0,_=0,w=1;if(n=(t=new s(e)).readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),a[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==o?8:12,g=0;g<p;g++)t.readBoolean()&&c(g<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(u=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===u)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),g=0;g<l;g++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),d=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),0===(h=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),_=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}m&&(w=m[0]/m[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(d+1)-2*v-2*y)*w),height:(2-h)*(f+1)*16-2*b-2*_}}}).prototype=new o,t.exports={H264Stream:r,NalByteStream:i}},{"../utils/exp-golomb.js":61,"../utils/stream.js":62}],42:[function(e,t,n){var r,i=[33,16,5,32,164,27],a=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],o=function(e){for(var t=[];e--;)t.push(0);return t},s={96e3:[i,[227,64],o(154),[56]],88200:[i,[231],o(170),[56]],64e3:[i,[248,192],o(240),[56]],48e3:[i,[255,192],o(268),[55,148,128],o(54),[112]],44100:[i,[255,192],o(268),[55,163,128],o(84),[112]],32e3:[i,[255,192],o(268),[55,234],o(226),[112]],24e3:[i,[255,192],o(268),[55,255,128],o(268),[111,112],o(126),[224]],16e3:[i,[255,192],o(268),[55,255,128],o(268),[111,255],o(269),[223,108],o(195),[1,192]],12e3:[a,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,253,128],o(259),[56]],11025:[a,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,255,192],o(268),[55,175,128],o(108),[112]],8e3:[a,o(268),[3,121,16],o(47),[7]]};t.exports=(r=s,Object.keys(r).reduce((function(e,t){return e[t]=new Uint8Array(r[t].reduce((function(e,t){return e.concat(t)}),[])),e}),{}))},{}],43:[function(e,t,n){"use strict";var r=e("../utils/stream.js"),i=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,i.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};i.prototype=new r,i.prototype.flush=function(e){var t,n,r,i,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,r=0;r<this.pendingCaptions.length;r++)(n=this.pendingCaptions[r]).startTime=n.startPts-i,n.startTime/=9e4,n.endTime=n.endPts-i,n.endTime/=9e4,a.captionStreams[n.stream]=!0,a.captions.push(n);for(r=0;r<this.pendingMetadata.length;r++)(t=this.pendingMetadata[r]).cueTime=t.pts-i,t.cueTime/=9e4,a.metadata.push(t);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},t.exports=i},{"../utils/stream.js":62}],44:[function(e,t,n){"use strict";var r=e("./flv-tag.js");t.exports=function(e,t,n){var i,a,o,s=new Uint8Array(9),u=new DataView(s.buffer);return e=e||0,t=void 0===t||t,n=void 0===n||n,u.setUint8(0,70),u.setUint8(1,76),u.setUint8(2,86),u.setUint8(3,1),u.setUint8(4,(t?4:0)|(n?1:0)),u.setUint32(5,s.byteLength),e<=0?((a=new Uint8Array(s.byteLength+4)).set(s),a.set([0,0,0,0],s.byteLength),a):((i=new r(r.METADATA_TAG)).pts=i.dts=0,i.writeMetaDataDouble("duration",e),o=i.finalize().length,(a=new Uint8Array(s.byteLength+o)).set(s),a.set(u.byteLength,o),a)}},{"./flv-tag.js":45}],45:[function(e,t,n){"use strict";var r;(r=function(e,t){var n,i=0,a=16384,o=function(e,t){var n,r=e.position+t;r<e.bytes.byteLength||((n=new Uint8Array(2*r)).set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},s=r.widthBytes||new Uint8Array("width".length),u=r.heightBytes||new Uint8Array("height".length),l=r.videocodecidBytes||new Uint8Array("videocodecid".length);if(!r.widthBytes){for(n=0;n<"width".length;n++)s[n]="width".charCodeAt(n);for(n=0;n<"height".length;n++)u[n]="height".charCodeAt(n);for(n=0;n<"videocodecid".length;n++)l[n]="videocodecid".charCodeAt(n);r.widthBytes=s,r.heightBytes=u,r.videocodecidBytes=l}switch(this.keyFrame=!1,e){case r.VIDEO_TAG:this.length=16,a*=6;break;case r.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case r.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(a),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var r,i=t||0;r=i+(n=n||e.byteLength),o(this,n),this.bytes.set(e.subarray(i,r),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){o(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){o(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(i>0)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===i+4?this.length-=4:i>0&&(t=i+4,n=this.length-t,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),i=0},this.writeMetaDataDouble=function(e,t){var n;if(o(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(u,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(l,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(e,t){var n;for(o(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)o(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var e,n;switch(this.bytes[0]){case r.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case r.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case r.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return n=this.length-11,this.bytes[1]=(16711680&n)>>>16,this.bytes[2]=(65280&n)>>>8,this.bytes[3]=(255&n)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=r.frameTime(this.bytes),this}}).AUDIO_TAG=8,r.VIDEO_TAG=9,r.METADATA_TAG=18,r.isAudioFrame=function(e){return r.AUDIO_TAG===e[0]},r.isVideoFrame=function(e){return r.VIDEO_TAG===e[0]},r.isMetaData=function(e){return r.METADATA_TAG===e[0]},r.isKeyFrame=function(e){return r.isVideoFrame(e)?23===e[11]:!!r.isAudioFrame(e)||!!r.isMetaData(e)},r.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},t.exports=r},{}],46:[function(e,t,n){t.exports={tag:e("./flv-tag"),Transmuxer:e("./transmuxer"),getFlvHeader:e("./flv-header")}},{"./flv-header":44,"./flv-tag":45,"./transmuxer":48}],47:[function(e,t,n){"use strict";t.exports=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})}},{}],48:[function(e,t,n){"use strict";var r,i,a,o,s,u,l=e("../utils/stream.js"),c=e("./flv-tag.js"),d=e("../m2ts/m2ts.js"),f=e("../codecs/adts.js"),h=e("../codecs/h264").H264Stream,p=e("./coalesce-stream.js"),m=e("./tag-list.js");o=function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var n=new c(c.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},u=function(e,t){var n,r=new c(c.VIDEO_TAG,!0);for(r.dts=t,r.pts=t,r.writeByte(1),r.writeByte(e.profileIdc),r.writeByte(e.profileCompatibility),r.writeByte(e.levelIdc),r.writeByte(255),r.writeByte(225),r.writeShort(e.sps[0].length),r.writeBytes(e.sps[0]),r.writeByte(e.pps.length),n=0;n<e.pps.length;++n)r.writeShort(e.pps[n].length),r.writeBytes(e.pps[n]);return r},(a=function(e){var t,n=[],r=[];a.prototype.init.call(this),this.push=function(t){o(e,t),e&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),n.push(t)},this.flush=function(){var i,a,o,s=new m;if(0!==n.length){for(o=-1/0;n.length;)i=n.shift(),r.length&&i.pts>=r[0]&&(o=r.shift(),this.writeMetaDataTags(s,o)),(e.extraData!==t||i.pts-o>=1e3)&&(this.writeMetaDataTags(s,i.pts),t=e.extraData,o=i.pts),(a=new c(c.AUDIO_TAG)).pts=i.pts,a.dts=i.dts,a.writeBytes(i.data),s.push(a.finalize());r.length=0,t=null,this.trigger("data",{track:e,tags:s.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(t,n){var r;(r=new c(c.METADATA_TAG)).pts=n,r.dts=n,r.writeMetaDataDouble("audiocodecid",10),r.writeMetaDataBoolean("stereo",2===e.channelcount),r.writeMetaDataDouble("audiosamplerate",e.samplerate),r.writeMetaDataDouble("audiosamplesize",16),t.push(r.finalize()),(r=new c(c.AUDIO_TAG,!0)).pts=n,r.dts=n,r.view.setUint16(r.position,e.extraData),r.position+=2,r.length=Math.max(r.length,r.position),t.push(r.finalize())},this.onVideoKeyFrame=function(e){r.push(e)}}).prototype=new l,(i=function(e){var t,n,r=[];i.prototype.init.call(this),this.finishFrame=function(r,i){if(i){if(t&&e&&e.newMetadata&&(i.keyFrame||0===r.length)){var a=s(t,i.dts).finalize(),o=u(e,i.dts).finalize();a.metaDataTag=o.metaDataTag=!0,r.push(a),r.push(o),e.newMetadata=!1,this.trigger("keyframe",i.dts)}i.endNalUnit(),r.push(i.finalize()),n=null}},this.push=function(t){o(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),r.push(t)},this.flush=function(){for(var i,a=new m;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0!==r.length){for(;r.length;)"seq_parameter_set_rbsp"===(i=r.shift()).nalUnitType?(e.newMetadata=!0,t=i.config,e.width=t.width,e.height=t.height,e.sps=[i.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===i.nalUnitType?(e.newMetadata=!0,e.pps=[i.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===i.nalUnitType?(n&&this.finishFrame(a,n),(n=new c(c.VIDEO_TAG)).pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(i.data);n&&this.finishFrame(a,n),this.trigger("data",{track:e,tags:a.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new l,(r=function(e){var t,n,o,s,u,l,c,m,g,v,y,b,_=this;r.prototype.init.call(this),e=e||{},this.metadataStream=new d.MetadataStream,e.metadataStream=this.metadataStream,t=new d.TransportPacketStream,n=new d.TransportParseStream,o=new d.ElementaryStream,s=new d.TimestampRolloverStream("video"),u=new d.TimestampRolloverStream("audio"),l=new d.TimestampRolloverStream("timed-metadata"),c=new f,m=new h,b=new p(e),t.pipe(n).pipe(o),o.pipe(s).pipe(m),o.pipe(u).pipe(c),o.pipe(l).pipe(this.metadataStream).pipe(b),y=new d.CaptionStream,m.pipe(y).pipe(b),o.on("data",(function(e){var t,n,r;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?n=e.tracks[t]:"audio"===e.tracks[t].type&&(r=e.tracks[t]);n&&!g&&(b.numberOfTracks++,g=new i(n),m.pipe(g).pipe(b)),r&&!v&&(b.numberOfTracks++,v=new a(r),c.pipe(v).pipe(b),g&&g.on("keyframe",v.onVideoKeyFrame))}})),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},this.resetCaptions=function(){y.reset()},b.on("data",(function(e){_.trigger("data",e)})),b.on("done",(function(){_.trigger("done")}))}).prototype=new l,t.exports=r},{"../codecs/adts.js":40,"../codecs/h264":41,"../m2ts/m2ts.js":50,"../utils/stream.js":62,"./coalesce-stream.js":43,"./flv-tag.js":45,"./tag-list.js":47}],49:[function(e,t,n){"use strict";var r=e("../utils/stream"),i=function(){i.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new l(0,0),new l(0,1),new l(1,0),new l(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))}),this)};i.prototype=new r,i.prototype.push=function(e){var t,n;"sei_rbsp"===e.nalUnitType&&4===(t=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!n.payload&&4===r){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}t+=i,r=0,i=0}return n}(e.escapedRBSP)).payloadType&&(n=function(e){return 181!==e.payload[0]||49!==(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)}(t))&&(e.dts<this.latestDts_?this.ignoreNextEqualDts_=!0:e.dts===this.latestDts_&&this.ignoreNextEqualDts_?this.ignoreNextEqualDts_=!1:(this.captionPackets_=this.captionPackets_.concat(function(e,t){var n,r,i,a,o=[];if(!(64&t[0]))return o;for(r=31&t[0],n=0;n<r;n++)a={type:3&t[2+(i=3*n)],pts:e},4&t[i+2]&&(a.ccData=t[i+3]<<8|t[i+4],o.push(a));return o}(e.pts,n)),this.latestDts_=e.dts))},i.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.ccStreams_.forEach((function(e){e.flush()}),this)):this.ccStreams_.forEach((function(e){e.flush()}),this)},i.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},i.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},i.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},i.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},o=function(e){return null===e?"":(e=a[e]||e,String.fromCharCode(e))},s=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],u=function(){for(var e=[],t=15;t--;)e.push("");return e},l=function(e,t){l.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.topRow_=13,this.mode_="rollUp";else if(t===this.ROLL_UP_3_ROWS_)this.topRow_=12,this.mode_="rollUp";else if(t===this.ROLL_UP_4_ROWS_)this.topRow_=11,this.mode_="rollUp";else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=u();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=u();else if(t===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(r,i))a=o((r=(3&r)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1),a=o((r=(3&r)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&i)&&this.addFormatting(e.pts,["i"]),1===(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var l=s.indexOf(7968&t);l!==this.row_&&(this.clearFormatting(e.pts),this.row_=l),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14===(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),a=o(r),a+=o(i),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};l.prototype=new r,l.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){return e.trim()})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},l.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=u(),this.nonDisplayed_=u(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.formatting_=[]},l.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},l.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},l.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},l.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},l.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},l.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},l.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},l.prototype.isNormalChar=function(e){return e>=32&&e<=127},l.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},l.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},l.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},l.prototype.rollUp=function(e,t){var n=this.displayed_[14];n+=t,this.displayed_[14]=n},l.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<14;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[14]=""},l.prototype.paintOn=function(){},t.exports={CaptionStream:i,Cea608Stream:l}},{"../utils/stream":62}],50:[function(e,t,n){"use strict";var r,i,a,o=e("../utils/stream.js"),s=e("./caption-stream"),u=e("./stream-types"),l=e("./timestamp-rollover-stream").TimestampRolloverStream,c=e("./stream-types.js");(r=function(){var e=new Uint8Array(188),t=0;r.prototype.init.call(this),this.push=function(n){var r,i=0,a=188;for(t?((r=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),r.set(n,t),t=0):r=n;a<r.byteLength;)71!==r[i]||71!==r[a]?(i++,a++):(this.trigger("data",r.subarray(i,a)),i+=188,a+=188);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}}).prototype=new o,(i=function(){var e,t,n,r;i.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var a=e[i],o=(31&e[i+1])<<8|e[i+2];a===u.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=o:a===u.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=o:a===u.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][o]=a),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new o,i.STREAM_TYPES={h264:27,adts:15},(a=function(){var e=this,t={data:[],size:0},n={data:[],size:0},r={data:[],size:0},i=function(t,n,r){var i,a,o=new Uint8Array(t.size),s={type:n},u=0,l=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,u=0;u<t.data.length;u++)a=t.data[u],o.set(a.data,l),l+=a.data.byteLength;!function(e,t){var n;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!==(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])}(o,s),i="video"===n||s.packetLength<=t.size,(r||i)&&(t.size=0,t.data.length=0),i&&e.trigger("data",s)}};a.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,o;switch(a.streamType){case u.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:e=t,o="video";break;case u.ADTS_STREAM_TYPE:e=n,o="audio";break;case u.METADATA_STREAM_TYPE:e=r,o="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&i(e,o,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},n=a.programMapTable;null!==n.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[a.type]()},this.flush=function(){i(t,"video"),i(n,"audio"),i(r,"timed-metadata"),this.trigger("done")}}).prototype=new o;var d={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:r,TransportParseStream:i,ElementaryStream:a,TimestampRolloverStream:l,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:e("./metadata-stream")};for(var f in u)u.hasOwnProperty(f)&&(d[f]=u[f]);t.exports=d},{"../utils/stream.js":62,"./caption-stream":49,"./metadata-stream":51,"./stream-types":53,"./stream-types.js":53,"./timestamp-rollover-stream":54}],51:[function(e,t,n){"use strict";var r,i=e("../utils/stream"),a=e("./stream-types"),o=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},s=function(e,t,n){return decodeURIComponent(o(e,t,n))},u=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},l={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(o(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(r=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},i=0,o=[],s=0;if(r.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,r,a,c,d;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(e),s+=e.data.byteLength,1===o.length&&(i=u(e.data.subarray(6,10)),i+=10),!(s<i)){for(t={data:new Uint8Array(i),frames:[],pts:o[0].pts,dts:o[0].dts},d=0;d<i;)t.data.set(o[0].data.subarray(0,i-d),d),d+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();r=10,64&t.data[5]&&(r+=4,r+=u(t.data.subarray(10,14)),i-=u(t.data.subarray(16,20)));do{if((a=u(t.data.subarray(r+4,r+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((c={id:String.fromCharCode(t.data[r],t.data[r+1],t.data[r+2],t.data[r+3]),data:t.data.subarray(r+10,r+a+10)}).key=c.id,l[c.id]&&(l[c.id](c),"com.apple.streaming.transportStreamTimestamp"===c.owner)){var f=c.data,h=(1&f[3])<<30|f[4]<<22|f[5]<<14|f[6]<<6|f[7]>>>2;h*=4,h+=3&f[7],c.timeStamp=h,void 0===t.pts&&void 0===t.dts&&(t.pts=c.timeStamp,t.dts=c.timeStamp),this.trigger("timestamp",c)}t.frames.push(c),r+=10,r+=a}while(r<i);this.trigger("data",t)}}}).prototype=new i,t.exports=r},{"../utils/stream":62,"./stream-types":53}],52:[function(e,t,n){"use strict";var r=e("./stream-types.js"),i=function(e){var t=31&e[1];return t<<=8,t|=e[2]},a=function(e){return!!(64&e[1])},o=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(e,t){var n=i(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=a(e),n=4+o(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=a(e),r=4+o(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i;i=3+((15&e[r+1])<<8|e[r+2])-4;for(var s=12+((15&e[r+10])<<8|e[r+11]);s<i;){var u=r+s;t[(31&e[u+1])<<8|e[u+2]]=e[u],s+=5+((15&e[u+3])<<8|e[u+4])}return t}},parsePayloadUnitStartIndicator:a,parsePesType:function(e,t){switch(t[i(e)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!a(e))return null;var t=4+o(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+o(e),n=e.subarray(t),r=0,i=0,a=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(a=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(a=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(a=!0),a}}},{"./stream-types.js":53}],53:[function(e,t,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],54:[function(e,t,n){"use strict";var r=e("../utils/stream"),i=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},a=function(e){var t,n;a.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===n&&(n=e.dts),e.dts=i(e.dts,n),e.pts=i(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.discontinuity=function(){n=void 0,t=void 0}};a.prototype=new r,t.exports={TimestampRolloverStream:a,handleRollover:i}},{"../utils/stream":62}],55:[function(e,t,n){t.exports={generator:e("./mp4-generator"),Transmuxer:e("./transmuxer").Transmuxer,AudioSegmentStream:e("./transmuxer").AudioSegmentStream,VideoSegmentStream:e("./transmuxer").VideoSegmentStream}},{"./mp4-generator":56,"./transmuxer":58}],56:[function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,d,f,h,p,m,g,v,y,b,_,w,T,S,E,k,x,C,A,O,R,P,I,L,M,D,N,j,U,B=Math.pow(2,32)-1;!function(){var e;if(k={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(e in k)k.hasOwnProperty(e)&&(k[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);x=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),R=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:O,audio:R},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),L=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),N=D,j=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=D,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),r=function(e){var t,n,r=[],i=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)i+=r[t].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,i=8;t<r.length;t++)n.set(r[t],i),i+=r[t].byteLength;return n},i=function(){return r(k.dinf,r(k.dref,M))},a=function(e){return r(k.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return r(k.ftyp,x,C,x,A)},y=function(e){return r(k.hdlr,P[e])},s=function(e){return r(k.mdat,e)},v=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),r(k.mdhd,t)},g=function(e){return r(k.mdia,v(e),y(e.type),l(e))},u=function(e){return r(k.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},l=function(e){return r(k.minf,"video"===e.type?r(k.vmhd,I):r(k.smhd,L),i(),_(e))},c=function(e,t){for(var n=[],i=t.length;i--;)n[i]=T(t[i]);return r.apply(null,[k.moof,u(e)].concat(n))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=p(e[t]);return r.apply(null,[k.moov,h(4294967295)].concat(n).concat(f(e)))},f=function(e){for(var t=e.length,n=[];t--;)n[t]=S(e[t]);return r.apply(null,[k.mvex].concat(n))},h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r(k.mvhd,t)},b=function(e){var t,n,i=e.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)t=i[n].flags,a[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return r(k.sdtp,a)},_=function(e){return r(k.stbl,w(e),r(k.stts,U),r(k.stsc,N),r(k.stsz,j),r(k.stco,D))},function(){var e,t;w=function(n){return r(k.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?e(n):t(n))},e=function(e){var t,n=e.sps||[],i=e.pps||[],a=[],o=[];for(t=0;t<n.length;t++)a.push((65280&n[t].byteLength)>>>8),a.push(255&n[t].byteLength),a=a.concat(Array.prototype.slice.call(n[t]));for(t=0;t<i.length;t++)o.push((65280&i[t].byteLength)>>>8),o.push(255&i[t].byteLength),o=o.concat(Array.prototype.slice.call(i[t]));return r(k.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r(k.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(a).concat([i.length]).concat(o))),r(k.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},t=function(e){return r(k.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),a(e))}}(),m=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return r(k.tkhd,t)},T=function(e){var t,n,i,a,o,s;return t=r(k.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/(B+1)),s=Math.floor(e.baseMediaDecodeTime%(B+1)),n=r(k.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===e.type?(i=E(e,92),r(k.traf,t,n,i)):(a=b(e),i=E(e,a.length+92),r(k.traf,t,n,i,a))},p=function(e){return e.duration=e.duration||4294967295,r(k.trak,m(e),g(e))},S=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),r(k.trex,t)},function(){var e,t,n;n=function(e,t){var n=0,r=0,i=0,a=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,n|r|i|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var i,a,o,s;for(t+=20+16*(a=e.samples||[]).length,i=n(a,t),s=0;s<a.length;s++)o=a[s],i=i.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return r(k.trun,new Uint8Array(i))},e=function(e,t){var i,a,o,s;for(t+=20+8*(a=e.samples||[]).length,i=n(a,t),s=0;s<a.length;s++)o=a[s],i=i.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return r(k.trun,new Uint8Array(i))},E=function(n,r){return"audio"===n.type?e(n,r):t(n,r)}}(),t.exports={ftyp:o,mdat:s,moof:c,moov:d,initSegment:function(e){var t,n=o(),r=d(e);return(t=new Uint8Array(n.byteLength+r.byteLength)).set(n),t.set(r,n.byteLength),t}}},{}],57:[function(e,t,n){"use strict";var r,i,a,o;r=function(e,t){var n,a,o,s,u,l=[];if(!t.length)return null;for(n=0;n<e.byteLength;)a=e[n]<<24,a|=e[n+1]<<16,a|=e[n+2]<<8,a|=e[n+3],o=i(e.subarray(n+4,n+8)),s=a>1?n+a:e.byteLength,o===t[0]&&(1===t.length?l.push(e.subarray(n+8,s)):(u=r(e.subarray(n+8,s),t.slice(1))).length&&(l=l.concat(u))),n=s;return l},i=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},a=function(e){return r(e,["moov","trak"]).reduce((function(e,t){var n,i,a,o;return(n=r(t,["tkhd"])[0])?(a=n[i=0===n[0]?12:20]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3],(o=r(t,["mdia","mdhd"])[0])?(i=0===o[0]?12:20,e[a]=o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3],e):null):null}),{})},o=function(e,t){var n,i,a;return n=r(t,["moof","traf"]),i=[].concat.apply([],n.map((function(t){return r(t,["tfhd"]).map((function(n){var i,a;return i=n[4]<<24|n[5]<<16|n[6]<<8|n[7],a=e[i]||9e4,(r(t,["tfdt"]).map((function(e){var t,n;return t=e[0],n=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(n*=Math.pow(2,32),n+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),n}))[0]||1/0)/a}))}))),a=Math.min.apply(null,i),isFinite(a)?a:0},t.exports={parseType:i,timescale:a,startTime:o}},{}],58:[function(e,t,n){"use strict";var r,i,a,o,s,u,l,c,d,f,h=e("../utils/stream.js"),p=e("./mp4-generator.js"),m=e("../m2ts/m2ts.js"),g=e("../codecs/adts.js"),v=e("../codecs/h264").H264Stream,y=e("../aac"),b=e("../data/silence"),_=e("../utils/clock"),w=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],T=["width","height","profileIdc","levelIdc","profileCompatibility"];s=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},d=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},f=function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n},(i=function(e){var t=[],n=0,r=0,a=0,o=1/0;i.prototype.init.call(this),this.push=function(n){u(e,n),e&&w.forEach((function(t){e[t]=n[t]})),t.push(n)},this.setEarliestDts=function(t){r=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){o=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var r,i,a,o;0!==t.length?(r=this.trimAdtsFramesByEarliestDts_(t),e.baseMediaDecodeTime=c(e),this.prefixWithSilence_(e,r),e.samples=this.generateSampleTable_(r),a=p.mdat(this.concatenateFrameData_(r)),t=[],i=p.moof(n,[e]),o=new Uint8Array(i.byteLength+a.byteLength),n++,o.set(i),o.set(a,i.byteLength),l(e),this.trigger("data",{track:e,boxes:o}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var n,r,i,s,u=0,l=0,c=0;if(t.length&&(n=_.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),r=Math.ceil(9e4/(e.samplerate/1024)),a&&o&&(u=n-Math.max(a,o),c=(l=Math.floor(u/r))*r),!(l<1||c>45e3))){for((i=b[e.samplerate])||(i=t[0].data),s=0;s<l;s++)t.splice(s,0,{data:i});e.baseMediaDecodeTime-=Math.floor(_.videoTsToAudioTs(c,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return e.minSegmentDts>=r?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=r&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))},this.generateSampleTable_=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(e){var t,n,r=0,i=new Uint8Array(f(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i}}).prototype=new h,(r=function(e,t){var n,i,a=0,o=[],s=[];t=t||{},r.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){u(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],T.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var n,r,i,d,f,h;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=this.groupNalsIntoFrames_(o),(i=this.groupFramesIntoGops_(n))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],e))?(i.unshift(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.pts=r.pts,i.dts=r.dts,i.duration+=r.duration):i=this.extendFirstKeyFrame_(i)),s.length){var m;if(!(m=t.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");l(e),i=m}u(e,i),e.samples=this.generateSampleTable_(i),f=p.mdat(this.concatenateNalData_(i)),e.baseMediaDecodeTime=c(e),this.trigger("processedGopsInfo",i.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),d=p.moof(a,[e]),h=new Uint8Array(d.byteLength+f.byteLength),a++,h.set(d),h.set(f,d.byteLength),this.trigger("data",{track:e,boxes:h}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){l(e),n=void 0,i=void 0},this.getGopForFusion_=function(t){var n,r,i,a,o,s=1/0;for(o=0;o<this.gopCache_.length;o++)i=(a=this.gopCache_[o]).gop,e.pps&&d(e.pps[0],a.pps[0])&&e.sps&&d(e.sps[0],a.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=a,s=n));return r?r.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,n,r=[],i=[];for(r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.push(r),i},this.groupFramesIntoGops_=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},this.generateSampleTable_=function(e,t){var n,r,i,a,o,s=t||0,u=[];for(n=0;n<e.length;n++)for(a=e[n],r=0;r<a.length;r++)o=a[r],(i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}).dataOffset=s,i.compositionTimeOffset=o.pts-o.dts,i.duration=o.duration,i.size=4*o.length,i.size+=o.byteLength,o.keyFrame&&(i.flags.dependsOn=2),s+=i.size,u.push(i);return u},this.concatenateNalData_=function(e){var t,n,r,i,a,o,s=0,u=e.byteLength,l=e.nalCount,c=new Uint8Array(u+4*l),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(a=i[n],r=0;r<a.length;r++)o=a[r],d.setUint32(s,o.data.byteLength),s+=4,c.set(o.data,s),s+=o.data.byteLength;return c},this.alignGopsAtStart_=function(e){var t,n,r,i,a,o,u,l;for(a=e.byteLength,o=e.nalCount,u=e.duration,t=n=0;t<s.length&&n<e.length&&(r=s[t],i=e[n],r.pts!==i.pts);)i.pts>r.pts?t++:(n++,a-=i.byteLength,o-=i.nalCount,u-=i.duration);return 0===n?e:n===e.length?null:((l=e.slice(n)).byteLength=a,l.duration=u,l.nalCount=o,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,n,r,i,a,o,u;for(t=s.length-1,n=e.length-1,a=null,o=!1;t>=0&&n>=0;){if(r=s[t],i=e[n],r.pts===i.pts){o=!0;break}r.pts>i.pts?t--:(t===s.length-1&&(a=n),n--)}if(!o&&null===a)return null;if(0===(u=o?n:a))return e;var l=e.slice(u),c=l.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){s=e}}).prototype=new h,u=function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},l=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},c=function(e){var t,n=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=n,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/9e4,t=Math.floor(t)),t},(o=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!==typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new h,o.prototype.flush=function(e){var t,n,r,i,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,T.forEach((function(e){o.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,w.forEach((function(e){o.info[e]=this.audioTrack[e]}),this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,r=p.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(r.byteLength),o.initSegment.set(r),o.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)o.data.set(this.pendingBoxes[i],a),a+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,o.captionStreams[t.stream]=!0,o.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=n.pts-s,n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(a=function(e){var t,n,u=this,c=!0;a.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new m.MetadataStream,t.aacStream=new y,t.audioTimestampRolloverStream=new m.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new m.TimestampRolloverStream("timed-metadata"),t.adtsStream=new g,t.coalesceStream=new o(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",(function(e){t.aacStream.setTimestamp(e.timeStamp)})),t.aacStream.on("data",(function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:u.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new i(n),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))})),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new m.MetadataStream,a.packetStream=new m.TransportPacketStream,a.parseStream=new m.TransportParseStream,a.elementaryStream=new m.ElementaryStream,a.videoTimestampRolloverStream=new m.TimestampRolloverStream("video"),a.audioTimestampRolloverStream=new m.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new m.TimestampRolloverStream("timed-metadata"),a.adtsStream=new g,a.h264Stream=new v,a.captionStream=new m.CaptionStream,a.coalesceStream=new o(e,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream),a.elementaryStream.pipe(a.videoTimestampRolloverStream).pipe(a.h264Stream),a.elementaryStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.elementaryStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",(function(o){var s;if("metadata"===o.type){for(s=o.tracks.length;s--;)t||"video"!==o.tracks[s].type?n||"audio"!==o.tracks[s].type||((n=o.tracks[s]).timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime):(t=o.tracks[s]).timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime;t&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new r(t,e),a.videoSegmentStream.on("timelineStartInfo",(function(e){n&&(n.timelineStartInfo=e,a.audioSegmentStream.setEarliestDts(e.dts))})),a.videoSegmentStream.on("processedGopsInfo",u.trigger.bind(u,"gopInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),n&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new i(n),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}})),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=e,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,l(n),n.timelineStartInfo.baseMediaDecodeTime=e,r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,l(t),r.captionStream.reset(),t.timelineStartInfo.baseMediaDecodeTime=e),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(c){var t=s(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),c=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){c=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new h,t.exports={Transmuxer:a,VideoSegmentStream:r,AudioSegmentStream:i,AUDIO_PROPERTIES:w,VIDEO_PROPERTIES:T}},{"../aac":38,"../codecs/adts.js":40,"../codecs/h264":41,"../data/silence":42,"../m2ts/m2ts.js":50,"../utils/clock":60,"../utils/stream.js":62,"./mp4-generator.js":56}],59:[function(e,t,n){"use strict";var r=e("../m2ts/stream-types.js"),i=e("../m2ts/timestamp-rollover-stream.js").handleRollover,a={};a.ts=e("../m2ts/probe.js"),a.aac=e("../aac/probe.js");var o=function(e,t,n){for(var r,i,o,s,u=0,l=188,c=!1;l<e.byteLength;)if(71!==e[u]||71!==e[l])u++,l++;else{switch(r=e.subarray(u,l),a.ts.parseType(r,t.pid)){case"pes":i=a.ts.parsePesType(r,t.table),o=a.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&o&&(s=a.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),c=!0)}if(c)break;u+=188,l+=188}for(u=(l=e.byteLength)-188,c=!1;u>=0;)if(71!==e[u]||71!==e[l])u--,l--;else{switch(r=e.subarray(u,l),a.ts.parseType(r,t.pid)){case"pes":i=a.ts.parsePesType(r,t.table),o=a.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&o&&(s=a.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),c=!0)}if(c)break;u-=188,l-=188}},s=function(e,t,n){for(var r,i,o,s,u,l,c,d=0,f=188,h=!1,p={data:[],size:0};f<e.byteLength;)if(71!==e[d]||71!==e[f])d++,f++;else{switch(r=e.subarray(d,f),a.ts.parseType(r,t.pid)){case"pes":if(i=a.ts.parsePesType(r,t.table),o=a.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(o&&!h&&(s=a.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),h=!0),!n.firstKeyFrame)){if(o&&0!==p.size){for(u=new Uint8Array(p.size),l=0;p.data.length;)c=p.data.shift(),u.set(c,l),l+=c.byteLength;a.ts.videoPacketContainsKeyFrame(u)&&(n.firstKeyFrame=a.ts.parsePesTime(u),n.firstKeyFrame.type="video"),p.size=0}p.data.push(r),p.size+=r.byteLength}}if(h&&n.firstKeyFrame)break;d+=188,f+=188}for(d=(f=e.byteLength)-188,h=!1;d>=0;)if(71!==e[d]||71!==e[f])d--,f--;else{switch(r=e.subarray(d,f),a.ts.parseType(r,t.pid)){case"pes":i=a.ts.parsePesType(r,t.table),o=a.ts.parsePayloadUnitStartIndicator(r),"video"===i&&o&&(s=a.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),h=!0)}if(h)break;d-=188,f-=188}},u=function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,r=0,i=188;i<e.byteLength;)if(71!==e[r]||71!==e[i])r++,i++;else{switch(n=e.subarray(r,i),a.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=a.ts.parsePat(n));break;case"pmt":t.table||(t.table=a.ts.parsePmt(n))}if(t.pid&&t.table)return;r+=188,i+=188}}(e,t),t.table)if(t.table.hasOwnProperty(i))switch(t.table[i]){case r.H264_STREAM_TYPE:n.video=[],s(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],o(e,t,n),0===n.audio.length&&delete n.audio}return n};t.exports={inspect:function(e,t){var n,r;return(r=(n=e)[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)?function(e){for(var t,n=!1,r=0,i=null,o=null,s=0,u=0;e.length-u>=3;){switch(a.aac.parseType(e,u)){case"timed-metadata":if(e.length-u<10){n=!0;break}if((s=a.aac.parseId3TagSize(e,u))>e.length){n=!0;break}null===o&&(t=e.subarray(u,u+s),o=a.aac.parseAacTimestamp(t)),u+=s;break;case"audio":if(e.length-u<7){n=!0;break}if((s=a.aac.parseAdtsSize(e,u))>e.length){n=!0;break}null===i&&(t=e.subarray(u,u+s),i=a.aac.parseSampleRate(t)),r++,u+=s;break;default:u++}if(n)return null}if(null===i||null===o)return null;var l=9e4/i;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*r*l,pts:o+1024*r*l}]}}(e):u(e))&&(r.audio||r.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;"undefined"===typeof n&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=i(e.dts,n),e.pts=i(e.pts,n),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}))}if(e.video&&e.video.length){var r=t;if("undefined"===typeof r&&(r=e.video[0].dts),e.video.forEach((function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})),e.firstKeyFrame){var a=e.firstKeyFrame;a.dts=i(a.dts,r),a.pts=i(a.pts,r),a.dtsTime=a.dts/9e4,a.ptsTime=a.dts/9e4}}}(r,t),r):null}}},{"../aac/probe.js":39,"../m2ts/probe.js":52,"../m2ts/stream-types.js":53,"../m2ts/timestamp-rollover-stream.js":54}],60:[function(e,t,n){var r,i,a,o,s,u;r=function(e){return 9e4*e},i=function(e,t){return e*t},a=function(e){return e/9e4},o=function(e,t){return e/t},s=function(e,t){return r(o(e,t))},u=function(e,t){return i(a(e),t)},t.exports={secondsToVideoTs:r,secondsToAudioTs:i,videoTsToSeconds:a,audioTsToSeconds:o,audioTsToVideoTs:s,videoTsToAudioTs:u}},{}],61:[function(e,t,n){"use strict";var r;r=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,a=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");a.set(e.subarray(i,i+o)),n=new DataView(a.buffer).getUint32(0),r=8*o,t-=o},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),a=n>>>32-i;return(r-=i)>0?n<<=i:t>0&&this.loadWord(),(i=e-i)>0?a<<i|this.readBits(i):a},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!==(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=r},{}],62:[function(e,t,n){"use strict";var r=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,a;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(a=[],r=arguments.length,r=1;r<arguments.length;++r)a.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,a)}},this.dispose=function(){e={}}}};r.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),e},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},t.exports=r},{}],63:[function(e,t,n){!function(e){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=this.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var a=this.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=this.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var u=i.exec(o.path);o.netLoc=u[1],o.path=u[2]}o.netLoc&&!o.path&&(o.path="/");var l={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(l.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var c=o.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;l.path=s.normalizePath(d)}else l.path=o.path,a.params||(l.params=o.params,a.query||(l.query=o.query));return null===l.path&&(l.path=n.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(l)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};"object"===typeof n&&"object"===typeof t?t.exports=s:"object"===typeof n?n.URLToolkit=s:e.URLToolkit=s}(this)},{}],64:[function(e,n,r){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var a=i(e("global/window")),o=i("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),s=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e};r.default={addTextTrackData:function(e,t,n){var r=a.default.WebKitDataCue||a.default.VTTCue;t&&t.forEach((function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))}),e),n&&function(){var t=s(e.mediaSource_.duration);n.forEach((function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach((function(e){var n=new r(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return o.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return o.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return o.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),this.metadataTrack_.addCue(n)}),this)}),e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length&&function(){for(var n=e.metadataTrack_.cues,r=[],i=0;i<n.length;i++)n[i]&&r.push(n[i]);var a=r.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),o=Object.keys(a).sort((function(e,t){return Number(e)-Number(t)}));o.forEach((function(e,n){var r=a[e],i=Number(o[n+1])||t;r.forEach((function(e){e.endTime=i}))}))}()}()},durationOfVideo:s},n.exports=r.default}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"global/window":32}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={isAudioCodec:function(e){return/mp4a\.\d+.\d+/i.test(e)},parseContentType:function(e){var t={type:"",parameters:{}},n=e.trim().split(";");return t.type=n.shift().trim(),n.forEach((function(e){var n=e.trim().split("=");if(n.length>1){var r=n[0].replace(/"/g,"").trim(),i=n[1].replace(/"/g,"").trim();t.parameters[r]=i}})),t},isVideoCodec:function(e){return/avc1\.[\da-f]+/i.test(e)},translateLegacyCodecs:function(e){return e.map((function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)}))}))}},t.exports=n.default},{}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var r=t.player_;if(n.captions&&n.captions.length)for(var i in e.inbandTextTracks_||(e.inbandTextTracks_={}),n.captionStreams)if(!e.inbandTextTracks_[i]){r.tech_.trigger({type:"usage",name:"hls-608"});var a=r.textTracks().getTrackById(i);e.inbandTextTracks_[i]=a||r.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)},t.exports=n.default},{}],67:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768},t.exports=n.default},{}],68:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(e("global/document")),s=a("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),u=a(e("./flash-source-buffer")),l=a(e("./flash-constants")),c=e("./codec-utils"),d=function(e){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],(function(t){e.swfObj=o.default.getElementById(t.swfId),e.player_=(0,s.default)(e.swfObj.parentNode),e.tech_=e.swfObj.tech,e.readyState="open",e.tech_.on("seeking",(function(){for(var t=e.sourceBuffers.length;t--;)e.sourceBuffers[t].abort()})),e.swfObj&&e.swfObj.vjs_load()}))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t=(0,c.parseContentType)(e),n=void 0;if("video/mp2t"!==t.type&&"audio/mp2t"!==t.type)throw new Error("NotSupportedError (Video.js)");return n=new u.default(this),this.sourceBuffers.push(n),n}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),t}(s.default.EventTarget);r.default=d;try{Object.defineProperty(d.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=void 0,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<n)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(h){d.prototype.duration=NaN}for(var f in l.default)d[f]=l.default[f];n.exports=r.default}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./codec-utils":65,"./flash-constants":67,"./flash-source-buffer":69,"global/document":31}],69:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(e("global/window")),s=a("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),u=a(e("mux.js/lib/flv")),l=a(e("./remove-cues-from-track")),c=a(e("./create-text-tracks-if-necessary")),d=e("./add-text-track-data"),f=a(e("./flash-transmuxer-worker")),h=a(e("webwackify")),p=a(e("./flash-constants")),m=function(e){o.default.setTimeout(e,p.default.TIME_BETWEEN_CHUNKS)},g=function(){return Math.random().toString(36).slice(2,8)},v=function(e,t){("number"!==typeof t||t<0)&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n},y=function(t){function n(t){var r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.chunkSize_=p.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=t,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,r=o.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(u.default.getFlvHeader())));var a=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+a+g(),this.flashEncodedDataName_="vjs_flashEncodedData_"+a+g(),o.default[this.flashEncodedHeaderName_]=function(){return delete o.default[i.flashEncodedHeaderName_],r},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,h.default)(f.default,function(){var t=void 0;try{t=e.resolve("./flash-transmuxer-worker")}catch(n){}return t}()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&i.receiveBuffer_(e.data.segment)},this.one("updateend",(function(){i.mediaSource_.tech_.trigger("loadedmetadata")})),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"===typeof e&&e>=0&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!this.mediaSource_||!this.mediaSource_.swfObj||!("vjs_getProperty"in this.mediaSource_.swfObj))return s.default.createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=v(e[0][0],3),e[0][1]=v(e[0][1],3)),s.default.createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",(function(){if((0,l.default)(0,1/0,i.metadataTrack_),i.inbandTextTracks_)for(var e in i.inbandTextTracks_)(0,l.default)(0,1/0,i.inbandTextTracks_[e])}));var c=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",c),this.mediaSource_.player_.tech_.hls.on("dispose",(function(){i.transmuxer_.terminate(),i.mediaSource_.player_.tech_.off("hls-reset",c)}))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"appendBuffer",value:function(e){var t=void 0;if(this.updating)throw(t=new Error("SourceBuffer.append() cannot be called while an update is in progress")).name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){if((0,l.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,l.default)(e,t,this.inbandTextTracks_[n]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(e){var t=this;(0,c.default)(this,this.mediaSource_,e),(0,d.addTextTrackData)(this,e.captions,e.metadata),m((function(){var n=t.convertTagsToData_(e);0===t.buffer_.length&&m(t.processBuffer_.bind(t)),n&&(t.buffer_.push(n),t.bufferSize_+=n.byteLength)}))}},{key:"processBuffer_",value:function(){var e=this,t=p.default.BYTES_PER_CHUNK;if(this.buffer_.length){var n=this.buffer_[0].subarray(0,t);n.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=n.byteLength;for(var r=[],i=n.byteLength,a=0;a<i;a++)r.push(String.fromCharCode(n[a]));var s=o.default.btoa(r.join(""));o.default[this.flashEncodedDataName_]=function(){return m(e.processBuffer_.bind(e)),delete o.default[e.flashEncodedDataName_],s},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(e){var t=0,n=this.mediaSource_.tech_,r=0,i=void 0,a=e.tags.videoTags,o=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(a.length||o.length)){var s=a[0]||{pts:1/0},u=o[0]||{pts:1/0};this.basePtsOffset_=Math.min(u.pts,s.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(r=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(r=Math.max(r,n.currentTime()-this.timestampOffset)),r*=1e3,r+=this.basePtsOffset_):r=this.videoBufferEnd_+.1;var l=a.length;if(l&&a[l-1].pts>=r){for(;--l;){var c=a[l];if(!(c.pts>r)&&(c.keyFrame||c.metaDataTag))break}for(;l&&a[l-1].metaDataTag;)l--}var d=a.slice(l),f=void 0;for(f=isNaN(this.audioBufferEnd_)?r:this.audioBufferEnd_+.1,d.length&&(f=Math.min(f,d[0].pts)),l=0;l<o.length&&!(o[l].pts>=f);)l++;var h=o.slice(l);h.length&&(this.audioBufferEnd_=h[h.length-1].pts),d.length&&(this.videoBufferEnd_=d[d.length-1].pts);var p=this.getOrderedTags_(d,h);if(0!==p.length){if(p[0].pts<r&&n.seeking()){var m=n.currentTime()-(r-p[0].pts)/1e3;m<1/30&&(m=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(m)}catch(y){}}for(var g=0;g<p.length;g++)t+=p[g].bytes.byteLength;i=new Uint8Array(t),g=0;for(var v=0;g<p.length;g++)i.set(p[g].bytes,v),v+=p[g].bytes.byteLength;return i}}},{key:"getOrderedTags_",value:function(e,t){for(var n=void 0,r=[];e.length||t.length;)n=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),r.push(n);return r}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),n}(s.default.EventTarget);r.default=y,n.exports=r.default}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./add-text-track-data":64,"./create-text-tracks-if-necessary":66,"./flash-constants":67,"./flash-transmuxer-worker":70,"./remove-cues-from-track":72,"global/window":32,"mux.js/lib/flv":46,webwackify:76}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var a=i(e("global/window")),o=i(e("mux.js/lib/flv")),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t||{},this.init()}return r(e,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new o.default.Transmuxer(this.options),(e=this.transmuxer).on("data",(function(e){a.default.postMessage({action:"data",segment:e})})),e.on("done",(function(e){a.default.postMessage({action:"done"})}))}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),e}(),u=function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new s(e.data.options):(this.messageHandlers||(this.messageHandlers=new s),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};n.default=function(e){return new u(e)},t.exports=n.default},{"global/window":32,"mux.js/lib/flv":46}],71:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(e("global/window")),s=a(e("global/document")),u=a("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),l=a(e("./virtual-source-buffer")),c=e("./add-text-track-data"),d=e("./codec-utils"),f=function(e){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var n=void 0;for(n in this.nativeMediaSource_=new o.default.MediaSource,this.nativeMediaSource_)n in t.prototype||"function"!==typeof this.nativeMediaSource_[n]||(this[n]=this.nativeMediaSource_[n].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){this.duration_=e,e===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?u.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var n=!1,r=!0,i=0;i<e.player_.audioTracks().length;i++){var a=e.player_.audioTracks()[i];if(a.enabled&&"main"!==a.kind){n=!0,r=!1;break}}e.sourceBuffers.forEach((function(t){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,r=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=r,r))return;e.activeSourceBuffers_.push(t)}))},this.onPlayerMediachange_=function(){e.sourceBuffers.forEach((function(e){e.appendAudioInitSegment_=!0}))},this.onHlsReset_=function(){e.sourceBuffers.forEach((function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})}))},this.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach((function(e){return e.timeMapping_=t.mapping}))},["sourceopen","sourceclose","sourceended"].forEach((function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))}),this),this.on("sourceopen",(function(t){var n=s.default.querySelector('[src="'+e.url_+'"]');n&&(e.player_=(0,u.default)(n.parentNode),e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_))})),this.on("sourceended",(function(t){for(var n=(0,c.durationOfVideo)(e.duration),r=0;r<e.sourceBuffers.length;r++){var i=e.sourceBuffers[r],a=i.metadataTrack_&&i.metadataTrack_.cues;a&&a.length&&(a[a.length-1].endTime=n)}})),this.on("sourceclose",(function(e){this.sourceBuffers.forEach((function(e){e.transmuxer_&&e.transmuxer_.terminate()})),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=(0,d.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var r=[];n.parameters&&n.parameters.codecs&&(r=n.parameters.codecs.split(","),r=(r=(0,d.translateLegacyCodecs)(r)).filter((function(e){return(0,d.isAudioCodec)(e)||(0,d.isVideoCodec)(e)}))),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new l.default(this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(u.default.EventTarget);r.default=f,n.exports=r.default}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./add-text-track-data":64,"./codec-utils":65,"./virtual-source-buffer":75,"global/document":31,"global/window":32}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var r=void 0,i=void 0;if(n&&n.cues)for(r=n.cues.length;r--;)(i=n.cues[r]).startTime<=t&&i.endTime>=e&&n.removeCue(i)},t.exports=n.default},{}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var a=i(e("global/window")),o=i(e("mux.js/lib/mp4")),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t||{},this.init()}return r(e,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new o.default.Transmuxer(this.options),(e=this.transmuxer).on("data",(function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var n=e.data;e.data=n.buffer,a.default.postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])})),e.captionStream&&e.captionStream.on("data",(function(e){a.default.postMessage({action:"caption",data:e})})),e.on("done",(function(e){a.default.postMessage({action:"done"})})),e.on("gopInfo",(function(e){a.default.postMessage({action:"gopInfo",gopInfo:e})}))}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}(),u=function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new s(e.data.options):(this.messageHandlers||(this.messageHandlers=new s),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};n.default=function(e){return new u(e)},t.exports=n.default},{"global/window":32,"mux.js/lib/mp4":55}],74:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=n(e("global/window")),a=n(e("./flash-media-source")),o=n(e("./html-media-source")),s=n("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),u=0,l={mode:"auto"};s.default.mediaSources={};var c=function(e,t){var n=s.default.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},d=function(){return!!i.default.MediaSource&&!!i.default.MediaSource.isTypeSupported&&i.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},f=function(e){var t=s.default.mergeOptions(l,e);if(this.MediaSource={open:c,supportsNativeMediaSources:d},"html5"===t.mode||"auto"===t.mode&&d())return new o.default;if(s.default.getTech("Flash"))return new a.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};r.MediaSource=f,f.open=c,f.supportsNativeMediaSources=d;var h={createObjectURL:function(e){var t=void 0;return e instanceof o.default?(t=i.default.URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof a.default?(t="blob:vjs-media-source/"+u,u++,s.default.mediaSources[t]=e,t):(t=i.default.URL.createObjectURL(e),e.url_=t,t)}};r.URL=h,s.default.MediaSource=f,s.default.URL=h}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./flash-media-source":68,"./html-media-source":71,"global/window":32}],75:[function(e,n,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var a=i("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),o=i(e("./create-text-tracks-if-necessary")),s=i(e("./remove-cues-from-track")),u=e("./add-text-track-data"),l=i(e("webwackify")),c=i(e("./transmuxer-worker")),d=e("./codec-utils"),f=function(e,t,n){if(!t||!e.length)return[];var r=Math.ceil(9e4*(t.currentTime()-n+3)),i=void 0;for(i=0;i<e.length&&!(e[i].pts>r);i++);return e.slice(i)};r.gopsSafeToAlignWith=f;var h=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var r=t[0].pts,i=0;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)};r.updateGopBuffer=h;var p=function(e,t,n,r){for(var i=Math.ceil(9e4*(t-r)),a=Math.ceil(9e4*(n-r)),o=e.slice(),s=e.length;s--&&!(e[s].pts<=a););if(-1===s)return o;for(var u=s+1;u--&&!(e[u].pts<=i););return u=Math.max(u,0),o.splice(u,s-u+1),o};r.removeGopBuffer=p;var m=function(t){function r(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,a.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=t,this.codecs_=n,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=a.default.browser.IE_VERSION>=11;var o={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach((function(e){(0,d.isAudioCodec)(e)?i.audioCodec_=e:(0,d.isVideoCodec)(e)&&(i.videoCodec_=e)})),this.transmuxer_=(0,l.default)(c.default,function(){var t=void 0;try{t=e.resolve("./transmuxer-worker")}catch(n){}return t}()),this.transmuxer_.postMessage({action:"init",options:o}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?i.data_(e):"done"===e.data.action?i.done_(e):"gopInfo"===e.data.action?i.appendGopInfo_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"===typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,n=0,r=[],i=[];if(!this.videoBuffer_&&!this.audioBuffer_)return a.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return a.default.createTimeRange();for(var o=this.videoBuffer_.buffered,s=this.audioBuffer_.buffered,u=o.length;u--;)r.push({time:o.start(u),type:"start"}),r.push({time:o.end(u),type:"end"});for(u=s.length;u--;)r.push({time:s.start(u),type:"start"}),r.push({time:s.end(u),type:"end"});for(r.sort((function(e,t){return e.time-t.time})),u=0;u<r.length;u++)"start"===r[u].type?2===++n&&(e=r[u].time):"end"===r[u].type&&1===--n&&(t=r[u].time),null!==e&&null!==t&&(i.push([e,t]),e=null,t=null);return a.default.createTimeRanges(i)}})}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),n(r,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,o.default)(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach((function(n){if(e[n+"Codec_"]&&!e[n+"Buffer_"]){var r=null;if(e.mediaSource_[n+"Buffer_"])(r=e.mediaSource_[n+"Buffer_"]).updating=!1;else{var i=n+'/mp4;codecs="'+e[n+"Codec_"]+'"';r=function(e,t){var n=e.addSourceBuffer(t),r=Object.create(null);r.updating=!1,r.realBuffer_=n;var i=function(e){"function"===typeof n[e]?r[e]=function(){return n[e].apply(n,arguments)}:"undefined"===typeof r[e]&&Object.defineProperty(r,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})};for(var a in n)i(a);return r}(e.mediaSource_.nativeMediaSource_,i),e.mediaSource_[n+"Buffer_"]=r}e[n+"Buffer_"]=r,["update","updatestart","updateend"].forEach((function(i){r.addEventListener(i,(function(){if("audio"!==n||!e.audioDisabled_)return"updateend"===i&&(e[n+"Buffer_"].updating=!1),t.every((function(t){return!("audio"!==t||!e.audioDisabled_)||n===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating}))?e.trigger(i):void 0}))}))}}))}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:f(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=h(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=p(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),(0,s.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,s.default)(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce((function(e,t){var n=t.type,r=t.data,i=t.initSegment;return e[n].segments.push(r),e[n].bytes+=r.byteLength,e[n].initSegment=i,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e}),e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,u.addTextTrackData)(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,r=void 0;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach((function(e){r.set(e,n),n+=e.byteLength}));try{t.updating=!0,t.appendBuffer(r)}catch(i){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:i.message,originalError:i})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),r}(a.default.EventTarget);r.default=m}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./add-text-track-data":64,"./codec-utils":65,"./create-text-tracks-if-necessary":66,"./remove-cues-from-track":72,"./transmuxer-worker":73,webwackify:76}],76:[function(e,t,r){var i=arguments[3],a=arguments[4],o=arguments[5],s=JSON.stringify,u=!1,l=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=entryModule)};"undefined"===typeof i&&(u=!0,i=l,a=n.m);var c=function(e){for(var t,n=Object.keys(o),r=0;r<n.length;r++){var u=n[r],l=o[u].exports;if(l===e||l&&l.default===e){t=u;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var c={};for(r=0;r<n.length;r++)c[u=n[r]]=u;a[t]=["function(require,module,exports){"+e+"(self); }",c]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};return f[t]=t,a[d]=["function(require,module,exports){var f = require("+s(t)+");(f.default ? f.default : f)(self);}",f],"("+i+")({"+Object.keys(a).map((function(e){return s(e)+":["+a[e][0]+","+s(a[e][1])+"]"})).join(",")+"},{},["+s(d)+"])"},d=function(e,t){var r,o="string"===typeof t;r=o?{}:[],Object.keys(a).forEach((function(e){a[e]&&(r[e]=a[e].toString())}));var u,l=n(t);if(!l||l!==e&&l.default!==e){var c=r[t];r[t]=c.substring(0,c.length-1)+"\n"+e.name+"();\n}"}return o?(t=s(t),u="{"+Object.keys(r).map((function(e){return s(e)+":"+r[e]})).join(",")+"}"):u="["+r.join(",")+"]","var fn = ("+i.toString().replace("entryModule",t)+")("+u+');\n(typeof fn === "function") && fn(self);'};t.exports=function(e,t){var n;n=u?d(e,t):c(e);var r=new Blob([n],{type:"text/javascript"}),i=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(r),a=new Worker(i);return a.objectURL=i,a}},{}],77:[function(e,n,r){(function(t){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}};function a(e){return e&&e.__esModule?e:{default:e}}var o=a(e("global/document")),s=a(e("./playlist-loader")),u=a(e("./playlist")),l=a(e("./xhr")),c=e("aes-decrypter"),d=a(e("./bin-utils")),f=e("videojs-contrib-media-sources"),h=a(e("m3u8-parser")),p=a("undefined"!==typeof window?window.videojs:"undefined"!==typeof t?t.videojs:null),m=e("./master-playlist-controller"),g=a(e("./config")),v=a(e("./rendition-mixin")),y=a(e("global/window")),b=a(e("./playback-watcher")),_=a(e("./reload-source-on-error")),w=e("./playlist-selectors.js"),T={PlaylistLoader:s.default,Playlist:u.default,Decrypter:c.Decrypter,AsyncStream:c.AsyncStream,decrypt:c.decrypt,utils:d.default,STANDARD_PLAYLIST_SELECTOR:w.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:w.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:w.comparePlaylistBandwidth,comparePlaylistResolution:w.comparePlaylistResolution,xhr:(0,l.default)()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(e){Object.defineProperty(T,e,{get:function(){return p.default.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),g.default[e]},set:function(t){p.default.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!==typeof t||t<0?p.default.log.warn("value of Hls."+e+" must be greater than or equal to 0"):g.default[e]=t}})}));var S=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.uri){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};T.canPlaySource=function(){return p.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},T.supportsNativeHls=function(){var e=o.default.createElement("video");return!!p.default.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),T.isSupported=function(){return p.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var E=function(e){function t(e,n,r){var a=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n,r.hls),n.options_&&n.options_.playerId){var s=(0,p.default)(n.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return p.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),a}})}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(o.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=o.default.fullscreenElement||o.default.webkitFullscreenElement||o.default.mozFullScreenElement||o.default.msFullscreenElement;t&&t.contains(a.tech_.el())&&a.masterPlaylistController_.fastQualityChange_()})),this.on(this.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),this.on(this.tech_,"error",(function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),this.on(this.tech_,"play",this.play)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"setOptions_",value:function(){var e=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!==typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth","handleManifestRedirects"].forEach((function(t){"undefined"!==typeof e.source_[t]&&(e.options_[t]=e.source_[t])})),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e){var t=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=T,this.masterPlaylistController_=new m.MasterPlaylistController(this.options_),this.playbackWatcher_=new b.default(p.default.mergeOptions(this.options_,{seekable:function(){return t.seekable()}})),this.masterPlaylistController_.on("error",(function(){p.default.players[t.tech_.options_.playerId].error(t.masterPlaylistController_.error)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):T.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=T.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){p.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return t.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return t.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return t.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return t.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return t.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return t.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return t.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return t.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",(function(){(0,v.default)(t)})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.tech_.ready((function(){return t.setupQualityLevels_()})),this.tech_.el()&&this.tech_.src(p.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=p.default.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),S(t,n.playlists)})),this.playlists.on("mediachange",(function(){S(e.qualityLevels_,e.playlists)})))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),i(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]),t}(p.default.getComponent("Component")),k=function e(t){return{canHandleSource:function(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=p.default.mergeOptions(p.default.options,r);return(!i.hls||!i.hls.mode||i.hls.mode===t)&&e.canPlayType(n.type,i)},handleSource:function(e,n){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=p.default.mergeOptions(p.default.options,r,{hls:{mode:t}});return"flash"===t&&n.setTimeout((function(){n.trigger("loadstart")}),1),n.hls=new E(e,n,i),n.hls.xhr=(0,l.default)(),n.hls.src(e.src),n.hls},canPlayType:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=p.default.mergeOptions(p.default.options,n);return e.canPlayType(t,r)?"maybe":""}}};k.canPlayType=function(e,t){return!(p.default.browser.IE_VERSION&&p.default.browser.IE_VERSION<=10)&&!(!t.hls.overrideNative&&T.supportsNativeHls)&&/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)},"undefined"!==typeof p.default.MediaSource&&"undefined"!==typeof p.default.URL||(p.default.MediaSource=f.MediaSource,p.default.URL=f.URL);var x=p.default.getTech("Flash");f.MediaSource.supportsNativeMediaSources()&&p.default.getTech("Html5").registerSourceHandler(k("html5"),0),y.default.Uint8Array&&x&&x.registerSourceHandler(k("flash")),p.default.HlsHandler=E,p.default.HlsSourceHandler=k,p.default.Hls=T,p.default.use||p.default.registerComponent("Hls",T),p.default.m3u8=h.default,p.default.options.hls=p.default.options.hls||{},p.default.registerPlugin?p.default.registerPlugin("reloadSourceOnError",_.default):p.default.plugin("reloadSourceOnError",_.default),n.exports={Hls:T,HlsHandler:E,HlsSourceHandler:k}}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bin-utils":2,"./config":3,"./master-playlist-controller":5,"./playback-watcher":8,"./playlist":11,"./playlist-loader":9,"./playlist-selectors.js":10,"./reload-source-on-error":13,"./rendition-mixin":14,"./xhr":21,"aes-decrypter":25,"global/document":31,"global/window":32,"m3u8-parser":33,"videojs-contrib-media-sources":74}]},{},[77])(77)}).call(this,n("yLpj"))},XQvf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n("q1tI"),o=(r=a)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,a,l;s(this,r);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];return a=l=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(d))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return o.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},o.default.createElement(e,i({},l.props,l.state)))},u(l,a)}return l(r,n),r}(o.default.Component)};t.default=c},YZDV:function(e,t,n){"use strict";var r=n("rzV7");e.exports=function(e,t,n){return!r(e.props,t)||!r(e.state,n)}},Yd4P:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n("q1tI"))&&r.__esModule?r:{default:r};function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?f(e):t}function d(e){return(d=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"hidden",zIndex:-1,visibility:"hidden",pointerEvents:"none"},m={position:"absolute",left:0,top:0,transition:"0s"};function g(e,t){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}var v=function(e){function t(){var e,n,r;s(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return c(r,(n=r=c(this,(e=d(t)).call.apply(e,[this].concat(a))),h(f(f(r)),"_expandRef",null),h(f(f(r)),"_shrinkRef",null),h(f(f(r)),"_node",null),h(f(f(r)),"_lastWidth",void 0),h(f(f(r)),"_lastHeight",void 0),h(f(f(r)),"_lastRect",void 0),h(f(f(r)),"_hasResize",!1),h(f(f(r)),"_handleScroll",(function(e){(r.props.onPosition||r.props.onReflow||r.props.onResize)&&(r._globalScollTarget(e.target)||r._refScrollTarget(e.target)||r._ancestorScollTarget(e.target))&&r._reflow()})),h(f(f(r)),"_globalScollTarget",(function(e){return e instanceof Node&&(r.props.onPosition||r.props.onReflow)&&(e===document||e===document.documentElement||e===document.body)})),h(f(f(r)),"_refScrollTarget",(function(e){if(e instanceof HTMLElement&&(e===r._expandRef||e===r._shrinkRef)){var t=e.offsetWidth,n=e.offsetHeight;if(t!==r._lastWidth||n!==r._lastHeight)return r._lastWidth=t,r._lastHeight=n,r._reset(r._expandRef),r._reset(r._shrinkRef),!0}return!1})),h(f(f(r)),"_ancestorScollTarget",(function(e){return e instanceof Node&&(r.props.onPosition||r.props.onReflow)&&r._node&&g(r._node,e)})),h(f(f(r)),"_reflow",(function(){if(r._node&&r._node.parentNode instanceof Element){var e=r._node.parentNode.getBoundingClientRect(),t=!0,n=!0;r._lastRect&&(t=e.width!==r._lastRect.width||e.height!==r._lastRect.height,n=e.top!==r._lastRect.top||e.left!==r._lastRect.left),r._lastRect=e,t&&r.props.onResize&&r.props.onResize(e),n&&r.props.onPosition&&r.props.onPosition(e),(t||n)&&r.props.onReflow&&r.props.onReflow(e)}})),h(f(f(r)),"_handleRef",(function(e){r._node=e})),h(f(f(r)),"_handleExpandRef",(function(e){r._reset(e),r._expandRef=e})),h(f(f(r)),"_handleShrinkRef",(function(e){r._reset(e),r._shrinkRef=e})),n))}var n,r,a;return n=t,(r=[{key:"componentDidMount",value:function(){this._reflow(),window.addEventListener("scroll",this._handleScroll,!0),(this.props.onPosition||this.props.onReflow)&&(window.addEventListener("resize",this._reflow,!0),this._hasResize=!0)}},{key:"componentDidUpdate",value:function(){!this.props.onPosition&&!this.props.onReflow||this._hasResize?this.props.onPosition||this.props.onReflow||!this._hasResize||(window.removeEventListener("resize",this._reflow,!0),this._hasResize=!1):(window.addEventListener("resize",this._reflow,!0),this._hasResize=!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this._handleScroll,!0),this._hasResize&&window.removeEventListener("resize",this._reflow,!0)}},{key:"_reset",value:function(e){e&&(e.scrollLeft=1e5,e.scrollTop=1e5)}},{key:"render",value:function(){return this.props.onResize||this.props.onReflow?i.default.createElement("div",{style:p,ref:this._handleRef},i.default.createElement("div",{ref:this._handleExpandRef,style:p},i.default.createElement("div",{style:o({},m,{width:1e5,height:1e5})})),i.default.createElement("div",{ref:this._handleShrinkRef,style:p},i.default.createElement("div",{style:o({},m,{width:"200%",height:"200%"})}))):i.default.createElement("noscript",{ref:this._handleRef})}}])&&l(n.prototype,r),a&&l(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");u(e.prototype,t&&t.prototype),t&&u(e,t)}(t,e),t}(i.default.Component);h(v,"displayName","ResizeObserver");var y=v;t.default=y},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},ZDp4:function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},e.exports.default=e.exports,e.exports.__esModule=!0},ZESv:function(e,t){var n=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var t,r={},i=n(e).split("\n"),a=0;a<i.length;a++){var o=i[a],s=o.indexOf(":"),u=n(o.slice(0,s)).toLowerCase(),l=n(o.slice(s+1));"undefined"===typeof r[u]?r[u]=l:(t=r[u],"[object Array]"===Object.prototype.toString.call(t)?r[u].push(l):r[u]=[r[u],l])}return r}},ZhPi:function(e,t,n){var r=n("WkPL");e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},Zss7:function(e,t,n){var r;!function(i){var a=/^\s+/,o=/\s+$/,s=0,u=i.round,l=i.min,c=i.max,d=i.random;function f(e,t){if(t=t||{},(e=e||"")instanceof f)return e;if(!(this instanceof f))return new f(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,d=!1,f=!1;"string"==typeof e&&(e=function(e){e=e.replace(a,"").replace(o,"").toLowerCase();var t,n=!1;if(R[e])e=R[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=F.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=F.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=F.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=F.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=F.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=F.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=F.hex8.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=F.hex6.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:n?"name":"hex"};if(t=F.hex4.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=F.hex3.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(H(e.r)&&H(e.g)&&H(e.b)?(h=e.r,p=e.g,m=e.b,t={r:255*L(h,255),g:255*L(p,255),b:255*L(m,255)},d=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):H(e.h)&&H(e.s)&&H(e.v)?(r=j(e.s),s=j(e.v),t=function(e,t,n){e=6*L(e,360),t=L(t,100),n=L(n,100);var r=i.floor(e),a=e-r,o=n*(1-t),s=n*(1-a*t),u=n*(1-(1-a)*t),l=r%6;return{r:255*[n,s,o,o,u,n][l],g:255*[u,n,n,s,o,o][l],b:255*[o,o,u,n,n,s][l]}}(e.h,r,s),d=!0,f="hsv"):H(e.h)&&H(e.s)&&H(e.l)&&(r=j(e.s),u=j(e.l),t=function(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=L(e,360),t=L(t,100),n=L(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=o(u,s,e+1/3),i=o(u,s,e),a=o(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,u),d=!0,f="hsl"),e.hasOwnProperty("a")&&(n=e.a));var h,p,m;return n=I(n),{ok:d,format:e.format||f,r:l(255,c(t.r,0)),g:l(255,c(t.g,0)),b:l(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function h(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r,i,a=c(e,t,n),o=l(e,t,n),s=(a+o)/2;if(a==o)r=i=0;else{var u=a-o;switch(i=s>.5?u/(2-a-o):u/(a+o),a){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r,i,a=c(e,t,n),o=l(e,t,n),s=a,u=a-o;if(i=0===a?0:u/a,a==o)r=0;else{switch(a){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function m(e,t,n,r){var i=[N(u(e).toString(16)),N(u(t).toString(16)),N(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(e,t,n,r){return[N(U(r)),N(u(e).toString(16)),N(u(t).toString(16)),N(u(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s-=t/100,n.s=M(n.s),f(n)}function y(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s+=t/100,n.s=M(n.s),f(n)}function b(e){return f(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l+=t/100,n.l=M(n.l),f(n)}function w(e,t){t=0===t?0:t||10;var n=f(e).toRgb();return n.r=c(0,l(255,n.r-u(-t/100*255))),n.g=c(0,l(255,n.g-u(-t/100*255))),n.b=c(0,l(255,n.b-u(-t/100*255))),f(n)}function T(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l-=t/100,n.l=M(n.l),f(n)}function S(e,t){var n=f(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,f(n)}function E(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)}function k(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]}function x(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]}function A(e,t,n){t=t||6,n=n||30;var r=f(e).toHsl(),i=360/n,a=[f(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(f(r));return a}function O(e,t){t=t||6;for(var n=f(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(f({h:r,s:i,v:a})),a=(a+s)%1;return o}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var a=[N(u(e).toString(16)),N(u(t).toString(16)),N(u(n).toString(16)),N(U(r))];if(i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*L(this._r,255))+"%",g:u(100*L(this._g,255))+"%",b:u(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*L(this._r,255))+"%, "+u(100*L(this._g,255))+"%, "+u(100*L(this._b,255))+"%)":"rgba("+u(100*L(this._r,255))+"%, "+u(100*L(this._g,255))+"%, "+u(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=f(e);n="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(T,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},f.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:j(e[r]));e=n}return f(e,t)},f.equals=function(e,t){return!(!e||!t)&&f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:d(),g:d(),b:d()})},f.mix=function(e,t,n){n=0===n?0:n||50;var r=f(e).toRgb(),i=f(t).toRgb(),a=n/100;return f({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},f.readability=function(e,t){var n=f(e),r=f(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(e,t,n){var r,i,a=f.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},f.mostReadable=function(e,t,n){var r,i,a,o,s=null,u=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var l=0;l<t.length;l++)(r=f.readability(e,t[l]))>u&&(u=r,s=f(t[l]));return f.isReadable(e,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,f.mostReadable(e,["#fff","#000"],n))};var R=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=f.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(R);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function L(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function M(e){return l(1,c(0,e))}function D(e){return parseInt(e,16)}function N(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function U(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return D(e)/255}var F=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function H(e){return!!F.CSS_UNIT.exec(e)}e.exports?e.exports=f:void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}(Math)},ZyuO:function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n("yLpj"))},a1gu:function(e,t,n){var r=n("cDf5").default,i=n("PJYZ");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},a3WO:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},bCCX:function(e,t,n){"use strict";(function(e,r){var i,a=n("SLVX");i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n("yLpj"),n("3UD+")(e))},cDf5:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},ctdY:function(e,t,n){"use strict";var r=n("/ceM"),i=r.e&&CSS?CSS.px:"px",a=r.e&&CSS?CSS.ms:"ms",o=r.e&&CSS?CSS.percent:"%";function s(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var u=s({"animation-delay":a,"animation-duration":a,"background-position":i,"background-position-x":i,"background-position-y":i,"background-size":i,border:i,"border-bottom":i,"border-bottom-left-radius":i,"border-bottom-right-radius":i,"border-bottom-width":i,"border-left":i,"border-left-width":i,"border-radius":i,"border-right":i,"border-right-width":i,"border-top":i,"border-top-left-radius":i,"border-top-right-radius":i,"border-top-width":i,"border-width":i,"border-block":i,"border-block-end":i,"border-block-end-width":i,"border-block-start":i,"border-block-start-width":i,"border-block-width":i,"border-inline":i,"border-inline-end":i,"border-inline-end-width":i,"border-inline-start":i,"border-inline-start-width":i,"border-inline-width":i,"border-start-start-radius":i,"border-start-end-radius":i,"border-end-start-radius":i,"border-end-end-radius":i,margin:i,"margin-bottom":i,"margin-left":i,"margin-right":i,"margin-top":i,"margin-block":i,"margin-block-end":i,"margin-block-start":i,"margin-inline":i,"margin-inline-end":i,"margin-inline-start":i,padding:i,"padding-bottom":i,"padding-left":i,"padding-right":i,"padding-top":i,"padding-block":i,"padding-block-end":i,"padding-block-start":i,"padding-inline":i,"padding-inline-end":i,"padding-inline-start":i,"mask-position-x":i,"mask-position-y":i,"mask-size":i,height:i,width:i,"min-height":i,"max-height":i,"min-width":i,"max-width":i,bottom:i,left:i,top:i,right:i,inset:i,"inset-block":i,"inset-block-end":i,"inset-block-start":i,"inset-inline":i,"inset-inline-end":i,"inset-inline-start":i,"box-shadow":i,"text-shadow":i,"column-gap":i,"column-rule":i,"column-rule-width":i,"column-width":i,"font-size":i,"font-size-delta":i,"letter-spacing":i,"text-decoration-thickness":i,"text-indent":i,"text-stroke":i,"text-stroke-width":i,"word-spacing":i,motion:i,"motion-offset":i,outline:i,"outline-offset":i,"outline-width":i,perspective:i,"perspective-origin-x":o,"perspective-origin-y":o,"transform-origin":o,"transform-origin-x":o,"transform-origin-y":o,"transform-origin-z":o,"transition-delay":a,"transition-duration":a,"vertical-align":i,"flex-basis":i,"shape-margin":i,size:i,gap:i,grid:i,"grid-gap":i,"row-gap":i,"grid-row-gap":i,"grid-column-gap":i,"grid-template-rows":i,"grid-template-columns":i,"grid-auto-rows":i,"grid-auto-columns":i,"box-shadow-x":i,"box-shadow-y":i,"box-shadow-blur":i,"box-shadow-spread":i,"font-line-height":i,"text-shadow-x":i,"text-shadow-y":i,"text-shadow-blur":i});function l(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=l(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var a in t)t[a]=l(a,t[a],n);else for(var o in t)t[o]=l(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var s=n[e]||u[e];return!s||0===t&&s===i?t.toString():"function"===typeof s?s(t).toString():""+t+s}return t}t.a=function(e){void 0===e&&(e={});var t=s(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=l(r,e[r],t);return e},onChangeValue:function(e,n){return l(n,e,t)}}}},dI71:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("s4An");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},dRu9:function(e,t,n){"use strict";var r=n("zLVn"),i=n("dI71"),a=(n("17x9"),n("q1tI")),o=n.n(a),s=n("i8i4"),u=n.n(s),l=!1,c=n("0PSK"),d=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[u.a.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||l?this.safeSetState({status:"entered"},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:"entering"},(function(){t.props.onEntering(a,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.a.findDOMNode(this);t&&!l?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(c.a.Provider,{value:null},"function"===typeof n?n(e,i):o.a.cloneElement(o.a.Children.only(n),i))},t}(o.a.Component);function f(){}d.contextType=c.a,d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},d.UNMOUNTED="unmounted",d.EXITED="exited",d.ENTERING="entering",d.ENTERED="entered",d.EXITING="exiting";t.a=d},e0ae:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},a=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},o=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(t){return t?p(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!==typeof navigator?p(navigator.userAgent):"undefined"!==typeof e&&e.version?new a(e.version.slice(1)):null}function h(e){return""!==e&&c.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var a=i.exec(e);return!!a&&[r,a]}),!1)}function p(e){var t=h(e);if(!t)return null;var n=t[0],a=t[1];if("searchbot"===n)return new s;var u=a[1]&&a[1].split(/[._]/).slice(0,3);u?u.length<3&&(u=r(u,function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-u.length))):u=[];var c=u.join("."),f=function(e){for(var t=0,n=d.length;t<n;t++){var r=d[t],i=r[0];if(r[1].exec(e))return i}return null}(e),p=l.exec(e);return p&&p[1]?new o(n,c,f,p[1]):new i(n,c,f)}}).call(this,n("8oxB"))},endd:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},eqyj:function(e,t,n){"use strict";var r=n("xTJ+");e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},etWC:function(e,t,n){"use strict";var r=n("wx14"),i=n("/ceM"),a="@global",o=function(){function e(e,t,n){for(var o in this.type="global",this.at=a,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new i.a(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),s=function(){function e(e,t,n){this.type="global",this.at=a,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var i=e.substr("@global ".length);this.rule=n.jss.createRule(i,t,Object(r.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),u=/\s*,\s*/g;function l(e,t){for(var n=e.split(u),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}t.a=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===a)return new o(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new s(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,o=i?i[a]:null;if(o){for(var s in o)t.addRule(s,o[s],Object(r.a)({},n,{selector:l(s,e.selector)}));delete i[a]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var o in i)if("@"===o[0]&&o.substr(0,a.length)===a){var s=l(o.substr(a.length),e.selector);t.addRule(s,i[o],Object(r.a)({},n,{selector:s})),delete i[o]}}(e,t))}}}},g2LC:function(e,t){e.exports=function(e){if(!e)return!1;var t=n.call(e);return"[object Function]"===t||"function"===typeof e&&"[object RegExp]"!==t||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},"iVi/":function(e,t,n){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},o=e.split(a),u=i.decode||r,l=0;l<o.length;l++){var c=o[l],d=c.indexOf("=");if(!(d<0)){var f=c.substr(0,d).trim(),h=c.substr(++d,c.length).trim();'"'==h[0]&&(h=h.slice(1,-1)),void 0==n[f]&&(n[f]=s(h,u))}}return n},t.serialize=function(e,t,n){var r=n||{},a=r.encode||i;if("function"!==typeof a)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!o.test(s))throw new TypeError("argument val is invalid");var u=e+"="+s;if(null!=r.maxAge){var l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(r.domain){if(!o.test(r.domain))throw new TypeError("option domain is invalid");u+="; Domain="+r.domain}if(r.path){if(!o.test(r.path))throw new TypeError("option path is invalid");u+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(u+="; HttpOnly");r.secure&&(u+="; Secure");if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var r=decodeURIComponent,i=encodeURIComponent,a=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(n){return e}}},iuhU:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},j6jG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,i=!("undefined"===typeof window||!window.document||!window.document.createElement);function a(e){if((!r&&0!==r||e)&&i){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}},jBAH:function(e,t){e.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}},"jfS+":function(e,t,n){"use strict";var r=n("endd");function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},jtUC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw new Error('Reducer "'+t+'" returned undefined when handling "'+n.type+'" action. To ignore an action, you must explicitly return the previous state.')},e.exports=t.default},kyxN:function(e,t,n){"use strict";t.a=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}}},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},lreK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=o(n("Ag8Z")),i=o(n("BkRI")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=a({},n[t],i[t])})),t})),n};t.default=s},ls82:function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(x){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return k()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(x){return{type:"throw",arg:x}}}e.wrap=u;var c={};function d(){}function f(){}function h(){}var p={};p[i]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(E([])));g&&g!==t&&n.call(g,i)&&(p=g);var v=h.prototype=d.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=v.constructor=h,h.constructor=f,f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[a]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),s(v,o,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},lvxX:function(e,t,n){"use strict";var r=n("zteo"),i=n("KQm4"),a="",o="",s="",u="",l=r.a&&"ontouchstart"in document.documentElement;if(r.a){var c={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},d=document.createElement("p").style;for(var f in c)if(f+"Transform"in d){a=f,o=c[f];break}"Webkit"===a&&"msHyphens"in d&&(a="ms",o=c.ms,u="edge"),"Webkit"===a&&"-apple-trailing-word"in d&&(s="apple")}var h=a,p=o,m=s,g=u,v=l;var y={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===h?"-webkit-"+e:p+e)}},b={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===h?p+"print-"+e:e)}},_=/[-\s]+(.)?/g;function w(e,t){return t?t.toUpperCase():""}function T(e){return e.replace(_,w)}function S(e){return T("-"+e)}var E,k={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===h){if(T("mask-image")in t)return e;if(h+S("mask-image")in t)return p+e}return e}},x={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==m||v?e:p+e)}},C={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:p+e)}},A={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:p+e)}},O={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===h||"ms"===h&&"edge"!==g?p+e:e)}},R={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===h||"ms"===h||"apple"===m?p+e:e)}},P={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===h?"WebkitColumn"+S(e)in t&&p+"column-"+e:"Moz"===h&&("page"+S(e)in t&&"page-"+e))}},I={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===h)return e;var n=e.replace("-inline","");return h+S(n)in t&&p+n}},L={supportedProperty:function(e,t){return T(e)in t&&e}},M={supportedProperty:function(e,t){var n=S(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:h+n in t?p+e:"Webkit"!==h&&"Webkit"+n in t&&"-webkit-"+e}},D={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===h?""+p+e:e)}},N={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===h?p+"scroll-chaining":e)}},j={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},U={supportedProperty:function(e,t){var n=j[e];return!!n&&(h+S(n)in t&&p+n)}},B={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},F=Object.keys(B),H=function(e){return p+e},G=[y,b,k,x,C,A,O,R,P,I,L,M,D,N,U,{supportedProperty:function(e,t,n){var r=n.multiple;if(F.indexOf(e)>-1){var i=B[e];if(!Array.isArray(i))return h+S(i)in t&&p+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(h+S(i[0])in t))return!1;return i.map(H)}return!1}}],V=G.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),z=G.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(i.a)(t.noPrefill)),e}),[]),W={};if(r.a){E=document.createElement("p");var q=window.getComputedStyle(document.documentElement,"");for(var K in q)isNaN(K)||(W[q[K]]=q[K]);z.forEach((function(e){return delete W[e]}))}function X(e,t){if(void 0===t&&(t={}),!E)return e;if(null!=W[e])return W[e];"transition"!==e&&"transform"!==e||(t[e]=e in E.style);for(var n=0;n<V.length&&(W[e]=V[n](e,E.style,t),!W[e]);n++);try{E.style[e]=""}catch(r){return!1}return W[e]}var Y,$={},J={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Q=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Z(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?X(t):", "+X(n);return r||(t||n)}function ee(e,t){var n=t;if(!Y||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=$[r])return $[r];try{Y.style[e]=n}catch(i){return $[r]=!1,!1}if(J[e])n=n.replace(Q,Z);else if(""===Y.style[e]&&("-ms-flex"===(n=p+n)&&(Y.style[e]="-ms-flexbox"),Y.style[e]=n,""===Y.style[e]))return $[r]=!1,!1;return Y.style[e]="",$[r]=n,$[r]}r.a&&(Y=document.createElement("p"));var te=n("/ceM");t.a=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=X(n);a&&a!==n&&(i=!0);var o=!1,s=ee(a,Object(te.f)(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===h?e:"@"+p+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return ee(t,Object(te.f)(e))||e}}}},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},m0LI:function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.default=e.exports,e.exports.__esModule=!0},"mU/f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("Mpt7"),a=(r=i)&&r.__esModule?r:{default:r},o=n("xBx/");t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default.Map,n=Object.keys(e);return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t(),i=arguments[1];return r.withMutations((function(t){n.forEach((function(n){var r=(0,e[n])(t.get(n),i);(0,o.validateNextState)(r,n,i),t.set(n,r)}))}))}},e.exports=t.default},mhMR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"@@redux/INIT"===e.type?"initialState argument passed to createStore":"previous state received by the reducer"},e.exports=t.default},mrSG:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return f}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function l(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}function f(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}},o0o1:function(e,t,n){e.exports=n("ls82")},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},qT12:function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function T(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case g:case l:return e;default:return t}}case a:return t}}}function S(e){return T(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||T(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return T(e)===c},t.isContextProvider=function(e){return T(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return T(e)===h},t.isFragment=function(e){return T(e)===o},t.isLazy=function(e){return T(e)===v},t.isMemo=function(e){return T(e)===g},t.isPortal=function(e){return T(e)===a},t.isProfiler=function(e){return T(e)===u},t.isStrictMode=function(e){return T(e)===s},t.isSuspense=function(e){return T(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===u||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===y)},t.typeOf=T},rePB:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},rzV7:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}e.exports=function(e,t){if(i(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var o=0;o<n.length;o++)if(!r.call(t,n[o])||!i(e[n[o]],t[n[o]]))return!1;return!0}},s4An:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},sDzi:function(e,t){var n={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(e){return"string"===typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function o(e,t,r){var o=this,s=/MSIE\s8\.0/.test(navigator.userAgent),u={};s?o=document.createElement("custom"):u.enumerable=!0,o.hasBeenReset=!1;var l="",c=!1,d=e,f=t,h=r,p=null,m="",g=!0,v="auto",y="start",b=50,_="middle",w=50,T="middle";if(Object.defineProperty(o,"id",a({},u,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(o,"pauseOnExit",a({},u,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(o,"startTime",a({},u,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",a({},u,{get:function(){return f},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",a({},u,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",a({},u,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",a({},u,{get:function(){return m},set:function(e){var t=function(e){return"string"===typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",a({},u,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",a({},u,{get:function(){return v},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",a({},u,{get:function(){return y},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",a({},u,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",a({},u,{get:function(){return _},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",a({},u,{get:function(){return w},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",a({},u,{get:function(){return T},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),o.displayState=void 0,s)return o}o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=o},sINF:function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var i=r();i.withExtraArgument=r,t.a=i},tQ2B:function(e,t,n){"use strict";var r=n("xTJ+"),i=n("Rn+g"),a=n("MLWZ"),o=n("w0Vi"),s=n("OTTw"),u=n("LYNF");e.exports=function(e){return new Promise((function(t,l){var c=e.data,d=e.headers;r.isFormData(c)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",p=e.auth.password||"";d.Authorization="Basic "+btoa(h+":"+p)}if(f.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?o(f.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};i(t,l,r),f=null}},f.onerror=function(){l(u("Network Error",e,null,f)),f=null},f.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var m=n("eqyj"),g=(e.withCredentials||s(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in f&&r.forEach(d,(function(e,t){"undefined"===typeof c&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)})),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(v){if("json"!==e.responseType)throw v}"function"===typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),l(e),f=null)})),void 0===c&&(c=null),f.send(c)}))}},ulZh:function(e,t,n){e.exports=function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){var n=t[o][1][e];return i(n||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"===typeof e}function a(e){return"object"===typeof e&&null!==e}function o(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),r=(l=n.slice()).length,u=0;u<r;u++)l[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){!function(e){var r=/^([^#]*)(.*)$/,i=/^([^\?]*)(.*)$/,a=/^(([a-z]+:\/\/)?[^:\/]+(?::[0-9]+)?)?(\/?.*)$/i,o={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var n=null,s=null,u=r.exec(t);u&&(s=u[2],t=u[1]);var l=i.exec(t);l&&(n=l[2],t=l[1]);var c=r.exec(e);c&&(e=c[1]);var d=i.exec(e);d&&(e=d[1]);var f=a.exec(e);if(!f)throw new Error("Error trying to parse base URL.");var h=f[2]||"",p=f[1]||"",m=f[3];0!==m.indexOf("/")&&""!==p&&(m="/"+m);var g=null;return g=/^\/\//.test(t)?h+o.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?p+"/"+o.buildAbsolutePath("",t.substring(1)):o.buildAbsolutePath(p+m,t),n&&(g+=n),s&&(g+=s),g},buildAbsolutePath:function(e,t){for(var n,r,i=t,a="",o=e.replace(/[^\/]*$/,i.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),s=0;(r=o.indexOf("/../",s))>-1;s=r+n)n=/^\/(?:\.\.\/)*/.exec(o.slice(r))[0].length,a=(a+o.substring(s,r)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(n-1)/3+"}$"),"/");return a+o.substr(s)}};"object"===typeof n&&"object"===typeof t?t.exports=o:"object"===typeof n?n.URLToolkit=o:e.URLToolkit=o}(this)},{}],3:[function(e,t,n){var r=arguments[3],i=arguments[4],a=arguments[5],o=JSON.stringify;t.exports=function(e,t){for(var n,s=Object.keys(a),u=0,l=s.length;u<l;u++){var c=s[u],d=a[c].exports;if(d===e||d&&d.default===e){n=c;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var f={};for(u=0,l=s.length;u<l;u++)f[c=s[u]]=c;i[n]=[Function(["require","module","exports"],"("+e+")(self)"),f]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[n]=n,i[h]=[Function(["require"],"var f = require("+o(n)+");(f.default ? f.default : f)(self);"),p];var m={};!function e(t){for(var n in m[t]=!0,i[t][1]){var r=i[t][1][n];m[r]||e(r)}}(h);var g="("+r+")({"+Object.keys(m).map((function(e){return o(e)+":["+i[e][0]+","+o(i[e][1])+"]"})).join(",")+"},{},["+o(h)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return y;var b=v.createObjectURL(y),_=new Worker(b);return _.objectURL=b,_}},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(e(28)),a=c(e(27)),o=c(e(30)),s=e(26),u=e(45),l=c(e(9));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.FRAG_LOADING,i.default.FRAG_LOADED,i.default.FRAG_BUFFERED,i.default.ERROR));return n.lastLoadedFragLevel=0,n._autoLevelCapping=-1,n._nextAutoLevel=-1,n.hls=e,n.onCheck=n.abandonRulesCheck.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.clearTimer(),a.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this.bwEstimator){var n=this.hls,r=e.frag.level,i=n.levels[r].details.live,a=n.config,o=void 0,s=void 0;i?(o=a.abrEwmaFastLive,s=a.abrEwmaSlowLive):(o=a.abrEwmaFastVoD,s=a.abrEwmaSlowVoD),this.bwEstimator=new l.default(n,s,o,a.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:"abandonRulesCheck",value:function(){var e=this.hls,t=e.media,n=this.fragCurrent,r=n.loader,a=this.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var s=r.stats;if(t&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var l=performance.now()-s.trequest,c=Math.abs(t.playbackRate);if(l>500*n.duration/c){var d=e.levels,f=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/l),h=d[n.level],p=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,m=s.total?s.total:Math.max(s.loaded,Math.round(n.duration*p/8)),g=t.currentTime,v=(m-s.loaded)/f,y=(o.default.bufferInfo(t,g,e.config.maxBufferHole).end-g)/c;if(y<2*n.duration/c&&v>y){var b=void 0,_=void 0;for(_=n.level-1;_>a;_--){var w=d[_].realBitrate?Math.max(d[_].realBitrate,d[_].bitrate):d[_].bitrate;if((b=n.duration*w/(6.4*f))<y)break}b<v&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+_+":fragLoadedDelay["+_+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+v.toFixed(1)+":"+y.toFixed(1)),e.nextLoadLevel=_,this.bwEstimator.sample(l,s.loaded),r.abort(),this.clearTimer(),e.trigger(i.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:s}))}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if("main"===t.type){this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1;var n=this.hls.levels[t.level],r=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,i=(n.loaded?n.loaded.duration:0)+e.frag.duration;if(n.loaded={bytes:r,duration:i},n.realBitrate=Math.round(8*r/i),e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}}},{key:"onFragBuffered",value:function(e){var t=e.stats,n=e.frag;if(!0!==t.aborted&&1===n.loadCounter&&"main"===n.type&&(!n.bitrateTest||t.tload===t.tbuffered)){var r=t.tparsed-t.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this.bwEstimator.sample(r,t.loaded),n.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}}},{key:"onError",value:function(e){switch(e.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"findBestLevel",value:function(e,t,n,r,i,a,o,s,l){for(var c=i;c>=r;c--){var d=l[c].details,f=d?d.totalduration/d.fragments.length:t,h=!!d&&d.live,p=void 0;p=c<=e?o*n:s*n;var m=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,g=m*f/p;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(p)+"/"+m+"/"+f+"/"+a+"/"+g),p>m&&(!g||h||g<a))return c}return-1}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping=e}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator,n=this.hls,r=n.levels,i=n.config.minAutoBitrate;if(-1!==e&&(!t||!t.canEstimate()))return Math.min(e,this.maxAutoLevel);var a=this.nextABRAutoLevel;if(-1!==e&&(a=Math.min(e,a)),void 0!==i)for(var o=r[a].realBitrate?Math.max(r[a].realBitrate,r[a].bitrate):r[a].bitrate;o<i;)a++;return a},set:function(e){this._nextAutoLevel=e}},{key:"minAutoLevel",get:function(){for(var e=this.hls,t=e.levels,n=e.config.minAutoBitrate,r=t?t.length:0,i=0;i<r;i++)if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>n)return i;return 0}},{key:"maxAutoLevel",get:function(){var e=this.hls.levels,t=this._autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextABRAutoLevel",get:function(){var e=this.hls,t=this.maxAutoLevel,n=e.levels,r=e.config,i=this.minAutoLevel,a=e.media,s=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=a?a.currentTime:0,d=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,f=this.bwEstimator?this.bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,h=(o.default.bufferInfo(a,c,r.maxBufferHole).end-c)/d,p=this.findBestLevel(s,l,f,i,t,h,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(p>=0)return p;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var m=l?Math.min(l,r.maxStarvationDelay):r.maxStarvationDelay,g=r.abrBandWidthFactor,v=r.abrBandWidthUpFactor;if(0===h){var y=this.bitrateTestDelay;y&&(m=(l?Math.min(l,r.maxLoadingDelay):r.maxLoadingDelay)-y,u.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*m)+" ms"),g=v=1)}return p=this.findBestLevel(s,l,f,i,t,h+m,g,v,n),Math.max(p,0)}}]),t}(a.default);n.default=d},{26:26,27:27,28:28,30:30,45:45,9:9}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(e(41)),o=p(e(30)),s=p(e(22)),u=p(e(28)),l=p(e(27)),c=p(e(31)),d=p(e(46)),f=e(26),h=e(45);function p(e){return e&&e.__esModule?e:{default:e}}var m="STOPPED",g="STARTING",v="IDLE",y="PAUSED",b="KEY_LOADING",_="FRAG_LOADING",w="FRAG_LOADING_WAITING_RETRY",T="WAITING_TRACK",S="PARSING",E="PARSED",k="BUFFER_FLUSHING",x="ENDED",C="ERROR",A="WAITING_INIT_PTS",O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.AUDIO_TRACKS_UPDATED,u.default.AUDIO_TRACK_SWITCHING,u.default.AUDIO_TRACK_LOADED,u.default.KEY_LOADED,u.default.FRAG_LOADED,u.default.FRAG_PARSING_INIT_SEGMENT,u.default.FRAG_PARSING_DATA,u.default.FRAG_PARSED,u.default.ERROR,u.default.BUFFER_CREATED,u.default.BUFFER_APPENDED,u.default.BUFFER_FLUSHED,u.default.INIT_PTS_FOUND));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n._state=m,n.ontick=n.tick.bind(n),n.initPTS=[],n.waitingFragment=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),l.default.prototype.destroy.call(this),this.state=m}},{key:"onInitPtsFound",value:function(e){var t=e.id,n=e.cc,r=e.initPTS;"main"===t&&(this.initPTS[n]=r,h.logger.log("InitPTS for cc:"+n+" found from video track:"+r),this.state===A&&(h.logger.log("sending pending audio frag to demuxer"),this.state=_,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null))}},{key:"startLoad",value:function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&-1===e?(h.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=v):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=g),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=m}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=m}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var e,t,n,i,s,l,c=this,d=this.hls,p=d.config,m=function(){switch(c.state){case C:case y:case k:break;case g:c.state=T,c.loadedmetadata=!1;break;case v:var r=c.tracks;if(!r)break;if(!c.media&&(c.startFragRequested||!p.startFragPrefetch))break;e=c.loadedmetadata?c.media.currentTime:c.nextLoadPosition;var m=c.mediaBuffer?c.mediaBuffer:c.media,S=o.default.bufferInfo(m,e,p.maxBufferHole),E=S.len,A=S.end,O=c.fragPrevious,R=p.maxMaxBufferLength,P=c.audioSwitch,I=c.trackId;if(E<R&&I<r.length){if("undefined"===typeof(n=r[I].details)){c.state=T;break}if(!P&&!n.live&&O&&O.sn===n.endSN&&(!c.media.seeking||c.media.duration-A<O.duration/2)){c.hls.trigger(u.default.BUFFER_EOS,{type:"audio"}),c.state=x;break}var L=n.fragments,M=L.length,D=L[0].start,N=L[M-1].start+L[M-1].duration,j=void 0;if(P)if(n.live&&!n.PTSKnown)h.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),A=0;else if(A=e,n.PTSKnown&&e<D){if(!(S.end>D||S.nextStart))return{v:void 0};h.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),c.media.currentTime=D+.05}if(A<=D){if(j=L[0],n.live&&j.loadIdx&&j.loadIdx===c.fragLoadIdx){var U=S.nextStart?S.nextStart:D;return h.logger.log("no alt audio available @currentTime:"+c.media.currentTime+", seeking @"+(U+.05)),c.media.currentTime=U+.05,{v:void 0}}}else!function(){var e=void 0,t=p.maxFragLookUpTolerance;A<N?(A>N-t&&(t=0),(e=a.default.search(L,(function(e){return e.start+e.duration-t<=A?1:e.start-t>A?-1:0})))||h.logger.log("frag not found @bufferEnd/start:"+A+"/"+D)):e=L[M-1],e&&(j=e,D=e.start,O&&j.level===O.level&&j.sn===O.sn&&(j.sn<n.endSN?(j=L[j.sn+1-n.startSN],h.logger.log("SN just loaded, load next one: "+j.sn)):j=null))}();if(j)if(null!=j.decryptdata.uri&&null==j.decryptdata.key)h.logger.log("Loading key for "+j.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+I),c.state=b,d.trigger(u.default.KEY_LOADING,{frag:j});else{if(h.logger.log("Loading "+j.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+I+", currentTime:"+e+",bufferEnd:"+A.toFixed(3)),void 0!==c.fragLoadIdx?c.fragLoadIdx++:c.fragLoadIdx=0,j.loadCounter){j.loadCounter++;var B=p.fragLoadingLoopThreshold;if(j.loadCounter>B&&Math.abs(c.fragLoadIdx-j.loadIdx)<B)return d.trigger(u.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:j}),{v:void 0}}else j.loadCounter=1;j.loadIdx=c.fragLoadIdx,c.fragCurrent=j,c.startFragRequested=!0,c.nextLoadPosition=j.start+j.duration,d.trigger(u.default.FRAG_LOADING,{frag:j}),c.state=_}}break;case T:(t=c.tracks[c.trackId])&&t.details&&(c.state=v);break;case w:i=performance.now(),s=c.retryDate,m=c.media,l=m&&m.seeking,(!s||i>=s||l)&&(h.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),c.state=v)}}();if("object"===("undefined"===typeof m?"undefined":r(m)))return m.v}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(h.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.loadCounter=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===x&&(this.state=v),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(e){h.logger.log("audio tracks updated"),this.tracks=e.audioTracks}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url;this.trackId=e.id,this.state=v,this.fragCurrent=null,this.state=y,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=v,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()}},{key:"onAudioTrackLoaded",value:function(e){var t=e.details,n=e.id,r=this.tracks[n],i=t.totalduration,a=0;if(h.logger.log("track "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.live){var o=r.details;o&&t.fragments.length>0?(c.default.mergeDetails(o,t),a=t.fragments[0].start,t.PTSKnown?h.logger.log("live audio playlist sliding:"+a.toFixed(3)):h.logger.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,h.logger.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,!this.startFragRequested){if(-1===this.startPosition){var s=t.startTimeOffset;isNaN(s)?this.startPosition=0:(h.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===T&&(this.state=v),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===b&&(this.state=v,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent;if(this.state===_&&t&&"audio"===e.frag.type&&e.frag.level===t.level&&e.frag.sn===t.sn){this.state=S,this.stats=e.stats;var n=this.tracks[this.trackId],r=n.details,i=r.totalduration,a=t.start,o=t.level,u=t.sn,l=t.cc,c=this.config.defaultAudioCodec||n.audioCodec;this.appended=!1,this.demuxer||(this.demuxer=new s.default(this.hls,"audio"));var d=this.initPTS[l];void 0!==d?(this.pendingBuffering=!0,h.logger.log("Demuxing "+u+" of ["+r.startSN+" ,"+r.endSN+"],track "+o),this.demuxer.push(e.payload,c,null,a,l,o,u,i,t.decryptdata,!1,d)):(h.logger.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+u+" of ["+r.startSN+" ,"+r.endSN+"],track "+o),this.waitingFragment=e,this.state=A)}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"audio"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===S){var n=e.tracks,r=void 0;if(n.video&&delete n.video,r=n.audio){r.levelCodec="mp4a.40.2",r.id=e.id,this.hls.trigger(u.default.BUFFER_CODECS,n),h.logger.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var i=r.initSegment;if(i){var a={type:"audio",data:i,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(u.default.BUFFER_APPENDING,a))}this.tick()}}}},{key:"onFragParsingData",value:function(e){var t=this,n=this.fragCurrent;n&&"audio"===e.id&&"audio"===e.type&&e.sn===n.sn&&e.level===n.level&&this.state===S&&function(){var n=t.trackId,r=t.tracks[n],i=t.fragCurrent,a=t.hls;h.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),c.default.updateFragPTSDTS(r.details,i.sn,e.startPTS,e.endPTS);var o=t.audioSwitch,s=t.media,l=!1;if(o&&s)if(s.readyState){var d=s.currentTime;h.logger.log("switching audio track : currentTime:"+d),d>=e.startPTS&&(h.logger.log("switching audio track : flushing all audio"),t.state=k,a.trigger(u.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),l=!0,t.audioSwitch=!1,a.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:n}))}else t.audioSwitch=!1,a.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:n});var f=t.pendingData;t.audioSwitch||([e.data1,e.data2].forEach((function(t){t&&f.push({type:e.type,data:t,parent:"audio",content:"data"})})),!l&&f.length&&(f.forEach((function(e){t.pendingBuffering=!0,t.hls.trigger(u.default.BUFFER_APPENDING,e)})),t.pendingData=[],t.appended=!0)),t.tick()}()}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"audio"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===S&&(this.stats.tparsed=performance.now(),this.state=E,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(e){if("audio"===e.parent){var t=this.state;t!==S&&t!==E||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(this.state===E&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),n.trigger(u.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;h.logger.log("audio buffered : "+d.default.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=v}this.tick()}}},{key:"onError",value:function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!e.fatal){var n=this.fragLoadError;n?n++:n=1;var r=this.config;if(n<=r.fragLoadingMaxRetry){this.fragLoadError=n,t.loadCounter=0;var i=Math.min(Math.pow(2,n-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);h.logger.warn("audioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.state=w}else h.logger.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(u.default.ERROR,e),this.state=C}break;case f.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==C&&(this.state=e.fatal?C:v,h.logger.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."))}}},{key:"onBufferFlushed",value:function(){var e=this,t=this.pendingData;t&&t.length?(h.logger.log("appending pending audio data on Buffer Flushed"),t.forEach((function(t){e.hls.trigger(u.default.BUFFER_APPENDING,t)})),this.appended=!0,this.pendingData=[],this.state=E):(this.state=v,this.fragPrevious=null,this.tick())}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,h.logger.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(l.default);n.default=O},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,46:46}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e(28)),a=s(e(27)),o=e(45);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MANIFEST_LOADING,i.default.MANIFEST_LOADED,i.default.AUDIO_TRACK_LOADED));return n.ticks=0,n.ontick=n.tick.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){this.updateTrack(this.trackId)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,n=e.audioTracks||[],r=!1;this.tracks=n,this.hls.trigger(i.default.AUDIO_TRACKS_UPDATED,{audioTracks:n});var a=0;n.forEach((function(e){if(e.default)return t.audioTrack=a,void(r=!0);a++})),!1===r&&n.length&&(o.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(e){e.id<this.tracks.length&&(o.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setAudioTrackInternal",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,o.logger.log("switching to audioTrack "+e);var t=this.tracks[e],n=this.hls,r=t.type,a=t.url,s={id:e,type:r,url:a};n.trigger(i.default.AUDIO_TRACK_SWITCH,s),n.trigger(i.default.AUDIO_TRACK_SWITCHING,s);var u=t.details;!a||void 0!==u&&!0!==u.live||(o.logger.log("(re)loading playlist for audioTrack "+e),n.trigger(i.default.AUDIO_TRACK_LOADING,{url:a,id:e}))}}},{key:"updateTrack",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,o.logger.log("updating audioTrack "+e);var t=this.tracks[e],n=t.url,r=t.details;!n||void 0!==r&&!0!==r.live||(o.logger.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(i.default.AUDIO_TRACK_LOADING,{url:n,id:e}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(a.default);n.default=u},{27:27,28:28,45:45}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(e(28)),a=u(e(27)),o=e(45),s=e(26);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_RESET,i.default.BUFFER_APPENDING,i.default.BUFFER_CODECS,i.default.BUFFER_EOS,i.default.BUFFER_FLUSHING,i.default.LEVEL_PTS_UPDATED,i.default.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-e.start)>.1){var i=r.updating;try{r.abort()}catch(a){i=!0,o.logger.warn("can not abort audio buffer: "+a)}i?this.audioTimestampOffset=e.start:(o.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}}},{key:"onManifestParsed",value:function(e){var t=e.audio,n=e.video,r=0;e.altAudio&&(t||n)&&(r=(t?1:0)+(n?1:0),o.logger.log(r+" sourceBuffer(s) expected")),this.sourceBufferNb=r}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var n=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(n)}}},{key:"onMediaDetaching",value:function(){o.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(t){o.logger.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(i.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){o.logger.log("media source opened"),this.hls.trigger(i.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){o.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){o.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;o.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,n=this.segments.reduce((function(e,n){return n.parent===t?e+1:e}),0);this.hls.trigger(i.default.BUFFER_APPENDED,{parent:t,pending:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){o.logger.error("sourceBuffer error:"+e),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(r){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,n=this.mediaSource;for(var r in e)if(!t[r]){var a=e[r],u=a.levelCodec||a.codec,l=a.container+";codecs="+u;o.logger.log("creating sourceBuffer("+l+")");try{var c=t[r]=n.addSourceBuffer(l);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[r]={codec:u,container:a.container},a.buffer=c}catch(d){o.logger.error("error while trying to add sourceBuffer:"+d.message),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:d,mimeType:l})}}this.hls.trigger(i.default.BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){o.logger.error("sourceBuffer error:",e.event),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1,frag:this.fragCurrent})}},{key:"onBufferEos",value:function(e){var t=this.sourceBuffer,n=e.type;for(var r in t)n&&r!==n||t[r].ended||(t[r].ended=!0,o.logger.log(r+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var n in e){var r=e[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}o.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(i){o.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,t=this.mediaSource,n=this.sourceBuffer,r=this._levelDuration;if(null!==r&&e&&t&&n&&0!==e.readyState&&"open"===t.readyState){for(var i in n)if(n[i].updating)return;null===this._msDuration&&(this._msDuration=t.duration);var a=e.duration;(r>this._msDuration&&r>a||a===1/0||isNaN(a))&&(o.logger.log("Updating mediasource duration to "+r.toFixed(3)),this._msDuration=t.duration=r)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n)t+=n[r].buffered.length}catch(a){o.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(i.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,n=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void o.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var r=n.shift();try{var a=t[r.type];a?a.updating?n.unshift(r):(a.ended=!1,this.parent=r.parent,a.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(l){o.logger.error("error while trying to append buffer:"+l.message),n.unshift(r);var u={type:s.ErrorTypes.MEDIA_ERROR};if(22===l.code)return this.segments=[],u.details=s.ErrorDetails.BUFFER_FULL_ERROR,u.fatal=!1,void e.trigger(i.default.ERROR,u);if(this.appendError?this.appendError++:this.appendError=1,u.details=s.ErrorDetails.BUFFER_APPEND_ERROR,u.frag=this.fragCurrent,this.appendError>e.config.appendErrorMaxRetry)return o.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],u.fatal=!0,void e.trigger(i.default.ERROR,u);u.fatal=!1,e.trigger(i.default.ERROR,u)}}}}},{key:"flushBuffer",value:function(e,t,n){var r,i,a,s,u,l,c=this.sourceBuffer;if(Object.keys(c).length){if(o.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var d in c)if(!n||d===n){if((r=c[d]).ended=!1,r.updating)return o.logger.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;i<r.buffered.length;i++)if(a=r.buffered.start(i),s=r.buffered.end(i),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(u=e,l=t):(u=Math.max(a,e),l=Math.min(s,t)),Math.min(l,s)-u>.5)return this.flushBufferCounter++,o.logger.log("flush "+d+" ["+u+","+l+"], of ["+a+","+s+"], pos:"+this.media.currentTime),r.remove(u,l),!1}catch(f){o.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else o.logger.warn("abort flushing too many retries");o.logger.log("buffer flushed")}return!0}}]),t}(a.default);n.default=l},{26:26,27:27,28:28,45:45}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(e(28));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.FPS_DROP_LEVEL_CAPPING,i.default.MEDIA_ATTACHING,i.default.MANIFEST_PARSED))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(e){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(e.droppedLevel)||this.restrictedLevels.push(e.droppedLevel)}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){var t=this.hls;t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(e){var t=0,n=void 0,r=void 0,i=this.mediaWidth,a=this.mediaHeight,o=0,s=0;for(n=0;n<=e&&(r=this.levels[n],!this.isLevelRestricted(n))&&(t=n,o=r.width,s=r.height,!(i<=o||a<=s));n++);return t}},{key:"isLevelRestricted",value:function(e){return!(!this.restrictedLevels||-1===this.restrictedLevels.indexOf(e))}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(t){}return e}},{key:"mediaWidth",get:function(){var e=void 0,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=this.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=this.contentScaleFactor),e}}]),t}(a(e(27)).default);n.default=o},{27:27,28:28}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(44),o=(r=a)&&r.__esModule?r:{default:r},s=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new o.default(n),this.fast_=new o.default(r)}return i(e,[{key:"sample",value:function(e,t){var n=8e3*t/(e=Math.max(e,this.minDelayMs_)),r=e/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}();n.default=s},{44:44}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e(28)),a=s(e(27)),o=e(45);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MEDIA_ATTACHING))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"===typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))}},{key:"checkFPS",value:function(e,t,n){var r=performance.now();if(t){if(this.lastTime){var a=r-this.lastTime,s=n-this.lastDroppedFrames,u=t-this.lastDecodedFrames,l=1e3*s/a,c=this.hls;if(c.trigger(i.default.FPS_DROP,{currentDropped:s,currentDecoded:u,totalDroppedFrames:n}),l>0&&s>c.config.fpsDroppedMonitoringThreshold*u){var d=c.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(i.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,c.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),t}(a.default);n.default=u},{27:27,28:28,45:45}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(e(28)),a=l(e(27)),o=e(45),s=e(26),u=l(e(30));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MANIFEST_LOADED,i.default.LEVEL_LOADED,i.default.FRAG_LOADED,i.default.ERROR));return n.ontick=n.tick.bind(n),n._manualLevel=n._autoLevelCapping=-1,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0;var e=this._levels;e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,n=[],r=[],a={},u=!1,l=!1,c=this.hls,d=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),f=function(e,t){return MediaSource.isTypeSupported(e+"/mp4;codecs="+t)};if(e.levels.forEach((function(e){e.videoCodec&&(u=!0),d&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(l=!0);var t=a[e.bitrate];void 0===t?(a[e.bitrate]=n.length,e.url=[e.url],e.urlId=0,n.push(e)):n[t].url.push(e.url)})),u&&l?n.forEach((function(e){e.videoCodec&&r.push(e)})):r=n,(r=r.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||f("audio",t))&&(!n||f("video",n))}))).length){t=r[0].bitrate,r.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=r;for(var h=0;h<r.length;h++)if(r[h].bitrate===t){this._firstLevel=h,o.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}c.trigger(i.default.MANIFEST_PARSED,{levels:r,firstLevel:this._firstLevel,stats:e.stats,audio:l,video:u,altAudio:e.audioTracks.length>0})}else c.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:c.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels;if(e>=0&&e<t.length){this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==e&&(o.logger.log("switching to level "+e),this._level=e,this.hls.trigger(i.default.LEVEL_SWITCH,{level:e}));var n=t[e],r=n.details;if(!r||!0===r.live){var a=n.urlId;this.hls.trigger(i.default.LEVEL_LOADING,{url:n.url[a],level:e,id:a})}}else this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(!e.fatal){var t=e.details,n=this.hls,r=void 0,a=void 0,l=!1,c=n.abrController,d=c.minAutoLevel;switch(t){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:case s.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:r=e.frag.level;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:r=e.context.level,l=!0;break;case s.ErrorDetails.REMUX_ALLOC_ERROR:r=e.level}if(void 0!==r){(a=this._levels[r]).loadError?a.loadError++:a.loadError=1;var f=a.url.length;if(f>1&&a.loadError<f)a.urlId=(a.urlId+1)%f,a.details=void 0,o.logger.warn("level controller,"+t+" for level "+r+": switching to redundant stream id "+a.urlId);else if(-1===this._manualLevel&&r)o.logger.warn("level controller,"+t+": switch-down for next fragment"),c.nextAutoLevel=Math.max(d,r-1);else if(a&&a.details&&a.details.live)o.logger.warn("level controller,"+t+" on live stream, discard"),l&&(this._level=void 0);else if(t===s.ErrorDetails.LEVEL_LOAD_ERROR||t===s.ErrorDetails.LEVEL_LOAD_TIMEOUT){var h=n.media;if(h&&u.default.isBuffered(h,h.currentTime)&&u.default.isBuffered(h,h.currentTime+.5)){var p=n.config.levelLoadingRetryDelay;o.logger.warn("level controller,"+t+", but media buffered, retry in "+p+"ms"),this.timer=setTimeout(this.ontick,p)}else o.logger.error("cannot recover "+t+" error"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),e.fatal=!0,n.trigger(i.default.ERROR,e)}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if(t&&"main"===t.type){var n=this._levels[t.level];n&&(n.loadError=0)}}},{key:"onLevelLoaded",value:function(e){var t=e.level;if(t===this._level){var n=this._levels[t];n.loadError=0;var r=e.details;if(r.live){var i=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),a=n.details;a&&r.endSN===a.endSN&&(i/=2,o.logger.log("same live playlist, reload twice faster")),i-=performance.now()-e.stats.trequest,i=Math.max(1e3,Math.round(i)),o.logger.log("live playlist, reload in "+i+" ms"),this.timer=setTimeout(this.ontick,i)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e],n=t.urlId;this.hls.trigger(i.default.LEVEL_LOADING,{url:t.url[n],level:e,id:n})}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){-1!==e&&(e=Math.max(e,this.hls.abrController.minAutoLevel)),this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(e){this.level=e,-1===this._manualLevel&&(this.hls.abrController.nextAutoLevel=e)}}]),t}(a.default);n.default=c},{26:26,27:27,28:28,30:30,45:45}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(e(41)),a=h(e(30)),o=h(e(22)),s=h(e(28)),u=h(e(27)),l=h(e(31)),c=h(e(46)),d=e(26),f=e(45);function h(e){return e&&e.__esModule?e:{default:e}}var p="STOPPED",m="IDLE",g="KEY_LOADING",v="FRAG_LOADING",y="FRAG_LOADING_WAITING_RETRY",b="WAITING_LEVEL",_="PARSING",w="PARSED",T="BUFFER_FLUSHING",S="ENDED",E="ERROR",k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.MANIFEST_LOADING,s.default.MANIFEST_PARSED,s.default.LEVEL_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_LOAD_EMERGENCY_ABORTED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_SWITCHED,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n._state=p,n.ontick=n.tick.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),u.default.prototype.destroy.call(this),this.state=p}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(f.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=m,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else f.logger.warn("cannot start loading as manifest not parsed yet"),this.state=p}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=p}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case E:break;case T:this.fragLoadError=0;break;case m:if(!this._doTickIdle())return;break;case b:var e=this.levels[this.level];e&&e.details&&(this.state=m);break;case y:var t=performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(f.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=m)}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&!n&&(this.startFragRequested||!t.startFragPrefetch))return!0;var r=void 0;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,o=this.levels[i],u=o.bitrate,l=void 0;l=u?Math.max(8*t.maxBufferSize/u,t.maxBufferLength):t.maxBufferLength,l=Math.min(l,t.maxMaxBufferLength);var c=a.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,t.maxBufferHole),d=c.len;if(d>=l)return!0;f.logger.trace("buffer length of "+d.toFixed(3)+" is below max of "+l.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var h=o.details;if("undefined"===typeof h||h.live&&this.levelLastLoaded!==i)return this.state=b,!0;var p=this.fragPrevious;if(!h.live&&p&&p.sn===h.endSN&&n.duration-Math.max(c.end,p.start)<=Math.max(.2,p.duration/2)){var m={};return this.altAudio&&(m.type="video"),this.hls.trigger(s.default.BUFFER_EOS,m),this.state=S,!0}return this._fetchPayloadOrEos(r,c,h)}},{key:"_fetchPayloadOrEos",value:function(e,t,n){var r=this.fragPrevious,i=this.level,a=n.fragments,o=a.length;if(0===o)return!1;var s=a[0].start,u=a[o-1].start+a[o-1].duration,l=t.end,c=void 0;if(n.live){var d=this.config.initialLiveManifestSize;if(o<d)return f.logger.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+d),!1;if(null===(c=this._ensureFragmentAtLivePoint(n,l,s,u,r,a,o)))return!1}else l<s&&(c=a[0]);return c||(c=this._findFragment(s,r,o,a,l,u,n)),!c||this._loadFragmentOrKey(c,i,n,e,l)}},{key:"_ensureFragmentAtLivePoint",value:function(e,t,n,r,i,a,o){var s=this.hls.config,u=this.media,l=void 0,c=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(n-s.maxFragLookUpTolerance,r-c)){var d=this.liveSyncPosition=this.computeLivePosition(n,e);f.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),t=d,u&&u.readyState&&u.duration>d&&(u.currentTime=d)}if(e.PTSKnown&&t>r&&u&&u.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(i){var h=i.sn+1;h>=e.startSN&&h<=e.endSN&&(l=a[h-e.startSN],f.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=a[Math.min(o-1,Math.round(o/2))],f.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l}},{key:"_findFragment",value:function(e,t,n,r,a,o,s){var u=this.hls.config,l=void 0,c=void 0,d=u.maxFragLookUpTolerance;if(a<o?(a>o-d&&(d=0),c=i.default.search(r,(function(e){return e.start+e.duration-d<=a?1:e.start-d>a&&e.start?-1:0}))):c=r[n-1],c&&(l=c,c.start,t&&l.level===t.level&&l.sn===t.sn))if(l.sn<s.endSN){var h=t.deltaPTS,p=l.sn-s.startSN;h&&h>u.maxBufferHole&&t.dropped&&p?(l=r[p-1],f.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(l=r[p+1],f.logger.log("SN just loaded, load next one: "+l.sn))}else l=null;return l}},{key:"_loadFragmentOrKey",value:function(e,t,n,r,i){var a=this.hls,u=a.config;if(null==e.decryptdata.uri||null!=e.decryptdata.key){if(f.logger.log("Loading "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t+", currentTime:"+r.toFixed(3)+",bufferEnd:"+i.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var l=u.fragLoadingLoopThreshold;if(e.loadCounter>l&&Math.abs(this.fragLoadIdx-e.loadIdx)<l)return a.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e}),!1}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,this.fragCurrent=e,this.startFragRequested=!0,this.nextLoadPosition=e.start+e.duration,e.autoLevel=a.autoLevelEnabled,e.bitrateTest=this.bitrateTest,a.trigger(s.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new o.default(a,"main")),this.state=v,!0}f.logger.log("Loading key for "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t),this.state=g,a.trigger(s.default.KEY_LOADING,{frag:e})}},{key:"getBufferRange",value:function(e){return i.default.search(this.bufferRange,(function(t){return e<t.start?-1:e>t.end?1:0}))}},{key:"followingBufferRange",value:function(e){return e?this.getBufferRange(e.end+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((t=n.currentTime)>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),a.default.isBuffered(n,t)?e=this.getBufferRange(t):a.default.isBuffered(n,t+.1)&&(e=this.getBufferRange(t+.1)),e)){var r=e.frag;r!==this.fragPlaying&&(this.fragPlaying=r,this.hls.trigger(s.default.FRAG_CHANGED,{frag:r}))}}},{key:"immediateLevelSwitch",value:function(){if(f.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,a.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t,n=void 0,r=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,(t=this.getBufferRange(e.currentTime))&&t.start>1&&this.flushMainBuffer(0,t.start-1),e.paused)n=0;else{var i=this.hls.nextLoadLevel,a=this.levels[i],o=this.fragLastKbps;n=o&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*o)+1:0}if((r=this.getBufferRange(e.currentTime+n))&&(r=this.followingBufferRange(r))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.start,Number.POSITIVE_INFINITY)}}}},{key:"flushMainBuffer",value:function(e,t){this.state=T;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(s.default.BUFFER_FLUSHING,n)}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.loadCounter=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=e?e.currentTime:void 0,n=this.config;if(f.logger.log("media seeking to "+t.toFixed(3)),this.state===v){var r=this.mediaBuffer?this.mediaBuffer:e,i=a.default.bufferInfo(r,t,this.config.maxBufferHole),o=this.fragCurrent;if(0===i.len&&o){var s=n.maxFragLookUpTolerance,u=o.start-s,l=o.start+o.duration+s;t<u||t>l?(o.loader&&(f.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=m):f.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===S&&(this.state=m);e&&(this.lastCurrentTime=t),this.state!==v&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){f.logger.log("media seeked to "+this.media.currentTime.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){f.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){f.logger.log("trigger BUFFER_RESET"),this.hls.trigger(s.default.BUFFER_RESET),this.bufferRange=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(e){var t,n=!1,r=!1;e.levels.forEach((function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&f.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var i=this.config;i.autoStartLoad&&this.hls.startLoad(i.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,n=e.level,r=this.levels[n],i=t.totalduration,a=0;if(f.logger.log("level "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),this.levelLastLoaded=n,t.live){var o=r.details;o&&t.fragments.length>0?(l.default.mergeDetails(o,t),a=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,o),t.PTSKnown?f.logger.log("live playlist sliding:"+a.toFixed(3)):f.logger.log("live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,f.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,this.hls.trigger(s.default.LEVEL_UPDATED,{details:t,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var u=t.startTimeOffset;isNaN(u)?t.live?(this.startPosition=this.computeLivePosition(a,t),f.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(u<0&&(f.logger.log("negative start time offset "+u+", count from end of last fragment"),u=a+i+u),f.logger.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===b&&(this.state=m),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===g&&(this.state=m,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,n=e.frag;if(this.state===v&&t&&"main"===n.type&&n.level===t.level&&n.sn===t.sn){var r=e.stats,i=this.levels[t.level],a=i.details;if(f.logger.log("Loaded  "+t.sn+" of ["+a.startSN+" ,"+a.endSN+"],level "+t.level),this.bitrateTest=!1,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=m,this.startFragRequested=!1,r.tparsed=r.tbuffered=performance.now(),this.hls.trigger(s.default.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.tick();else{this.state=_,this.stats=r;var u=a.totalduration,l=isNaN(t.startDTS)?t.start:t.startDTS,c=t.level,d=t.sn,h=this.config.defaultAudioCodec||i.audioCodec;this.audioCodecSwap&&(f.logger.log("swapping playlist audio codec"),void 0===h&&(h=this.lastAudioCodec),h&&(h=-1!==h.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,f.logger.log("Parsing "+d+" of ["+a.startSN+" ,"+a.endSN+"],level "+c+", cc "+t.cc);var p=this.demuxer;p||(p=this.demuxer=new o.default(this.hls,"main"));var g=this.media,y=!(g&&g.seeking)&&(a.PTSKnown||!a.live);p.push(e.payload,h,i.videoCodec,l,t.cc,c,d,u,t.decryptdata,y,null)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===_){var n,r,i=e.tracks;if(i.audio&&this.altAudio&&delete i.audio,r=i.audio){var a=this.levels[this.level].audioCodec,o=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(f.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===o.indexOf("firefox")&&(a="mp4a.40.5"),-1!==o.indexOf("android")&&"audio/mpeg"!==r.container&&(a="mp4a.40.2",f.logger.log("Android: force audio codec to "+a)),r.levelCodec=a,r.id=e.id}if((r=i.video)&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=e.id),e.unique){var u={codec:"",levelCodec:""};for(n in e.tracks)r=i[n],u.container=r.container,u.codec&&(u.codec+=",",u.levelCodec+=","),r.codec&&(u.codec+=r.codec),r.levelCodec&&(u.levelCodec+=r.levelCodec);i={audiovideo:u}}for(n in this.hls.trigger(s.default.BUFFER_CODECS,i),i){r=i[n],f.logger.log("main track:"+n+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var l=r.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,{type:n,data:l,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this,n=this.fragCurrent;if(n&&"main"===e.id&&e.sn===n.sn&&e.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===_){var r=this.levels[this.level],i=this.fragCurrent;f.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0));var a=l.default.updateFragPTSDTS(r.details,i.sn,e.startPTS,e.endPTS,e.startDTS,e.endDTS),o=this.hls;o.trigger(s.default.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:a,type:e.type,start:e.startPTS,end:e.endPTS}),"video"===e.type&&(i.dropped=e.dropped),[e.data1,e.data2].forEach((function(n){n&&(t.appended=!0,t.pendingBuffering=!0,o.trigger(s.default.BUFFER_APPENDING,{type:e.type,data:n,parent:"main",content:"data"}))})),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===_&&(this.stats.tparsed=performance.now(),this.state=w,this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url,n=e.id;if(!t){if(this.mediaBuffer!==this.media){f.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(f.logger.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=m}var i=this.hls;i.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}}},{key:"onAudioTrackSwitched",value:function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(f.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()}},{key:"onBufferCreated",value:function(e){var t=e.tracks,n=void 0,r=void 0,i=!1;for(var a in t){var o=t[a];"main"===o.id?(r=a,n=o,"video"===a&&(this.videoBuffer=t[a].buffer)):i=!0}i&&n?(f.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(e){if("main"===e.parent){var t=this.state;t!==_&&t!==w||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){var e=this;if(this.state===w&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent;t&&function(){var n=e.mediaBuffer?e.mediaBuffer:e.media;f.logger.log("main buffered : "+c.default.toString(n.buffered));var r=e.bufferRange.filter((function(e){return a.default.isBuffered(n,(e.start+e.end)/2)}));r.push({type:t.type,start:t.startPTS,end:t.endPTS,frag:t}),e.bufferRange=r.sort((function(e,t){return e.start-t.start})),e.fragPrevious=t;var i=e.stats;i.tbuffered=performance.now(),e.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),e.hls.trigger(s.default.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),e.state=m}(),this.tick()}}},{key:"onError",value:function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n=this.media,r=n&&a.default.isBuffered(n,n.currentTime)&&a.default.isBuffered(n,n.currentTime+.5);switch(e.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var i=this.fragLoadError;i?i++:i=1;var o=this.config;if(i<=o.fragLoadingMaxRetry||r||t.autoLevel&&t.level){this.fragLoadError=i,t.loadCounter=0;var u=Math.min(Math.pow(2,i-1)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout);f.logger.warn("mediaController: frag loading failed, retry in "+u+" ms"),this.retryDate=performance.now()+u,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=y}else f.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(s.default.ERROR,e),this.state=E}break;case d.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(r?(this._reduceMaxBufferLength(t.duration),this.state=m):t.autoLevel&&0!==t.level||(e.fatal=!0,this.hls.trigger(s.default.ERROR,e),this.state=E));break;case d.ErrorDetails.LEVEL_LOAD_ERROR:case d.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==E&&(e.fatal?(this.state=E,f.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):this.state===b&&(this.state=m));break;case d.ErrorDetails.BUFFER_FULL_ERROR:this.state!==_&&this.state!==w||(r?(this._reduceMaxBufferLength(t.duration),this.state=m):(f.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,f.logger.warn("reduce max buffer length to "+t.maxMaxBufferLength+"s and switch to IDLE state"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media;if(e&&e.readyState){var t=e.currentTime,n=this.mediaBuffer?this.mediaBuffer:e,r=n.buffered;if(this.loadedmetadata||!r.length||e.seeking)if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var i=a.default.bufferInfo(e,t,0),o=!(e.paused||e.ended||0===e.buffered.length),u=t!==this.lastCurrentTime,l=this.config;if(u)this.stallReported&&(f.logger.warn("playback not stuck anymore @"+t+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(o){var c=performance.now(),h=this.hls;if(this.stalled){var p=c-this.stalled,m=i.len,g=this.nudgeRetry||0;if(m<=.5&&p>1e3*l.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,f.logger.warn("playback stalling in low buffer @"+t),h.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:m}));var v=i.nextStart,y=v-t;if(v&&y<l.maxSeekHole&&y>0){this.nudgeRetry=++g;var b=g*l.nudgeOffset;f.logger.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+v+" + nudge "+b),e.currentTime=v+b,this.stalled=void 0,h.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:v+b-t})}}else if(m>.5&&p>1e3*l.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,f.logger.warn("playback stalling in high buffer @"+t),h.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:m})),this.stalled=void 0,this.nudgeRetry=++g,g<l.nudgeMaxRetry){var _=e.currentTime,w=_+g*l.nudgeOffset;f.logger.log("adjust currentTime from "+_+" to "+w),e.currentTime=w,h.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else f.logger.error("still stuck in high buffer @"+t+" after "+l.nudgeMaxRetry+", raise fatal error"),h.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=c,this.stallReported=!1}}else{this.loadedmetadata=!0;var T=this.startPosition,S=a.default.isBuffered(n,T);t===T&&S||(f.logger.log("target start position:"+T),S||(T=r.start(0),f.logger.log("target start position not buffered, seek to buffered.start(0) "+T)),f.logger.log("adjust currentTime from "+t+" to "+T),e.currentTime=T)}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=m,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()}},{key:"onBufferFlushed",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferRange=this.bufferRange.filter((function(t){return a.default.isBuffered(e,(t.start+t.end)/2)})),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=m,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,f.logger.log("main stream:"+t+"->"+e),this.hls.trigger(s.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferRange(e.currentTime);if(t)return t.frag.level}return-1}},{key:"nextBufferRange",get:function(){var e=this.media;return e?this.followingBufferRange(this.getBufferRange(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferRange;return e?e.frag.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(u.default);n.default=k},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,46:46}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e(28)),a=s(e(27)),o=s(e(42));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_USERDATA,i.default.MANIFEST_LOADING,i.default.FRAG_LOADED,i.default.LEVEL_SWITCH));if(n.hls=e,n.config=e.config,n.enabled=!0,n.Cues=e.config.cueHandler,n.config.enableCEA708Captions){var r=n,a=function(e,t){var n=null;try{n=new window.Event("addtrack")}catch(r){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)},s={newCue:function(e,t,n){if(!r.textTrack1){var i=r.getExistingTrack("1");i?(r.textTrack1=i,r.clearCurrentCues(r.textTrack1),a(r.textTrack1,r.media)):(r.textTrack1=r.createTextTrack("captions","English","en"),r.textTrack1.textTrack1=!0)}r.Cues.newCue(r.textTrack1,e,t,n)}},u={newCue:function(e,t,n){if(!r.textTrack2){var i=r.getExistingTrack("2");i?(r.textTrack2=i,r.clearCurrentCues(r.textTrack2),a(r.textTrack2,r.media)):(r.textTrack2=r.createTextTrack("captions","Spanish","es"),r.textTrack2.textTrack2=!0)}r.Cues.newCue(r.textTrack2,e,t,n)}};n.cea608Parser=new o.default(0,s,u)}return n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"clearCurrentCues",value:function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(!0===r["textTrack"+e])return r}return null}},{key:"createTextTrack",value:function(e,t,n){if(this.media)return this.media.addTextTrack(e,t,n)}},{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(e){this.media=e.media}},{key:"onMediaDetaching",value:function(){this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)}},{key:"onManifestLoading",value:function(){this.lastPts=Number.NEGATIVE_INFINITY}},{key:"onLevelSwitch",value:function(){"NONE"===this.hls.currentLevel.closedCaptions?this.enabled=!1:this.enabled=!0}},{key:"onFragLoaded",value:function(e){if("main"===e.frag.type){var t=e.frag.start;t<=this.lastPts&&(this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)),this.lastPts=t}}},{key:"onFragParsingUserdata",value:function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}}},{key:"extractCea608Data",value:function(e){for(var t,n,r,i=31&e[0],a=2,o=[],s=0;s<i;s++)t=e[a++],n=127&e[a++],r=127&e[a++],0===n&&0===r||0!==(4&t)&&0===(3&t)&&(o.push(n),o.push(r));return o}}]),t}(a.default);n.default=u},{27:27,28:28,42:42}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subtle=t,this.aesIV=n}return r(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}();n.default=i},{}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return r(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<n.length;r++)n[r]=t.getUint32(4*r);return n}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,n=this.subMix[0],r=this.subMix[1],i=this.subMix[2],a=this.subMix[3],o=this.invSubMix[0],s=this.invSubMix[1],u=this.invSubMix[2],l=this.invSubMix[3],c=new Uint32Array(256),d=0,f=0,h=0;for(h=0;h<256;h++)c[h]=h<128?h<<1:h<<1^283;for(h=0;h<256;h++){var p=f^f<<1^f<<2^f<<3^f<<4;p=p>>>8^255&p^99,e[d]=p,t[p]=d;var m=c[d],g=c[m],v=c[g],y=257*c[p]^16843008*p;n[d]=y<<24|y>>>8,r[d]=y<<16|y>>>16,i[d]=y<<8|y>>>24,a[d]=y,y=16843009*v^65537*g^257*m^16843008*d,o[p]=y<<24|y>>>8,s[p]=y<<16|y>>>16,u[p]=y<<8|y>>>24,l[p]=y,d?(d=m^c[c[c[v^m]]],f^=c[c[f]]):d=f=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a=this.ksRows=4*(i+6+1),o=void 0,s=void 0,u=this.keySchedule=new Uint32Array(this.ksRows),l=this.invKeySchedule=new Uint32Array(this.ksRows),c=this.sBox,d=this.rcon,f=this.invSubMix[0],h=this.invSubMix[1],p=this.invSubMix[2],m=this.invSubMix[3],g=void 0,v=void 0;for(o=0;o<a;o++)o<i?g=u[o]=t[o]:(v=g,o%i===0?(v=c[(v=v<<8|v>>>24)>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[255&v],v^=d[o/i|0]<<24):i>6&&o%i===4&&(v=c[v>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[255&v]),u[o]=g=(u[o-i]^v)>>>0);for(s=0;s<a;s++)o=a-s,v=3&s?u[o]:u[o-4],l[s]=s<4||o<=4?v:f[c[v>>>24]]^h[c[v>>>16&255]]^p[c[v>>>8&255]]^m[c[255&v]],l[s]=l[s]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,n){for(var r,i,a=this.keySize+6,o=this.invKeySchedule,s=this.invSBox,u=this.invSubMix[0],l=this.invSubMix[1],c=this.invSubMix[2],d=this.invSubMix[3],f=this.uint8ArrayToUint32Array_(n),h=f[0],p=f[1],m=f[2],g=f[3],v=new Int32Array(e),y=new Int32Array(v.length),b=void 0,_=void 0,w=void 0,T=void 0,S=void 0,E=void 0,k=void 0,x=void 0,C=void 0,A=void 0,O=void 0,R=void 0;t<v.length;){for(C=this.networkToHostOrderSwap(v[t]),A=this.networkToHostOrderSwap(v[t+1]),O=this.networkToHostOrderSwap(v[t+2]),R=this.networkToHostOrderSwap(v[t+3]),S=C^o[0],E=R^o[1],k=O^o[2],x=A^o[3],r=4,i=1;i<a;i++)b=u[S>>>24]^l[E>>16&255]^c[k>>8&255]^d[255&x]^o[r],_=u[E>>>24]^l[k>>16&255]^c[x>>8&255]^d[255&S]^o[r+1],w=u[k>>>24]^l[x>>16&255]^c[S>>8&255]^d[255&E]^o[r+2],T=u[x>>>24]^l[S>>16&255]^c[E>>8&255]^d[255&k]^o[r+3],S=b,E=_,k=w,x=T,r+=4;b=s[S>>>24]<<24^s[E>>16&255]<<16^s[k>>8&255]<<8^s[255&x]^o[r],_=s[E>>>24]<<24^s[k>>16&255]<<16^s[x>>8&255]<<8^s[255&S]^o[r+1],w=s[k>>>24]<<24^s[x>>16&255]<<16^s[S>>8&255]<<8^s[255&E]^o[r+2],T=s[x>>>24]<<24^s[S>>16&255]<<16^s[E>>8&255]<<8^s[255&k]^o[r+3],r+=3,y[t]=this.networkToHostOrderSwap(b^h),y[t+1]=this.networkToHostOrderSwap(T^p),y[t+2]=this.networkToHostOrderSwap(w^m),y[t+3]=this.networkToHostOrderSwap(_^g),h=C,p=A,m=O,g=R,t+=4}return y.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();n.default=i},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(e(14)),a=l(e(17)),o=l(e(15)),s=e(26),u=e(45);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.config=n;try{var r=crypto||self.crypto;this.subtle=r.subtle||r.webkitSubtle}catch(i){}this.disableWebCrypto=!this.subtle}return r(e,[{key:"decrypt",value:function(e,t,n,r){var s=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){u.logger.log("JS AES decrypt");var l=this.decryptor;l||(this.decryptor=l=new o.default),l.expandKey(t),r(l.decrypt(e,0,n))}else!function(){u.logger.log("WebCrypto AES decrypt");var o=s.subtle;s.key!==t&&(s.key=t,s.fastAesKey=new a.default(o,t)),s.fastAesKey.expandKey().then((function(t){new i.default(o,n).decrypt(e,t).then((function(e){r(e)}))})).catch((function(i){s.onWebCryptoError(i,e,t,n,r)}))}()}},{key:"onWebCryptoError",value:function(e,t,n,r,i){this.config.enableSoftwareAES?(u.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.decrypt(t,n,r,i)):(u.logger.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:"destroy",value:function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)}}]),e}();n.default=c},{14:14,15:15,17:17,26:26,45:45}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subtle=t,this.key=n}return r(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();n.default=i},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e(19)),a=e(45),o=s(e(24));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,r,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.id=n,this.remuxerClass=r,this.config=i,this.remuxer=new this.remuxerClass(t,n,i,a),this.insertDiscontinuity()}return r(e,[{key:"insertDiscontinuity",value:function(){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0}}},{key:"push",value:function(e,t,n,r,s,u,l,c,d,f){var h,p,m,g,v,y,b,_,w,T,S=new o.default(e),E=90*S.timeStamp,k=!1;for(s!==this.lastCC?(a.logger.log(this.id+" discontinuity detected"),this.lastCC=s,this.insertDiscontinuity(),this.remuxer.switchLevel(),this.remuxer.insertDiscontinuity()):u!==this.lastLevel?(a.logger.log("audio track switch detected"),this.lastLevel=u,this.remuxer.switchLevel(),this.insertDiscontinuity()):l===this.lastSN+1&&(k=!0),h=this._aacTrack,this.lastSN=l,this.lastLevel=u,y=S.length,w=e.length;y<w-1&&(255!==e[y]||240!==(240&e[y+1]));y++);for(h.audiosamplerate||(p=i.default.getAudioConfig(this.observer,e,y,t),h.config=p.config,h.audiosamplerate=p.samplerate,h.channelCount=p.channelCount,h.codec=p.codec,h.manifestCodec=p.manifestCodec,h.duration=c,a.logger.log("parsed codec:"+h.codec+",rate:"+p.samplerate+",nb channel:"+p.channelCount)),v=0,g=9216e4/h.audiosamplerate;y+5<w&&(b=1&e[y+1]?7:9,m=(3&e[y+3])<<11|e[y+4]<<3|(224&e[y+5])>>>5,(m-=b)>0&&y+b+m<=w);)for(_=E+v*g,T={unit:e.subarray(y+b,y+b+m),pts:_,dts:_},h.samples.push(T),h.len+=m,y+=m+b,v++;y<w-1&&(255!==e[y]||240!==(240&e[y+1]));y++);this.remuxer.remux(u,l,s,h,{samples:[]},{samples:[{pts:E,dts:E,unit:S.payload}]},{samples:[]},r,k,d,f)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,n,r=new o.default(e);if(r.hasTimeStamp)for(t=r.length,n=e.length;t<n-1;t++)if(255===e[t]&&240===(240&e[t+1]))return!0;return!1}}]),e}();n.default=u},{19:19,24:24,45:45}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(45),a=e(26),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getAudioConfig",value:function(e,t,n,r){var o,s,u,l,c,d=navigator.userAgent.toLowerCase(),f=r,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&t[n+2])>>>6),!((s=(60&t[n+2])>>>2)>h.length-1))return l=(1&t[n+2])<<2,l|=(192&t[n+3])>>>6,i.logger.log("manifest codec:"+r+",ADTS data:type:"+o+",sampleingIndex:"+s+"["+h[s]+"Hz],channelConfig:"+l),/firefox/i.test(d)?s>=6?(o=5,c=new Array(4),u=s-3):(o=2,c=new Array(2),u=s):-1!==d.indexOf("android")?(o=2,c=new Array(2),u=s):(o=5,c=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&s>=6?u=s-3:((r&&-1!==r.indexOf("mp4a.40.2")&&s>=6&&1===l||!r&&1===l)&&(o=2,c=new Array(2)),u=s)),c[0]=o<<3,c[0]|=(14&s)>>1,c[1]|=(1&s)<<7,c[1]|=l<<3,5===o&&(c[1]|=(14&u)>>1,c[2]=(1&u)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[s],channelCount:l,codec:"mp4a.40."+o,manifestCodec:f};e.trigger(Event.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s})}}]),e}();n.default=o},{26:26,45:45}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(e(28)),a=e(26),o=d(e(16)),s=d(e(18)),u=d(e(25)),l=d(e(38)),c=d(e(39));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,e),this.hls=t,this.id=n,this.config=this.hls.config||i,this.typeSupported=r}return r(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,n,r,a,s,u,l,c,d,f){if(e.byteLength>0&&null!=c&&null!=c.key&&"AES-128"===c.method){null==this.decrypter&&(this.decrypter=new o.default(this.hls,this.config));var h,p=this;try{h=performance.now()}catch(m){h=Date.now()}this.decrypter.decrypt(e,c.key.buffer,c.iv.buffer,(function(e){var o;try{o=performance.now()}catch(m){o=Date.now()}p.hls.trigger(i.default.FRAG_DECRYPTED,{level:s,sn:u,stats:{tstart:h,tdecrypt:o}}),p.pushDecrypted(new Uint8Array(e),t,n,r,a,s,u,l,d,f)}))}else this.pushDecrypted(new Uint8Array(e),t,n,r,a,s,u,l,d,f)}},{key:"pushDecrypted",value:function(e,t,n,r,o,d,f,h,p,m){var g=this.demuxer;if(!g||o!==this.cc&&!g.probe(e)){var v=this.hls,y=this.id,b=this.config,_=this.typeSupported;if(u.default.probe(e))(g=!0===this.typeSupported.mp2t?new u.default(v,y,c.default,b,_):new u.default(v,y,l.default,b,_)).probe=u.default.probe;else{if(!s.default.probe(e))return void v.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,id:y,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});(g=new s.default(v,y,l.default,b,_)).probe=s.default.probe}this.demuxer=g}g.push(e,t,n,r,o,d,f,h,p,m),this.cc=o}}]),e}();n.default=h},{16:16,18:18,25:25,26:26,28:28,38:38,39:39}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=s(e(20)),i=s(e(28)),a=e(45),o=s(e(1));function s(e){return e&&e.__esModule?e:{default:e}}n.default=function(e){var t=new o.default;t.trigger=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(r))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",(function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new r.default(t,o.id,o.typeSupported,s);try{(0,a.enableLogs)(!0===s.debug)}catch(u){console.warn("demuxerWorker: unable to enable logs")}n("init",null);break;case"demux":e.demuxer.push(o.data,o.audioCodec,o.videoCodec,o.timeOffset,o.cc,o.level,o.sn,o.duration,o.decryptdata,o.accurateTimeOffset,o.defaultInitPTS)}})),t.on(i.default.FRAG_DECRYPTED,n),t.on(i.default.FRAG_PARSING_INIT_SEGMENT,n),t.on(i.default.FRAG_PARSED,n),t.on(i.default.ERROR,n),t.on(i.default.FRAG_PARSING_METADATA,n),t.on(i.default.FRAG_PARSING_USERDATA,n),t.on(i.default.INIT_PTS_FOUND,n),t.on(i.default.FRAG_PARSING_DATA,(function(t,n){var r=n.data1.buffer,i=n.data2.buffer;delete n.data1,delete n.data2,e.postMessage({event:t,data:n,data1:r,data2:i},[r,i])}))}},{1:1,20:20,28:28,45:45}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(e(28)),a=l(e(20)),o=l(e(21)),s=e(45),u=e(26);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=n,this.id=r;var l={mp4:MediaSource.isTypeSupported("video/mp4"),mp2t:n.config.enableMP2TPassThrough&&MediaSource.isTypeSupported("video/mp2t"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')};if(n.config.enableWorker&&"undefined"!==typeof Worker){s.logger.log("demuxing in webworker");var c=void 0;try{var d=e(3);c=this.w=d(o.default),this.onwmsg=this.onWorkerMessage.bind(this),c.addEventListener("message",this.onwmsg),c.onerror=function(e){n.trigger(i.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},c.postMessage({cmd:"init",typeSupported:l,id:r,config:JSON.stringify(n.config)})}catch(f){s.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),c&&URL.revokeObjectURL(c.objectURL),this.demuxer=new a.default(n,r,l),this.w=void 0}}else this.demuxer=new a.default(n,r,l);this.demuxInitialized=!0}return r(t,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}}},{key:"push",value:function(e,t,n,r,i,a,o,s,u,l,c){var d=this.w;if(d)d.postMessage({cmd:"demux",data:e,audioCodec:t,videoCodec:n,timeOffset:r,cc:i,level:a,sn:o,duration:s,decryptdata:u,accurateTimeOffset:l,defaultInitPTS:c},[e]);else{var f=this.demuxer;f&&f.push(e,t,n,r,i,a,o,s,u,l,c)}}},{key:"onWorkerMessage",value:function(e){var t=e.data,n=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case i.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data.data2=new Uint8Array(t.data2);default:n.trigger(t.event,t.data)}}}]),t}();n.default=c},{20:20,21:21,26:26,28:28,3:3,45:45}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(45),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return r(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&i.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,n=8,r=8;for(t=0;t<e;t++)0!==r&&(r=(n+this.readEG()+256)%256),n=0===r?n:r}},{key:"readSPS",value:function(){var e,t,n,r,i,a,o,s=0,u=0,l=0,c=0,d=this.readUByte.bind(this),f=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),e=d(),f(5),m(3),d(),v(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=h();if(3===b&&m(1),v(),v(),m(1),p())for(a=3!==b?8:12,o=0;o<a;o++)p()&&y(o<6?16:64)}v();var _=h();if(0===_)h();else if(1===_)for(m(1),g(),g(),t=h(),o=0;o<t;o++)g();v(),m(1),n=h(),r=h(),0===(i=f(1))&&m(1),m(1),p()&&(s=h(),u=h(),l=h(),c=h());var w=[1,1];if(p()&&p())switch(d()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(n+1)-2*s-2*u),height:(2-i)*(r+1)*16-(i?2:4)*(l+c),pixelRatio:w}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();n.default=a},{45:45}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(45),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hasTimeStamp=!1;for(var n,r,a,o,s,u,l,c=0;;)if(u=this.readUTF(t,c,3),c+=3,"ID3"===u)c+=3,n=127&t[c++],r=127&t[c++],a=127&t[c++],o=127&t[c++],s=c+((n<<21)+(r<<14)+(a<<7)+o),this._parseID3Frames(t,c,s),c=s;else{if("3DI"!==u)return void((l=c-=3)&&(this.hasTimeStamp||i.logger.warn("ID3 tag found, but no timestamp"),this._length=l,this._payload=t.subarray(0,l)));c+=7,i.logger.log("3DI footer found, end: "+c)}}return r(e,[{key:"readUTF",value:function(e,t,n){var r="",i=t,a=t+n;do{r+=String.fromCharCode(e[i++])}while(i<a);return r}},{key:"_parseID3Frames",value:function(e,t,n){for(var r,a;t+8<=n;)switch(r=this.readUTF(e,t,4),t+=4,e[t++],e[t++],e[t++],e[t++],e[t++],e[t++],r){case"PRIV":if("com.apple.streaming.transportStreamTimestamp"===this.readUTF(e,t,44)){t+=44,t+=4;var o=1&e[t++];this._hasTimeStamp=!0,a=((e[t++]<<23)+(e[t++]<<15)+(e[t++]<<7)+e[t++])/45,o&&(a+=47721858.84),a=Math.round(a),i.logger.trace("ID3 timestamp found: "+a),this._timeStamp=a}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),e}();n.default=a},{45:45}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(e(19)),a=l(e(28)),o=l(e(23)),s=e(45),u=e(26);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,r,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.id=n,this.remuxerClass=r,this.config=i,this.typeSupported=a,this.lastCC=0,this.remuxer=new this.remuxerClass(t,n,i,a)}return r(e,[{key:"switchLevel",value:function(){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.remuxer.switchLevel()}},{key:"insertDiscontinuity",value:function(){this.switchLevel(),this.remuxer.insertDiscontinuity()}},{key:"push",value:function(e,t,n,r,i,o,l,c,d,f){var h,p,m,g,v,y=e.length,b=this.remuxer.passthrough,_=!1;this.audioCodec=t,this.videoCodec=n,this._duration=c,this.contiguous=!1,this.accurateTimeOffset=d,i!==this.lastCC&&(s.logger.log("discontinuity detected"),this.insertDiscontinuity(),this.lastCC=i),o!==this.lastLevel?(s.logger.log("level switch detected"),this.switchLevel(),this.lastLevel=o):l===this.lastSN+1&&(this.contiguous=!0),this.lastSN=l;var w=this.pmtParsed,T=this._avcTrack,S=this._audioTrack,E=this._id3Track,k=T.id,x=S.id,C=E.id,A=this._pmtId,O=T.pesData,R=S.pesData,P=E.pesData,I=this._parsePAT,L=this._parsePMT,M=this._parsePES,D=this._parseAVCPES.bind(this),N=this._parseAACPES.bind(this),j=this._parseMPEGPES.bind(this),U=this._parseID3PES.bind(this);for(y-=y%188,h=0;h<y;h+=188)if(71===e[h]){if(p=!!(64&e[h+1]),m=((31&e[h+1])<<8)+e[h+2],(48&e[h+3])>>4>1){if((g=h+5+e[h+4])===h+188)continue}else g=h+4;switch(m){case k:if(p){if(O&&(v=M(O))&&(D(v,!1),b&&T.codec&&(-1===x||S.codec)))return void this.remux(o,l,i,e,r);O={data:[],size:0}}O&&(O.data.push(e.subarray(g,h+188)),O.size+=h+188-g);break;case x:if(p){if(R&&(v=M(R))&&(S.isAAC?N(v):j(v),b&&S.codec&&(-1===k||T.codec)))return void this.remux(o,l,i,e,r);R={data:[],size:0}}R&&(R.data.push(e.subarray(g,h+188)),R.size+=h+188-g);break;case C:p&&(P&&(v=M(P))&&U(v),P={data:[],size:0}),P&&(P.data.push(e.subarray(g,h+188)),P.size+=h+188-g);break;case 0:p&&(g+=e[g]+1),A=this._pmtId=I(e,g);break;case A:p&&(g+=e[g]+1);var B=L(e,g,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3);(k=B.avc)>0&&(T.id=k),(x=B.audio)>0&&(S.id=x,S.isAAC=B.isAAC),(C=B.id3)>0&&(E.id=C),_&&!w&&(s.logger.log("reparse from beginning"),_=!1,h=-188),w=this.pmtParsed=!0;break;case 17:case 8191:break;default:_=!0}}else this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,id:this.id,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});O&&(v=M(O))?(D(v,!0),T.pesData=null):T.pesData=O,R&&(v=M(R))?(S.isAAC?N(v):j(v),S.pesData=null):(R&&R.size&&s.logger.log("last AAC PES packet truncated,might overlap between fragments"),S.pesData=R),P&&(v=M(P))?(U(v),E.pesData=null):E.pesData=P,this.remux(o,l,i,null,r,f)}},{key:"remux",value:function(e,t,n,r,i,a){for(var o=this._avcTrack,s=o.samples,u=0,l=0,c=0;c<s.length;c++){for(var d=s[c],f=d.units.units,h=f.length,p=0,m=0;m<h;m++)p+=f[m].data.length;l+=p,u+=h,d.length=p}o.len=l,o.nbNalu=u,this.remuxer.remux(e,t,n,this._audioTrack,this._avcTrack,this._id3Track,this._txtTrack,i,this.contiguous,this.accurateTimeOffset,a,r)}},{key:"destroy",value:function(){this.switchLevel(),this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t,n){var r,i,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<r;){switch(i=(31&e[t+1])<<8|e[t+2],e[t]){case 15:-1===a.audio&&(a.audio=i);break;case 21:-1===a.id3&&(a.id3=i);break;case 27:-1===a.avc&&(a.avc=i);break;case 3:case 4:n?-1===a.audio&&(a.audio=i,a.isAAC=!1):s.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:s.logger.warn("HEVC stream type found, not supported for now");break;default:s.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return a}},{key:"_parsePES",value:function(e){var t,n,r,i,a,o,u,l,c=0,d=e.data;if(!e||0===e.size)return null;for(;d[0].length<19&&d.length>1;){var f=new Uint8Array(d[0].length+d[1].length);f.set(d[0]),f.set(d[1],d[0].length),d[0]=f,d.splice(1,1)}if(1===((t=d[0])[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;192&(n=t[7])&&((o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(o-=8589934592),64&n?((u=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(u-=8589934592),o-u>54e5&&(s.logger.warn(Math.round((o-u)/9e4)+"s delta between PTS and DTS, align them"),o=u)):u=o),l=(i=t[8])+9,e.size-=l,a=new Uint8Array(e.size);for(var h=0,p=d.length;h<p;h++){var m=(t=d[h]).byteLength;if(l){if(l>m){l-=m;continue}t=t.subarray(l),m-=l,l=0}a.set(t,c),c+=m}return r&&(r-=i+3),{data:a,pts:o,dts:u,len:r}}return null}},{key:"pushAccesUnit",value:function(e,t){e.units.units.length&&e.frame&&(!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(t.samples.length||this.contiguous)?t.samples.push(e):t.dropped++),e.debug.length&&s.logger.log(e.pts+"/"+e.dts+":"+e.debug+","+e.units.length)}},{key:"_parseAVCPES",value:function(e,t){var n,r,i,a=this,s=this._avcTrack,u=this._parseAVCNALu(e.data),l=this.avcSample;e.data=null,u.forEach((function(t){switch(t.type){case 1:r=!0,l.frame=!0;var u=t.data;if(u.length>4){var c=new o.default(u).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(l.key=!0)}break;case 5:r=!0,l||(l=a.avcSample=a._createAVCSample(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:r=!0,(n=new o.default(a.discardEPB(t.data))).readUByte();for(var d=0,f=0,h=!1,p=0;!h&&n.bytesAvailable>1;){d=0;do{d+=p=n.readUByte()}while(255===p);f=0;do{f+=p=n.readUByte()}while(255===p);if(4===d&&0!==n.bytesAvailable){if(h=!0,181===n.readUByte()&&49===n.readUShort()&&1195456820===n.readUInt()&&3===n.readUByte()){var m=n.readUByte(),g=31&m,v=[m,n.readUByte()];for(i=0;i<g;i++)v.push(n.readUByte()),v.push(n.readUByte()),v.push(n.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:e.pts,bytes:v})}}else if(f<n.bytesAvailable)for(i=0;i<f;i++)n.readUByte()}break;case 7:if(r=!0,!s.sps){var y=(n=new o.default(t.data)).readSPS();s.width=y.width,s.height=y.height,s.pixelRatio=y.pixelRatio,s.sps=[t.data],s.duration=a._duration;var b=t.data.subarray(1,4),_="avc1.";for(i=0;i<3;i++){var w=b[i].toString(16);w.length<2&&(w="0"+w),_+=w}s.codec=_}break;case 8:r=!0,s.pps||(s.pps=[t.data]);break;case 9:r=!1,l&&a.pushAccesUnit(l,s),l=a.avcSample=a._createAVCSample(!1,e.pts,e.dts,"");break;case 12:r=!1;break;default:r=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}l&&r&&l.units.units.push(t)})),t&&l&&(this.pushAccesUnit(l,s),this.avcSample=null)}},{key:"_createAVCSample",value:function(e,t,n,r){return{key:e,pts:t,dts:n,units:{units:[],length:0},debug:r}}},{key:"_insertSampleInOrder",value:function(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)}},{key:"_getLastNalUnit",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var r=e.units.units;t=r[r.length-1]}return t}},{key:"_parseAVCNALu",value:function(e){var t,n,r,i,a=0,o=e.byteLength,s=this._avcTrack,u=s.naluState||0,l=u,c=[],d=-1;for(-1===u&&(d=0,i=31&e[0],u=0,a=1);a<o;)if(t=e[a++],u)if(1!==u)if(t)if(1===t){if(d>=0)r={data:e.subarray(d,a-u-1),type:i},c.push(r);else{var f=this._getLastNalUnit();if(f&&(l&&a<=4-l&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-l)),(n=a-u-1)>0)){var h=new Uint8Array(f.data.byteLength+n);h.set(f.data,0),h.set(e.subarray(0,n),f.data.byteLength),f.data=h}}a<o?(d=a,i=31&e[a],u=0):u=-1}else u=0;else u=3;else u=t?0:2;else u=t?0:1;if(d>=0&&u>=0&&(r={data:e.subarray(d,o),type:i,state:u},c.push(r)),0===c.length){var p=this._getLastNalUnit();if(p){var m=new Uint8Array(p.data.byteLength+e.byteLength);m.set(p.data,0),m.set(e,p.data.byteLength),p.data=m}}return s.naluState=u,c}},{key:"discardEPB",value:function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=e[o];return n}},{key:"_parseAACPES",value:function(e){var t,n,r,o,l,c,d,f,h,p,m,g=this._audioTrack,v=e.data,y=e.pts,b=this.aacOverFlow,_=this.aacLastPTS;if(b){var w=new Uint8Array(b.byteLength+v.byteLength);w.set(b,0),w.set(v,b.byteLength),v=w}for(l=0,f=v.length;l<f-1&&(255!==v[l]||240!==(240&v[l+1]));l++);if(!l||(l<f-1?(p="AAC PES did not start with ADTS header,offset:"+l,m=!1):(p="no ADTS header found in AAC PES",m=!0),s.logger.warn("parsing error:"+p),this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,id:this.id,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:m,reason:p}),!m)){if(!g.audiosamplerate){var T=this.audioCodec;t=i.default.getAudioConfig(this.observer,v,l,T),g.config=t.config,g.audiosamplerate=t.samplerate,g.channelCount=t.channelCount,g.codec=t.codec,g.manifestCodec=t.manifestCodec,g.duration=this._duration,s.logger.log("parsed codec:"+g.codec+",rate:"+t.samplerate+",nb channel:"+t.channelCount)}if(o=0,r=9216e4/g.audiosamplerate,b&&_){var S=_+r;Math.abs(S-y)>1&&(s.logger.log("AAC: align PTS for overlapping frames by "+Math.round((S-y)/90)),y=S)}for(;l+5<f&&(c=1&v[l+1]?7:9,n=(3&v[l+3])<<11|v[l+4]<<3|(224&v[l+5])>>>5,(n-=c)>0&&l+c+n<=f);)for(d=y+o*r,h={unit:v.subarray(l+c,l+c+n),pts:d,dts:d},g.samples.push(h),g.len+=n,l+=n+c,o++;l<f-1&&(255!==v[l]||240!==(240&v[l+1]));l++);b=l<f?v.subarray(l,f):null,this.aacOverFlow=b,this.aacLastPTS=d}}},{key:"_parseMPEGPES",value:function(e){for(var t,n=e.data,r=e.pts,i=n.length,a=0,o=0;o<i&&(t=this._parseMpeg(n,o,i,a++,r))>0;)o+=t}},{key:"_onMpegFrame",value:function(e,t,n,r,i,a){var o=a+i*(1152/n*1e3),s=this._audioTrack;s.config=[],s.channelCount=r,s.audiosamplerate=n,s.duration=this._duration,s.samples.push({unit:e,pts:o,dts:o}),s.len+=e.length}},{key:"_onMpegNoise",value:function(e){s.logger.warn("mpeg audio has noise: "+e.length+" bytes")}},{key:"_parseMpeg",value:function(e,t,n,r,i){if(t+2>n)return-1;if(255===e[t]||224===(224&e[t+1])){if(t+24>n)return-1;var a=e[t+1]>>3&3,o=e[t+1]>>1&3,s=e[t+2]>>4&15,u=e[t+2]>>2&3,l=!!(2&e[t+2]);if(1!==a&&0!==s&&15!==s&&3!==u){var c=1e3*[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160][14*(3===a?3-o:3===o?3:4)+s-1],d=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3][3*(3===a?0:2===a?1:2)+u],f=l?1:0,h=e[t+3]>>6===3?1:2,p=3===o?(3===a?12:6)*c/d+f<<2:(3===a?144:72)*c/d+f|0;return t+p>n?-1:(this._onMpegFrame&&this._onMpegFrame(e.subarray(t,t+p),c,d,h,r,i),p)}}for(var m=t+2;m<n;){if(255===e[m-1]&&224===(224&e[m]))return this._onMpegNoise&&this._onMpegNoise(e.subarray(t,m-1)),m-t-1;m++}return-1}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();n.default=c},{19:19,23:23,26:26,28:28,45:45}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},n.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},{}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(45),s=e(26),u=e(28),l=(r=u)&&r.__esModule?r:{default:r};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function e(t){c(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return a(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===i(this.handledEvents)&&this.handledEvents.length&&"function"===typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){try{(function(e,t){var n="on"+e.replace("hls","");if("function"!==typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)}).call(this,e,t).call()}catch(n){o.logger.error("internal error happened while processing "+e+":"+n.message),this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:n})}}}]),e}();n.default=d},{26:26,28:28,45:45}],28:[function(e,t,n){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVEL_SWITCH:"hlsLevelSwitch",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getSilentFrame",value:function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();n.default=i},{}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"isBuffered",value:function(e,t){if(e)for(var n=e.buffered,r=0;r<n.length;r++)if(t>=n.start(r)&&t<=n.end(r))return!0;return!1}},{key:"bufferInfo",value:function(e,t,n){if(e){var r,i=e.buffered,a=[];for(r=0;r<i.length;r++)a.push({start:i.start(r),end:i.end(r)});return this.bufferedInfo(a,t,n)}return{len:0,start:0,end:0,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,n){var r,i,a,o,s,u=[];for(e.sort((function(e,t){var n=e.start-t.start;return n||t.end-e.end})),s=0;s<e.length;s++){var l=u.length;if(l){var c=u[l-1].end;e[s].start-c<n?e[s].end>c&&(u[l-1].end=e[s].end):u.push(e[s])}else u.push(e[s])}for(s=0,r=0,i=a=t;s<u.length;s++){var d=u[s].start,f=u[s].end;if(t+n>=d&&t<f)i=d,r=(a=f)-t;else if(t+n<d){o=d;break}}return{len:r,start:i,end:a,nextStart:o}}}]),e}();n.default=i},{}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(45),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"mergeDetails",value:function(t,n){var r,a=Math.max(t.startSN,n.startSN)-n.startSN,o=Math.min(t.endSN,n.endSN)-n.startSN,s=n.startSN-t.startSN,u=t.fragments,l=n.fragments,c=0;if(o<a)n.PTSKnown=!1;else{for(var d=a;d<=o;d++){var f=u[s+d],h=l[d];h&&f&&(c=f.cc-h.cc,isNaN(f.startPTS)||(h.start=h.startPTS=f.startPTS,h.endPTS=f.endPTS,h.duration=f.duration,r=h))}if(c)for(i.logger.log("discontinuity sliding from playlist, take drift into account"),d=0;d<l.length;d++)l[d].cc+=c;if(r)e.updateFragPTSDTS(n,r.sn,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(s>=0&&s<u.length){var p=u[s].start;for(d=0;d<l.length;d++)l[d].start+=p}n.PTSKnown=t.PTSKnown}}},{key:"updateFragPTSDTS",value:function(t,n,r,i,a,o){var s,u,l,c;if(!t||n<t.startSN||n>t.endSN)return 0;if(s=n-t.startSN,l=(u=t.fragments)[s],!isNaN(l.startPTS)){var d=Math.abs(l.startPTS-r);isNaN(l.deltaPTS)?l.deltaPTS=d:l.deltaPTS=Math.max(d,l.deltaPTS),r=Math.min(r,l.startPTS),i=Math.max(i,l.endPTS),a=Math.min(a,l.startDTS),o=Math.max(o,l.endDTS)}var f=r-l.start;for(l.start=l.startPTS=r,l.endPTS=i,l.startDTS=a,l.endDTS=o,l.duration=i-r,c=s;c>0;c--)e.updatePTS(u,c,c-1);for(c=s;c<u.length-1;c++)e.updatePTS(u,c,c+1);return t.PTSKnown=!0,f}},{key:"updatePTS",value:function(e,t,n){var r=e[t],a=e[n],o=a.startPTS;isNaN(o)?a.start=n>t?r.start+r.duration:r.start-a.duration:n>t?(r.duration=o-r.start,r.duration<0&&i.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(a.duration=r.start-o,a.duration<0&&i.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!"))}}]),e}();n.default=a},{45:45}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=T(e(28)),a=e(26),o=T(e(36)),s=T(e(34)),u=T(e(4)),l=T(e(7)),c=T(e(8)),d=T(e(5)),f=T(e(12)),h=T(e(11)),p=T(e(13)),m=T(e(10)),g=T(e(6)),v=e(45),y=T(e(47)),b=T(e(1)),_=T(e(35)),w=T(e(43));function T(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(this,e);var n=e.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in t||(t[r]=n[r]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveMaxLatencyDuration<=t.liveSyncDuration||void 0===t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,v.enableLogs)(t.debug),this.config=t;var i=this.observer=new b.default;i.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e,e].concat(n))},i.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.removeListener.apply(i,[e].concat(n))},this.on=i.on.bind(i),this.off=i.off.bind(i),this.trigger=i.trigger.bind(i),this.playlistLoader=new o.default(this),this.fragmentLoader=new s.default(this),this.levelController=new h.default(this),this.abrController=new t.abrController(this),this.bufferController=new t.bufferController(this),this.capLevelController=new t.capLevelController(this),this.fpsController=new t.fpsController(this),this.streamController=new t.streamController(this),this.audioStreamController=new t.audioStreamController(this),this.timelineController=new t.timelineController(this),this.audioTrackController=new g.default(this),this.keyLoader=new _.default(this)}return r(e,null,[{key:"isSupported",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&"function"===typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"0.6.21"}},{key:"Events",get:function(){return i.default}},{key:"ErrorTypes",get:function(){return a.ErrorTypes}},{key:"ErrorDetails",get:function(){return a.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig||(e.defaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxMaxBufferLength:600,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:y.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:u.default,bufferController:l.default,capLevelController:c.default,fpsController:m.default,streamController:f.default,audioStreamController:d.default,timelineController:p.default,cueHandler:w.default,enableCEA708Captions:!0,enableMP2TPassThrough:!1,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}),e.defaultConfig},set:function(t){e.defaultConfig=t}}]),r(e,[{key:"destroy",value:function(){v.logger.log("destroy"),this.trigger(i.default.DESTROYING),this.detachMedia(),this.playlistLoader.destroy(),this.fragmentLoader.destroy(),this.levelController.destroy(),this.abrController.destroy(),this.bufferController.destroy(),this.capLevelController.destroy(),this.fpsController.destroy(),this.streamController.destroy(),this.audioStreamController.destroy(),this.timelineController.destroy(),this.audioTrackController.destroy(),this.keyLoader.destroy(),this.url=null,this.observer.removeAllListeners()}},{key:"attachMedia",value:function(e){v.logger.log("attachMedia"),this.media=e,this.trigger(i.default.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){v.logger.log("detachMedia"),this.trigger(i.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){v.logger.log("loadSource:"+e),this.url=e,this.trigger(i.default.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;v.logger.log("startLoad("+e+")"),this.levelController.startLoad(),this.streamController.startLoad(e),this.audioStreamController.startLoad(e)}},{key:"stopLoad",value:function(){v.logger.log("stopLoad"),this.levelController.stopLoad(),this.streamController.stopLoad(),this.audioStreamController.stopLoad()}},{key:"swapAudioCodec",value:function(){v.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){v.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){v.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){v.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){v.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.abrController.minAutoLevel)},set:function(e){v.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){v.logger.log("set startLevel:"+e),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this.abrController.autoLevelCapping},set:function(e){v.logger.log("set autoLevelCapping:"+e),this.abrController.autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"audioTracks",get:function(){return this.audioTrackController.audioTracks}},{key:"audioTrack",get:function(){return this.audioTrackController.audioTrack},set:function(e){this.audioTrackController.audioTrack=e}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}}]),e}();n.default=E},{1:1,10:10,11:11,12:12,13:13,26:26,28:28,34:34,35:35,36:36,4:4,43:43,45:45,47:47,5:5,6:6,7:7,8:8}],33:[function(e,t,n){"use strict";t.exports=e(32).default},{32:32}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(e(28)),a=u(e(27)),o=e(26),s=e(45);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.FRAG_LOADING));return n.loaders={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){var e=this.loaders;for(var t in e){var n=e[t];n&&n.destroy()}this.loaders={},a.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag,n=t.type,r=this.loaders[n],i=this.hls.config;t.loaded=0,r&&(s.logger.warn("abort previous fragment loader for type:"+n),r.abort()),r=this.loaders[n]=t.loader="undefined"!==typeof i.fLoader?new i.fLoader(i):new i.loader(i);var a,o,u=void 0;u={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var l=t.byteRangeStartOffset,c=t.byteRangeEndOffset;isNaN(l)||isNaN(c)||(u.rangeStart=l,u.rangeEnd=c),a={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},o={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},r.load(u,a,o)}},{key:"loadsuccess",value:function(e,t,n){var r=e.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(i.default.FRAG_LOADED,{payload:r,frag:a,stats:t})}},{key:"loaderror",value:function(e,t){var n=t.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e})}},{key:"loadtimeout",value:function(e,t){var n=t.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag})}},{key:"loadprogress",value:function(e,t,n){var r=t.frag;r.loaded=e.loaded,this.hls.trigger(i.default.FRAG_LOAD_PROGRESS,{frag:r,stats:e})}}]),t}(a.default);n.default=l},{26:26,27:27,28:28,45:45}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(e(28)),a=u(e(27)),o=e(26),s=e(45);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},a.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=e.frag,n=t.type,r=this.loaders[n],a=t.decryptdata,o=a.uri;if(o!==this.decrypturl||null===this.decryptkey){var u,l,c,d=this.hls.config;r&&(s.logger.warn("abort previous key loader for type:"+n),r.abort()),t.loader=this.loaders[n]=new d.loader(d),this.decrypturl=o,this.decryptkey=null,u={url:o,frag:t,responseType:"arraybuffer"},l={timeout:d.fragLoadingTimeOut,maxRetry:d.fragLoadingMaxRetry,retryDelay:d.fragLoadingRetryDelay,maxRetryDelay:d.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(u,l,c)}else this.decryptkey&&(a.key=this.decryptkey,this.hls.trigger(i.default.KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e,t,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(i.default.KEY_LOADED,{frag:r})}},{key:"loaderror",value:function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})}},{key:"loadtimeout",value:function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})}}]),t}(a.default);n.default=l},{26:26,27:27,28:28,45:45}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(e(2)),a=c(e(28)),o=c(e(27)),s=e(26),u=c(e(40)),l=e(45);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,h=/#EXT-X-MEDIA:(.*)/g,p=/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*))?|(?!#)(\S.+)|#EXT-X-BYTERANGE: *(.+)|#EXT-X-PROGRAM-DATE-TIME:(.+)|#.*/g,m=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,g=function(){function e(){d(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return r(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=i.default.buildAbsoluteURL(this.baseuri,this.reluri)),this._uri}}]),e}(),v=function(){function e(){d(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return r(e,[{key:"createInitializationVector",value:function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&((n=new g).method=e.method,n.baseuri=e.baseuri,n.reluri=e.reluri,n.iv=this.createInitializationVector(t)),n}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=i.default.buildAbsoluteURL(this.baseurl,this.relurl)),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var n=this.lastByteRangeEndOffset;e[0]=n||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}(),y=function(e){function t(e){d(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a.default.MANIFEST_LOADING,a.default.LEVEL_LOADING,a.default.AUDIO_TRACK_LOADING));return n.loaders={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},o.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})}},{key:"onAudioTrackLoading",value:function(e){this.load(e.url,{type:"audioTrack",id:e.id})}},{key:"load",value:function(e,t){var n=this.loaders[t.type];if(n){var r=n.context;if(r&&r.url===e)return void l.logger.trace("playlist request ongoing");l.logger.warn("abort previous loader for type:"+t.type),n.abort()}var i,a,o=this.hls.config,s=void 0,u=void 0,c=void 0,d=void 0;"manifest"===t.type?(s=o.manifestLoadingMaxRetry,u=o.manifestLoadingTimeOut,c=o.manifestLoadingRetryDelay,d=o.manifestLoadingMaxRetryTimeout):(s=o.levelLoadingMaxRetry,u=o.levelLoadingTimeOut,c=o.levelLoadingRetryDelay,d=o.levelLoadingMaxRetryTimeout,l.logger.log("loading playlist for "+t.type+" "+(t.level||t.id))),n=this.loaders[t.type]=t.loader="undefined"!==typeof o.pLoader?new o.pLoader(o):new o.loader(o),t.url=e,t.responseType="",i={timeout:u,maxRetry:s,retryDelay:c,maxRetryDelay:d},a={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(t,i,a)}},{key:"resolve",value:function(e,t){return i.default.buildAbsoluteURL(t,e)}},{key:"parseMasterPlaylist",value:function(e,t){var n=[],r=void 0;for(f.lastIndex=0;null!=(r=f.exec(e));){var i={},a=i.attrs=new u.default(r[1]);i.url=this.resolve(r[2],t);var o=a.decimalResolution("RESOLUTION");o&&(i.width=o.width,i.height=o.height),i.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),i.name=a.NAME;var s=a.CODECS;if(s){s=s.split(/[ ,]+/);for(var l=0;l<s.length;l++){var c=s[l];-1!==c.indexOf("avc1")?i.videoCodec=this.avc1toavcoti(c):i.audioCodec=c}}n.push(i)}return n}},{key:"parseMasterPlaylistMedia",value:function(e,t,n){var r=void 0,i=[];for(h.lastIndex=0;null!=(r=h.exec(e));){var a={},o=new u.default(r[1]);o.TYPE===n&&(a.groupId=o["GROUP-ID"],a.name=o.NAME,a.type=n,a.default="YES"===o.DEFAULT,a.autoselect="YES"===o.AUTOSELECT,a.forced="YES"===o.FORCED,o.URI&&(a.url=this.resolve(o.URI,t)),a.lang=o.LANGUAGE,a.name||(a.name=a.lang),i.push(a))}return i}},{key:"avc1toavcoti",value:function(e){var t,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t}},{key:"parseLevelPlaylist",value:function(e,t,n,r){var i,a,o=0,s=0,c={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},d=new g,f=0,h=null,y=new v;for(p.lastIndex=0;null!==(i=p.exec(e));){var b=i[1];if(b){y.duration=parseFloat(b);var _=(" "+i[2]).slice(1);y.title=_||null,y.tagList.push(_?["INF",b,_]:["INF",b])}else if(i[3]){if(!isNaN(y.duration)){var w=o++;y.type=r,y.start=s,y.levelkey=d,y.sn=w,y.level=n,y.cc=f,y.baseurl=t,y.relurl=(" "+i[3]).slice(1),c.fragments.push(y),h=y,s+=y.duration,y=new v}}else if(i[4]){if(y.rawByteRange=(" "+i[4]).slice(1),h){var T=h.byteRangeEndOffset;T&&(y.lastByteRangeEndOffset=T)}}else if(i[5])y.rawProgramDateTime=(" "+i[5]).slice(1),y.tagList.push(["PROGRAM-DATE-TIME",y.rawProgramDateTime]);else{for(i=i[0].match(m),a=1;a<i.length&&void 0===i[a];a++);var S=(" "+i[a+1]).slice(1),E=(" "+i[a+2]).slice(1);switch(i[a]){case"#":y.tagList.push(E?[S,E]:[S]);break;case"PLAYLIST-TYPE":c.type=S.toUpperCase();break;case"MEDIA-SEQUENCE":o=c.startSN=parseInt(S);break;case"TARGETDURATION":c.targetduration=parseFloat(S);break;case"VERSION":c.version=parseInt(S);break;case"EXTM3U":break;case"ENDLIST":c.live=!1;break;case"DIS":f++,y.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(S);break;case"KEY":var k=S,x=new u.default(k),C=x.enumeratedString("METHOD"),A=x.URI,O=x.hexadecimalInteger("IV");C&&(d=new g,A&&"AES-128"===C&&(d.method=C,d.baseuri=t,d.reluri=A,d.key=null,d.iv=O));break;case"START":var R=S,P=new u.default(R).decimalFloatingPoint("TIME-OFFSET");isNaN(P)||(c.startTimeOffset=P);break;case"MAP":var I=new u.default(S);y.relurl=I.URI,y.rawByteRange=I.BYTERANGE,y.baseurl=t,y.level=n,y.type=r,y.sn="initSegment",c.initSegment=y,y=new v;break;default:l.logger.warn("line parsed but not handled: "+i)}}}return(y=h)&&!y.relurl&&(c.fragments.pop(),s-=y.duration),c.totalduration=s,c.averagetargetduration=s/c.fragments.length,c.endSN=o-1,c}},{key:"loadsuccess",value:function(e,t,n){var r=e.data,i=e.url,o=n.type,u=n.id,c=n.level,d=this.hls;if(this.loaders[o]=void 0,void 0!==i&&0!==i.indexOf("data:")||(i=n.url),t.tload=performance.now(),0===r.indexOf("#EXTM3U"))if(r.indexOf("#EXTINF:")>0){var f="audioTrack"!==o,h=this.parseLevelPlaylist(r,i,(f?c:u)||0,f?"main":"audio");"manifest"===o&&d.trigger(a.default.MANIFEST_LOADED,{levels:[{url:i,details:h}],audioTracks:[],url:i,stats:t}),t.tparsed=performance.now(),h.targetduration?f?d.trigger(a.default.LEVEL_LOADED,{details:h,level:c||0,id:u||0,stats:t}):d.trigger(a.default.AUDIO_TRACK_LOADED,{details:h,id:u,stats:t}):d.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"invalid targetduration"})}else{var p=this.parseMasterPlaylist(r,i);if(p.length){var m=this.parseMasterPlaylistMedia(r,i,"AUDIO");if(m.length){var g=!1;m.forEach((function(e){e.url||(g=!0)})),!1===g&&p[0].audioCodec&&!p[0].attrs.AUDIO&&(l.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main"}))}d.trigger(a.default.MANIFEST_LOADED,{levels:p,audioTracks:m,url:i,stats:t})}else d.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no level found in manifest"})}else d.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(e,t){var n,r,i=t.loader;switch(t.type){case"manifest":n=s.ErrorDetails.MANIFEST_LOAD_ERROR,r=!0;break;case"level":n=s.ErrorDetails.LEVEL_LOAD_ERROR,r=!1;break;case"audioTrack":n=s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,r=!1}i&&(i.abort(),this.loaders[t.type]=void 0),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:i.url,loader:i,response:e,context:t})}},{key:"loadtimeout",value:function(e,t){var n,r,i=t.loader;switch(t.type){case"manifest":n=s.ErrorDetails.MANIFEST_LOAD_TIMEOUT,r=!0;break;case"level":n=s.ErrorDetails.LEVEL_LOAD_TIMEOUT,r=!1;break;case"audioTrack":n=s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,r=!1}i&&(i.abort(),this.loaders[t.type]=void 0),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:i.url,loader:i,context:t})}}]),t}(o.default);n.default=y},{2:2,26:26,27:27,28:28,40:40,45:45}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"init",value:function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,u,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,a=i;i--;)r+=n[i].byteLength;for((t=new Uint8Array(r))[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),i=0,r=8;i<a;i++)t.set(n[i],r),r+=n[i].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,n){return n*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))}},{key:"moov",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))}},{key:"mvhd",value:function(t,n){n*=t;var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,r)}},{key:"sdtp",value:function(t){var n,r,i=t.samples||[],a=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,a[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,a)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var n,r,i,a=[],o=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),u=t.width,l=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var n=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var n=t.audiosamplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var n=t.id,r=t.duration*t.timescale,i=t.width,a=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))}},{key:"traf",value:function(t,n){var r=e.sdtp(t),i=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),e.trun(t,r.length+16+16+8+16+8+8),r)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,n){var r,i,a,o,s,u,l=t.samples||[],c=l.length,d=12+16*c,f=new Uint8Array(d);for(n+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)a=(i=l[r]).duration,o=i.size,s=i.flags,u=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return e.box(e.types.trun,f)}},{key:"initSegment",value:function(t){e.types||e.init();var n,r=e.moov(t);return(n=new Uint8Array(e.FTYP.byteLength+r.byteLength)).set(e.FTYP),n.set(r,e.FTYP.byteLength),n}}]),e}();n.default=i},{}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(e(29)),a=l(e(28)),o=e(45),s=l(e(37)),u=e(26);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.id=n,this.config=r,this.typeSupported=i,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return r(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){this._initPTS=this._initDTS=void 0}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,n,r,i,o,s,u,l,c,d){if(this.level=e,this.sn=t,this.ISGenerated||this.generateIS(r,i,u,n),null!==d&&(this._initPTS=this._initDTS=d),this.ISGenerated)if(r.samples.length){var f=this.remuxAudio(r,u,l,c);if(i.samples.length){var h=void 0;f&&(h=f.endPTS-f.startPTS),this.remuxVideo(i,u,l,h)}}else{var p=void 0;i.samples.length&&(p=this.remuxVideo(i,u,l)),p&&r.codec&&this.remuxEmptyAudio(r,u,l,p)}o.samples.length&&this.remuxID3(o,u),s.samples.length&&this.remuxText(s,u),this.observer.trigger(a.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:"generateIS",value:function(e,t,n,r){var i,l,c=this.observer,d=e.samples,f=t.samples,h=this.PES_TIMESCALE,p=this.typeSupported,m="audio/mp4",g={},v={id:this.id,level:this.level,sn:this.sn,tracks:g,unique:!1},y=void 0===this._initPTS;y&&(i=l=1/0),e.config&&d.length&&(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)&&(e.timescale=e.audiosamplerate/function e(t,n){return n?e(n,t%n):t}(e.audiosamplerate,e.isAAC?1024:1152)),o.logger.log("audio mp4 timescale :"+e.timescale),e.isAAC||(p.mpeg?(m="audio/mpeg",e.codec=""):p.mp3&&(e.codec="mp3")),g.audio={container:m,codec:e.codec,initSegment:!e.isAAC&&p.mpeg?new Uint8Array:s.default.initSegment([e]),metadata:{channelCount:e.channelCount}},y&&(i=l=d[0].pts-h*n)),t.sps&&t.pps&&f.length&&(t.timescale=this.MP4_TIMESCALE,g.video={container:"video/mp4",codec:t.codec,initSegment:s.default.initSegment([t]),metadata:{width:t.width,height:t.height}},y&&(i=Math.min(i,f[0].pts-h*n),l=Math.min(l,f[0].dts-h*n),this.observer.trigger(a.default.INIT_PTS_FOUND,{id:this.id,initPTS:i,cc:r}))),Object.keys(g).length?(c.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,v),this.ISGenerated=!0,y&&(this._initPTS=i,this._initDTS=l)):c.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,id:this.id,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,n,r){var i,l,c,d,f,h,p,m=8,g=this.PES_TIMESCALE,v=this.PES2MP4SCALEFACTOR,y=e.samples,b=[],_=y.length,w=this._PTSNormalize,T=this._initDTS;y.sort((function(e,t){var n=e.dts-t.dts;return n||e.pts-t.pts}));var S=y.reduce((function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)}),0);if(S<0){o.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(S/90)+" ms to overcome this issue");for(var E=0;E<y.length;E++)y[E].dts+=S}var k=void 0;k=n?this.nextAvcDts:t*g;var x=y[0];f=Math.max(w(x.dts-T,k),0),d=Math.max(w(x.pts-T,k),0);var C=Math.round((f-k)/90);n&&C&&(C>1?o.logger.log("AVC:"+C+" ms hole between fragments detected,filling it"):C<-1&&o.logger.log("AVC:"+-C+" ms overlapping between fragments detected"),f=k,y[0].dts=f+T,d=Math.max(d-C,k),y[0].pts=d+T,o.logger.log("Video/PTS/DTS adjusted: "+Math.round(d/90)+"/"+Math.round(f/90)+",delta:"+C+" ms")),x=y[y.length-1],p=Math.max(w(x.dts-T,k),0),h=Math.max(w(x.pts-T,k),0),h=Math.max(h,p);var A=navigator.vendor,O=navigator.userAgent,R=A&&A.indexOf("Apple")>-1&&O&&!O.match("CriOS");R&&(i=Math.round((p-f)/(v*(y.length-1))));for(var P=0;P<_;P++){var I=y[P];R?I.dts=f+P*v*i:(I.dts=Math.max(w(I.dts-T,k),f),I.dts=Math.round(I.dts/v)*v),I.pts=Math.max(w(I.pts-T,k),I.dts),I.pts=Math.round(I.pts/v)*v}var L=e.len+4*e.nbNalu+8;try{l=new Uint8Array(L)}catch(ee){return void this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:u.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:L,reason:"fail allocating video mdat "+L})}var M=new DataView(l.buffer);M.setUint32(0,L),l.set(s.default.types.mdat,4);for(var D=0;D<_;D++){for(var N=y[D],j=N.units.units,U=0,B=void 0,F=0,H=j.length;F<H;F++){var G=j[F],V=G.data,z=G.data.byteLength;M.setUint32(m,z),m+=4,l.set(V,m),m+=z,U+=4+z}if(R)B=Math.max(0,i*Math.round((N.pts-N.dts)/(v*i)));else{if(D<_-1)i=y[D+1].dts-N.dts;else{var W=this.config,q=N.dts-y[D>0?D-1:D].dts;if(W.stretchShortVideoTrack){var K=W.maxBufferHole,X=W.maxSeekHole,Y=Math.floor(Math.min(K,X)*g),$=(r?d+r*g:this.nextAudioPts)-N.pts;$>Y?((i=$-q)<0&&(i=q),o.logger.log("It is approximately "+$/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=q}else i=q}i/=v,B=Math.round((N.pts-N.dts)/v)}b.push({size:U,duration:i,cts:B,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:N.key?2:1,isNonSync:N.key?0:1}})}this.nextAvcDts=p+i*v;var J=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Q=b[0].flags;Q.dependsOn=2,Q.isNonSync=0}e.samples=b,c=s.default.moof(e.sequenceNumber++,f/v,e),e.samples=[];var Z={id:this.id,level:this.level,sn:this.sn,data1:c,data2:l,startPTS:d/g,endPTS:(h+v*i)/g,startDTS:f/g,endDTS:this.nextAvcDts/g,type:"video",nb:b.length,dropped:J};return this.observer.trigger(a.default.FRAG_PARSING_DATA,Z),Z}},{key:"remuxAudio",value:function(e,t,n,r){var l,c,d,f,h,p,m,g,v,y,b,_,w,T,S,E=this.PES_TIMESCALE,k=E/e.timescale,x=e.timescale*(e.isAAC?1024:1152)/e.audiosamplerate*k,C=this._PTSNormalize,A=this._initDTS,O=!e.isAAC&&this.typeSupported.mpeg,R=O?0:8,P=[],I=[];if(e.samples.sort((function(e,t){return e.pts-t.pts})),I=e.samples,S=this.nextAudioPts,(n|=I.length&&S&&(Math.abs(t-S/E)<.1||Math.abs(I[0].pts-S-this._initDTS)<20*x))||(S=t*E),r&&e.isAAC)for(var L=0,M=S;L<I.length;){var D=I[L],N=C(D.pts-A,S)-M;if(N<=-x)o.logger.warn("Dropping 1 audio frame @ "+Math.round(M/90)/1e3+"s due to "+Math.round(Math.abs(N/90))+" ms overlap."),I.splice(L,1),e.len-=D.unit.length;else if(N>=x&&M){var j=Math.round(N/x);o.logger.warn("Injecting "+j+" audio frame @ "+Math.round(M/90)/1e3+"s due to "+Math.round(N/90)+" ms gap.");for(var U=0;U<j;U++)T=M+A,T=Math.max(T,A),(w=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(o.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),w=D.unit.subarray()),I.splice(L,0,{unit:w,pts:T,dts:T}),e.len+=w.length,M+=x,L+=1;D.pts=D.dts=M+A,M+=x,L+=1}else Math.abs(N),M+=x,D.pts=D.dts=0===L?A+S:I[L-1].pts+x,L+=1}for(var B=0,F=I.length;B<F;B++){if(d=(l=I[B]).unit,v=l.pts-A,y=l.dts-A,void 0!==g)b=C(v,g),_=C(y,g),c.duration=Math.round((_-g)/k);else{b=C(v,S),_=C(y,S);var H=Math.round(1e3*(b-S)/E),G=0;if(n&&e.isAAC&&H){if(H>0)G=Math.round((b-S)/x),o.logger.log(H+" ms hole between AAC samples detected,filling it"),G>0&&((w=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(w=d.subarray()),e.len+=G*w.length);else if(H<-12){o.logger.log(-H+" ms overlapping between AAC samples detected, drop frame"),e.len-=d.byteLength;continue}b=_=S}if(p=Math.max(0,b),m=Math.max(0,_),!(e.len>0))return;var V=O?e.len:e.len+8;try{f=new Uint8Array(V)}catch(Y){return void this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:u.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:V,reason:"fail allocating audio mdat "+V})}O||(new DataView(f.buffer).setUint32(0,V),f.set(s.default.types.mdat,4));for(var z=0;z<G;z++)T=b-(G-z)*x,(w=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(o.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),w=d.subarray()),f.set(w,R),R+=w.byteLength,c={size:w.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},P.push(c)}f.set(d,R);var W=d.byteLength;R+=W,c={size:W,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},P.push(c),g=_}var q=0,K=P.length;if(K>=2&&(q=P[K-2].duration,c.duration=q),K){this.nextAudioPts=b+k*q,e.len=0,e.samples=P,h=O?new Uint8Array:s.default.moof(e.sequenceNumber++,m/k,e),e.samples=[];var X={id:this.id,level:this.level,sn:this.sn,data1:h,data2:f,startPTS:p/E,endPTS:this.nextAudioPts/E,startDTS:m/E,endDTS:(_+k*q)/E,type:"audio",nb:K};return this.observer.trigger(a.default.FRAG_PARSING_DATA,X),X}return null}},{key:"remuxEmptyAudio",value:function(e,t,n,r){var a=this.PES_TIMESCALE,s=a/(e.timescale?e.timescale:e.audiosamplerate),u=this.nextAudioPts,l=(void 0!==u?u:r.startDTS*a)+this._initDTS,c=r.endDTS*a+this._initDTS,d=1024*s,f=Math.ceil((c-l)/d),h=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(o.logger.warn("remux empty Audio"),h){for(var p=[],m=0;m<f;m++){var g=l+m*d;p.push({unit:h,pts:g,dts:g}),e.len+=h.length}e.samples=p,this.remuxAudio(e,t,n)}else o.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")}},{key:"remuxID3",value:function(e,t){var n,r=e.samples.length;if(r){for(var i=0;i<r;i++)(n=e.samples[i]).pts=(n.pts-this._initPTS)/this.PES_TIMESCALE,n.dts=(n.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(a.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort((function(e,t){return e.pts-t.pts}));var n,r=e.samples.length;if(r){for(var i=0;i<r;i++)(n=e.samples[i]).pts=(n.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(a.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var n;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}},{key:"passthrough",get:function(){return!1}}]),e}();n.default=c},{26:26,28:28,29:29,37:37,45:45}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(28),o=(r=a)&&r.__esModule?r:{default:r},s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.id=n,this.ISGenerated=!1}return i(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,n,r,i,a){var s=this.observer;if(!this.ISGenerated){var u={id:this.id,tracks:{},unique:!0},l=t,c=l.codec;c&&(u.tracks.video={container:l.container,codec:c,metadata:{width:l.width,height:l.height}}),(c=(l=e).codec)&&(u.tracks.audio={container:l.container,codec:c,metadata:{channelCount:l.channelCount}}),this.ISGenerated=!0,s.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,u)}s.trigger(o.default.FRAG_PARSING_DATA,{id:this.id,data1:a,startPTS:i,startDTS:i,type:"audiovideo",nb:1,dropped:0})}},{key:"passthrough",get:function(){return!0}}]),e}();n.default=s},{28:28}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=/^(\d+)x(\d+)$/,a=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}return r(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=i.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,n={};for(a.lastIndex=0;null!==(t=a.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n}}]),e}();n.default=o},{}],41:[function(e,t,n){"use strict";t.exports={search:function(e,t){for(var n=0,r=e.length-1,i=null,a=null;n<=r;){var o=t(a=e[i=(n+r)/2|0]);if(o>0)n=i+1;else{if(!(o<0))return a;r=i-1}}return null}}},{}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(e){var t=e;return a.hasOwnProperty(e)&&(t=a[e]),String.fromCharCode(t)},s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},u={17:2,18:4,21:6,22:8,23:10,19:13,20:15},l={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},h=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},p=function(){function e(t,n,r,a,o){i(this,e),this.foreground=t||"white",this.underline=n||!1,this.italics=r||!1,this.background=a||"black",this.flash=o||!1}return r(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),m=function(){function e(t,n,r,a,o,s){i(this,e),this.uchar=t||" ",this.penState=new p(n,r,a,o,s)}return r(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),g=function(){function e(){i(this,e),this.chars=[];for(var t=0;t<32;t++)this.chars.push(new m);this.pos=0,this.currPenState=new p}return r(e,[{key:"equals",value:function(e){for(var t=!0,n=0;n<32;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>32&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=32)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){e>=144&&this.backSpace();var t=o(e);this.pos>=32?f.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))}},{key:"clearFromPos",value:function(e){var t;for(t=e;t<32;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,n=0;n<32;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}]),e}(),v=function(){function e(){i(this,e),this.rows=[];for(var t=0;t<15;t++)this.rows.push(new g);this.currRow=14,this.nrRollUpRows=null,this.reset()}return r(e,[{key:"reset",value:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14}},{key:"equals",value:function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(e){this.rows[this.currRow].insertChar(e)}},{key:"setPen",value:function(e){this.rows[this.currRow].setPenStyles(e)}},{key:"moveCursor",value:function(e){this.rows[this.currRow].moveCursor(e)}},{key:"setCursor",value:function(e){f.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)}},{key:"setPAC",value:function(e,t){f.log("INFO","pacData = "+JSON.stringify(e));var n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(var r=0;r<15;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,a=t.rows[i].cueStartTime;if(a&&a<f.time)for(r=0;r<this.nrRollUpRows;r++)this.rows[n-this.nrRollUpRows+r+1].copy(t.rows[i+r])}this.currRow=n;var o=this.rows[this.currRow];if(null!==e.indent){var s=e.indent,u=Math.max(s-1,0);o.setCursor(e.indent),e.color=o.chars[u].penState.foreground}var l={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(l)}},{key:"setBkgData",value:function(e){f.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){if(null!==this.nrRollUpRows){f.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),f.log("INFO","Rolling up")}else f.log("DEBUG","roll_up but nrRollUpRows not set yet")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<15;i++){var a=this.rows[i].getTextString();a&&(r=i+1,e?t.push("Row "+r+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),y=function(){function e(t,n){i(this,e),this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new v,this.nonDisplayedMemory=new v,this.lastOutputScreen=new v,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return r(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e,this.lastOutputScreen)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,f.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset(),this.lastOutputScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";f.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){f.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){if(f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(e){f.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}f.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=f.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),b=function(){function e(t,n,r){i(this,e),this.field=t||1,this.outputs=[n,r],this.channels=[new y(1,n),new y(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return r(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var n,r,i,a=!1;this.lastTime=e,f.setTime(e);for(var o=0;o<t.length;o+=2)r=127&t[o],i=127&t[o+1],0!==r||0!==i?(f.log("DATA","["+h([t[o],t[o+1]])+"] -> ("+h([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),n||(a=this.parseChars(r,i))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(a):f.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+h([r,i])+" orig: "+h([t[o],t[o+1]])))):this.dataCounters.padding+=2}},{key:"parseCmd",value:function(e,t){var n=null;if(!((20===e||28===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+h([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var r=this.channels[n-1];return 20===e||28===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0}},{key:"parseMidrow",value:function(e,t){var n=null;return(17===e||25===e)&&32<=t&&t<=47&&((n=17===e?1:2)!==this.currChNr?(f.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(t),f.log("DEBUG","MIDROW ("+h([e,t])+")"),!0))}},{key:"parsePAC",value:function(e,t){var n,r=null;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,r=64<=t&&t<=95?1===n?s[e]:l[e]:1===n?u[e]:c[e];var i=this.interpretPAC(r,t);return this.channels[n-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0}},{key:"interpretPAC",value:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}},{key:"parseChars",value:function(e,t){var n=null,r=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),17<=i&&i<=19){var a=t;a=17===i?t+80:18===i?t+112:t+144,f.log("INFO","Special char '"+o(a)+"' in channel "+n),r=[a]}else 32<=e&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var s=h(r);f.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r}},{key:"parseBackgroundAttributes",value:function(e,t){var n,r,i;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=d[r],t%2===1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:"reset",value:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}}]),e}();n.default=b},{}],43:[function(e,t,n){"use strict";var r={newCue:function(e,t,n,r){for(var i,a,o,s,u,l=window.VTTCue||window.TextTrackCue,c=0;c<r.rows.length;c++)if(o=!0,s=0,u="",!(i=r.rows[c]).isEmpty()){for(var d=0;d<i.chars.length;d++)i.chars[d].uchar.match(/\s/)&&o?s++:(u+=i.chars[d].uchar,o=!1);i.cueStartTime=t,a=new l(t,n,u.trim()),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=c+1:a.line=c>7?c-2:c+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(a)}}};t.exports=r},{}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return r(e,[{key:"sample",value:function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();n.default=i},{}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(){}var a={trace:i,debug:i,log:i,warn:i,info:i,error:i},o=a;function s(e,t){return t="["+e+"] > "+t}function u(e){var t=self.console[e];return t?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];r[0]&&(r[0]=s(e,r[0])),t.apply(self.console,r)}:i}n.enableLogs=function(e){if(!0===e||"object"===("undefined"===typeof e?"undefined":r(e))){!function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){o[t]=e[t]?e[t].bind(e):u(t)}))}(e,"debug","log","info","warn","error");try{o.log()}catch(t){o=a}}else o=a},n.logger=o},{}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"toString",value:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}]),e}();n.default=i},{}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(45),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return r(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;(e="undefined"!==typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest).onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.open("GET",t.url,!0),t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.responseType=t.responseType;var n=this.stats;n.tfirst=0,n.loaded=0,this.xhrSetup&&this.xhrSetup(e,t.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,n=t.readyState,r=this.stats,a=this.context,o=this.config;if(!r.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===n){var s=t.status;if(s>=200&&s<300){r.tload=Math.max(r.tfirst,performance.now());var u=void 0,l=void 0;l="arraybuffer"===a.responseType?(u=t.response).byteLength:(u=t.responseText).length,r.loaded=r.total=l;var c={url:t.responseURL,data:u};this.callbacks.onSuccess(c,r,a)}else r.retry>=o.maxRetry||s>=400&&s<499?(i.logger.error(s+" while loading "+a.url),this.callbacks.onError({code:s,text:t.statusText},a)):(i.logger.warn(s+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)}},{key:"loadtimeout",value:function(){i.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total);var n=this.callbacks.onProgress;n&&n(t,this.context,null)}}]),e}();n.default=a},{45:45}]},{},[33])(33)},vDqi:function(e,t,n){e.exports=n("zuR4")},vgmO:function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n("yLpj"))},vuIU:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},w0Vi:function(e,t,n){"use strict";var r=n("xTJ+"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},wTVA:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},wkBT:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},wx14:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},x86X:function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},xAGQ:function(e,t,n){"use strict";var r=n("xTJ+");e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},"xBx/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateNextState=t.getUnexpectedInvocationParameterMessage=t.getStateName=void 0;var r=o(n("mhMR")),i=o(n("Aso2")),a=o(n("jtUC"));function o(e){return e&&e.__esModule?e:{default:e}}t.getStateName=r.default,t.getUnexpectedInvocationParameterMessage=i.default,t.validateNextState=a.default},xDdU:function(e,t,n){var r,i,a=n("4fRq"),o=n("I2ZF"),s=0,u=0;e.exports=function(e,t,n){var l=t&&n||0,c=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var h=a();null==d&&(d=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:u+1,g=p-s+(m-u)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=m,i=f;var v=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;c[l++]=v>>>24&255,c[l++]=v>>>16&255,c[l++]=v>>>8&255,c[l++]=255&v;var y=p/4294967296*1e4&268435455;c[l++]=y>>>8&255,c[l++]=255&y,c[l++]=y>>>24&15|16,c[l++]=y>>>16&255,c[l++]=f>>>8|128,c[l++]=255&f;for(var b=0;b<6;++b)c[l+b]=d[b];return t||o(c)}},"xTJ+":function(e,t,n){"use strict";var r=n("HSsa"),i=n("x86X"),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function s(e){return null!==e&&"object"===typeof e}function u(e){return"[object Function]"===a.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isUndefined:function(e){return"undefined"===typeof e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){"object"===typeof t[r]&&"object"===typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},xk4V:function(e,t,n){var r=n("4fRq"),i=n("I2ZF");e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},yK9s:function(e,t,n){"use strict";var r=n("xTJ+");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},yXPU:function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},zFeg:function(e,t,n){(function(t){var r,i="undefined"!==typeof t?t:"undefined"!==typeof window?window:{},a=n(1);"undefined"!==typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=r}).call(this,n("yLpj"))},zLVn:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},zteo:function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType;t.a=i},zuR4:function(e,t,n){"use strict";var r=n("xTJ+"),i=n("HSsa"),a=n("CgaS"),o=n("JEQr");function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var u=s(o);u.Axios=a,u.create=function(e){return s(r.merge(o,e))},u.Cancel=n("endd"),u.CancelToken=n("jfS+"),u.isCancel=n("Lmem"),u.all=function(e){return Promise.all(e)},u.spread=n("DfZB"),e.exports=u,e.exports.default=u}}]);
//# sourceMappingURL=vendors~main.95c03b027b1c7d105861.chunk.js.map