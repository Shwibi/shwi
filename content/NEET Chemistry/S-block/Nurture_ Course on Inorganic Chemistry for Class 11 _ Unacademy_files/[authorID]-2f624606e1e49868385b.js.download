(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5814],{87970:function(e,t,r){"use strict";r.r(t);var a=r(809),n=r.n(a),u=r(92447),s=r(85893),o=r(67294),i=r(19672),c=r(59919),l=r(11163),d=r(11174),h=r(13572),f=r(70991),p=r(63395),v=function(e){var t=e.statusCode,r=e.username,a=e.authorID,n=e.isEducator,u=(0,l.useRouter)();return(0,o.useEffect)((function(){a.startsWith("@")||u.push("/[authorID]","/@".concat(r),{shallow:!0})}),[]),404===t?(0,s.jsx)(p.default,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{username:r,isEducator:n}),(0,s.jsx)(i.Z,{username:r})]})};v.pageInfo={name:"Educator Profile"},t.default=v,v.getInitialProps=function(){var e=(0,u.Z)(n().mark((function e(t){var r,a,u,s,o,i,c,l,p,v,g,E,_,b,x,I,w;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.store,a=t.isServer,u=t.query,s=t.res,o=u.authorID,i=o,o.startsWith("@")&&(i=o.substr(1).toLowerCase()),c=[],l=!1,!i){e.next=25;break}if(_=(null===(p=r.getState().auth.selectedGoal)||void 0===p?void 0:p.uid)||"",c.push(r.dispatch((0,h.SM)(i,_))),c.push(r.dispatch((0,h.FA)(i))),!c.length){e.next=13;break}return e.next=13,Promise.all(c);case 13:if(c=[],null!==(b=r.getState().users.data[i])&&void 0!==b&&b.isEducator||null!==b&&void 0!==b&&b.isModerator){e.next=20;break}if(!a){e.next=19;break}return s.writeHead(302,{Location:"/learner/".concat(o)}),e.abrupt("return",s.end());case 19:return e.abrupt("return",(0,f.Z)("/learner/[learnerUID]","/learner/".concat(o)));case 20:x=(null===b||void 0===b||null===(v=b.leaderboardMetaInfo)||void 0===v||null===(g=v.goal)||void 0===g?void 0:g.uid)||null,I=(null===(E=r.getState().topologies.data[x])||void 0===E?void 0:E.selfDataFetched)||!1,x&&!I&&c.push(r.dispatch((0,d.Yn)(x))),(l=!(null===b||void 0===b||!b.isEducator))?c.push(r.dispatch((0,h.Di)(i,!1))):(c.push(r.dispatch((0,h.a_)(i,!1))),r.getState().auth.isLoggedIn&&c.push(r.dispatch((0,h.AM)(i))));case 25:if(!c.length){e.next=28;break}return e.next=28,Promise.all(c);case 28:return w=r.getState().users.profileInfo[i],e.abrupt("return",{isServer:a,statusCode:w?200:404,username:i,authorID:o,isEducator:l});case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v.defaultProps={username:"",authorID:"",isEducator:!1}},32963:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[authorID]",function(){return r(87970)}])}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,681,809,3433,4588,9138,9322,5255,3768,296,5421,7006,2962,3521,8616,6598,3695,9998,2766,4801,3572,115,1304,4426,6736],(function(){return t(49484),t(32963)}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=[authorID]-2f624606e1e49868385b.js.map